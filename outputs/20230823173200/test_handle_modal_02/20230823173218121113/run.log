INFO  2023-08-23 17:32:18,123 minitest.py _miniSetUp      340 =========Current case: test_handle_modal_02=========
INFO  2023-08-23 17:32:18,123 minitest.py _miniSetUp      343 package info: D:.路路游小程序.tests.test_login, case info: TestShouYe_1.test_handle_modal_02
INFO  2023-08-23 17:32:18,124 basenative.py wrapper         24  call BaseNative.check_connection
INFO  2023-08-23 17:32:18,125 basenative.py wrapper         28  call BaseNative.check_connection end
INFO  2023-08-23 17:32:18,127 minitest.py capture         686 capture setup.png
INFO  2023-08-23 17:32:18,129 basenative.py wrapper         24  call IdeNative.screen_shot
DEBUG 2023-08-23 17:32:18,130 connection.py _safely_send    417 SEND > {"id":"ef120607-3fa3-417f-843d-7932b388a3c8","method":"App.captureScreenshot","params":{}}
DEBUG 2023-08-23 17:32:18,273 connection.py _on_message     650 RECV < {"id":"ef120607-3fa3-417f-843d-7932b388a3c8","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAawAAANDCAIAAAB+J7yFAAAAAXNSR0IArs4c6QAAIABJREFUeJzs3VlsHedh//3ZZ86+L9x5SIqbqJWyZS2WFadxEjuJEwco2rhL3AZN8b7ogqItUAQFAhRoLtrLtMA/CVK0yZtmqWs7dh3bsaRItixbokRxFUVxEdez7/tsz3sxySn/kmxLFC3Rmt/nypwzq4F888zMc45pQggFAGBKhBDmfp8DAMD9hAgCgKkhggBgaoggAJgaIggApoYIAoCpIYIAYGqIIACYGiIIAKaGCAKAqSGCAGBqiCAAmBoiCACmhggCgKkhggBgatydblBR63VdERneyokfxQkBANxLdzwS1Imu6ZpO6R/F2QAA3GM0flkaAEwLvywNAGaHCAKAqSGCAGBqiCAAmBoiCACmhggCgKkhggBgaoggAJ...
INFO  2023-08-23 17:32:18,276 basenative.py wrapper         28  call IdeNative.screen_shot end
INFO  2023-08-23 17:32:18,277 minitest.py _miniSetUp      393 =========case: test_handle_modal_02 start=========
DEBUG 2023-08-23 17:32:18,278 connection.py _safely_send    417 SEND > {"id":"12e008b3-b0df-49e4-9db7-9bdf69a1c2e9","method":"App.addBinding","params":{"name":"showModal_super_callback"}}
DEBUG 2023-08-23 17:32:18,280 connection.py _on_message     652 RECV < {"id":"12e008b3-b0df-49e4-9db7-9bdf69a1c2e9","result":{}}
DEBUG 2023-08-23 17:32:18,282 connection.py _safely_send    417 SEND > {"id":"7d748e6d-e7d9-45ba-9c71-0d892a133519","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethod(){var e,_=wx._MINI_WX_PROXY_||wx;_.showModal_MiniumOrigin?e=_.showModal_MiniumOrigin:(e=_.showModal,Object.defineProperty(_,\"showModal_MiniumOrigin\",{configurable:!0,get:()=>e})),Object.defineProperty(_,\"showModal\",{configurable:!0,get:()=>function(..._){var t,n=_[0],$=!1;if(\"showModal\".endsWith(\"Sync\")||n&&(n.success||n.fail||n.complete)||($=!0),\"undefined\"!=typeof showModal_super_before&&showModal_super_before(..._),\"undefined\"!=typeof showModal_super_callback)if($)t=e(..._).then((function(e){return showModal_super_callback(e),e})).catch((function(e){throw showModal_super_callback(e),e}));else{if(n){var o=n.complete;n.complete=function(e){showModal_super_callback(e),o&&o(e)}}t=e(..._)}else t=e(..._);return\"undefined\"!=typeof showModal_super_after&&showModal_super_after(t),t}})}","args":[]}}
DEBUG 2023-08-23 17:32:18,286 connection.py _on_message     652 RECV < {"id":"7d748e6d-e7d9-45ba-9c71-0d892a133519","result":{}}
INFO  2023-08-23 17:32:18,287 page.py    _get_elements_by_css 557 try to get elements: text="安徽省-安庆市!"
DEBUG 2023-08-23 17:32:18,289 connection.py _safely_send    417 SEND > {"id":"27546678-2db4-4028-93ca-1c2c5b0ed449","method":"Page.getElements","params":{"selector":"text=\"\u5b89\u5fbd\u7701-\u5b89\u5e86\u5e02!\"","pageId":183}}
DEBUG 2023-08-23 17:32:18,310 connection.py _on_message     650 RECV < {"id":"27546678-2db4-4028-93ca-1c2c5b0ed449","result":{"elements":[{"elementId":"b2df8bc3-2199-437b-ae93-bd66e1e056c5","tagName":"text"},{"elementId":"391be531-1608-455b-9be8-8625f497b0e0","tagName":"text"},{"elementId":"49f4f92f-aadd-4d0b-a395-ac1702c0864f","tagName":"text"},{"elementId":"66d05c50-e996-4f9a-9aee-ad3a000a5153","tagName":"text"},{"elementId":"289bdaae-09be-407c-b11f-d97e1c5f70cf","tagName":"text"},{"elementId":"de7b3533-ea3b-4621-a177-2d0cd6e718fd","tagName":"text"},{"elementId":"6509968a...
INFO  2023-08-23 17:32:18,312 page.py    _get_elements_by_css 564 find elements success: [<minium.miniprogram.base_driver.element.BaseElement object at 0x000001D6A96310F0>]
DEBUG 2023-08-23 17:32:18,314 connection.py _safely_send    417 SEND > {"id":"cbbb266a-2f7e-4946-bc95-daa3cb12ae15","method":"Element.tap","params":{"elementId":"b2df8bc3-2199-437b-ae93-bd66e1e056c5","pageId":183}}
DEBUG 2023-08-23 17:32:18,320 connection.py _on_message     652 RECV < {"id":"cbbb266a-2f7e-4946-bc95-daa3cb12ae15","result":{}}
INFO  2023-08-23 17:32:20,333 basenative.py wrapper         24  call IdeNative.handle_modal
INFO  2023-08-23 17:32:20,335 basenative.py wrapper         24  call IdeNative.send
DEBUG 2023-08-23 17:32:20,335 connection.py _safely_send    417 SEND > {"id":"bfda6295-49dc-43e8-8956-30235d407470","method":"Tool.native","params":{"method":"confirmModal","data":null}}
DEBUG 2023-08-23 17:32:20,342 connection.py _on_message     652 RECV < {"id":"bfda6295-49dc-43e8-8956-30235d407470","result":{}}
INFO  2023-08-23 17:32:20,343 basenative.py wrapper         28  call IdeNative.send end
INFO  2023-08-23 17:32:20,345 basenative.py wrapper         27  IdeNative.handle_modal return {'id': 'bfda6295-49dc-43e8-8956-30235d407470', 'result': {}}
INFO  2023-08-23 17:32:20,347 basenative.py wrapper         28  call IdeNative.handle_modal end
DEBUG 2023-08-23 17:32:20,348 connection.py _safely_send    417 SEND > {"id":"1d69b6c9-680c-4cc1-8dfe-88ece659d981","method":"Page.getElementsByXpath","params":{"selector":"//*[@id=\"nav-item-notice\"]/navigator[1]/view","pageId":183}}
DEBUG 2023-08-23 17:32:20,356 connection.py _on_message     652 RECV < {"method":"App.bindingCalled","params":{"name":"showModal_super_callback","args":[{"errMsg":"showModal:ok","cancel":false,"confirm":true,"content":null}]}}
DEBUG 2023-08-23 17:32:20,360 app.py     super_callback  971 wx.showModal callback hook result: [{'errMsg': 'showModal:ok', 'cancel': False, 'confirm': True, 'content': None}]
DEBUG 2023-08-23 17:32:20,362 app.py     super_callback  971 wx.showModal callback hook result: [{'errMsg': 'showModal:ok', 'cancel': False, 'confirm': True, 'content': None}]
DEBUG 2023-08-23 17:32:20,374 connection.py _on_message     652 RECV < {"id":"1d69b6c9-680c-4cc1-8dfe-88ece659d981","error":{"message":"page destroyed"}}
ERROR 2023-08-23 17:32:20,375 connection.py _on_message     660 [1d69b6c9-680c-4cc1-8dfe-88ece659d981]: page destroyed
DEBUG 2023-08-23 17:32:20,377 connection.py _safely_send    417 SEND > {"id":"4e68e048-cb12-4c8e-8131-95bcc2464258","method":"Page.getElementsByXpath","params":{"selector":"//*[@id=\"nav-item-notice\"]/navigator[1]/view","pageId":183}}
DEBUG 2023-08-23 17:32:20,384 connection.py _on_message     652 RECV < {"id":"4e68e048-cb12-4c8e-8131-95bcc2464258","error":{"message":"page destroyed"}}
ERROR 2023-08-23 17:32:20,401 connection.py _on_message     660 [4e68e048-cb12-4c8e-8131-95bcc2464258]: page destroyed
DEBUG 2023-08-23 17:32:20,405 minitest.py _miniTearDown   589 =========Current case Down: test_handle_modal_02=========
INFO  2023-08-23 17:32:20,408 minitest.py capture         686 capture teardown.png
INFO  2023-08-23 17:32:20,409 basenative.py wrapper         24  call IdeNative.screen_shot
DEBUG 2023-08-23 17:32:20,411 connection.py _safely_send    417 SEND > {"id":"3d62446d-9812-4ec7-b672-557b2106800b","method":"App.captureScreenshot","params":{}}
DEBUG 2023-08-23 17:32:20,594 connection.py _on_message     652 RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":159,"path":"pages/index/index","query":{},"openType":"navigateBack","__ts__":1692783140558},1692783140559]}}
DEBUG 2023-08-23 17:32:20,598 connection.py _on_message     652 RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":159,"path":"pages/index/index","query":{},"openType":"navigateBack","__ts__":1692783140580},1692783140583]}}
INFO  2023-08-23 17:32:20,599 app.py     _on_route_changed 845 Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 159, 'path': 'pages/index/index', 'query': {}, 'openType': 'navigateBack', '__ts__': 1692783140558}, 1692783140559]}
INFO  2023-08-23 17:32:20,603 app.py     _on_route_changed 845 Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 159, 'path': 'pages/index/index', 'query': {}, 'openType': 'navigateBack', '__ts__': 1692783140580}, 1692783140583]}
DEBUG 2023-08-23 17:32:21,918 connection.py _on_message     650 RECV < {"id":"3d62446d-9812-4ec7-b672-557b2106800b","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAawAAAOeCAIAAADQh7N0AAAAAXNSR0IArs4c6QAAIABJREFUeJx8vdtyJFuuJOYOrEiy9u6ZI2ke5qv0VfpMvUlmGpPGRkene1eRGbEA1wOAyKw+I2WzabVJZkbEigWHw3EJ/s//y/96mDlggElUEkklSTPWC4DmFWZJCyki9t6ZiXlJEuBr0YxuMAOQmTtiR1z72nunlKApqTqcLGWSA066wUhzGWFMMBXJhGSQSUghU0JmZsROZSillHKOLwB1znXykkiaGWlmZjCb/3AzNzPQzYz84+Pj87HMaY61fDmX8TAsw2F8uFNYy3y5LYJ57evnr++fP7/OK3Zq7zyv6/z+3ufTIGVkBBQGGeGgw5bZY9lj8eF8OBbCKKeM6Z5r6bH8Y9nhOiwP6mPhMDyOtVYejsP5cC6DWy7TQX...
INFO  2023-08-23 17:32:21,922 basenative.py wrapper         28  call IdeNative.screen_shot end
INFO  2023-08-23 17:32:21,923 basenative.py wrapper         24  call BaseNative.get_start_up
INFO  2023-08-23 17:32:21,924 basenative.py wrapper         28  call BaseNative.get_start_up end
ERROR 2023-08-23 17:32:21,933 assertbase.py _get_stack_info 341 <bound method TestShouYe_1.test_handle_modal_02 of <tests.test_login.TestShouYe_1 testMethod=test_handle_modal_02>>
Traceback (most recent call last):
  File "D:\software\python-3.10.10\lib\site-packages\minium\miniprogram\base_driver\app.py", line 214, in wrapper
    return func(*args, **kwargs)
  File "D:\software\python-3.10.10\lib\site-packages\minium\miniprogram\base_driver\minium_log.py", line 172, in wrapper
    result = func(*args, **kwargs)
  File "D:\software\python-3.10.10\lib\site-packages\minium\miniprogram\base_driver\page.py", line 373, in get_elements
    return self.get_elements_by_xpath(
  File "D:\software\python-3.10.10\lib\site-packages\minium\miniprogram\base_driver\minium_log.py", line 172, in wrapper
    result = func(*args, **kwargs)
  File "D:\software\python-3.10.10\lib\site-packages\minium\miniprogram\base_driver\page.py", line 441, in get_elements_by_xpath
    return search_elements()
  File "D:\software\python-3.10.10\lib\site-packages\minium\utils\utils.py", line 56, in wrapper
    r = func(*args, **kwargs)
  File "D:\software\python-3.10.10\lib\site-packages\minium\miniprogram\base_driver\page.py", line 439, in search_elements
    return self._get_elements_by_xpath(xpath, index=index)
  File "D:\software\python-3.10.10\lib\site-packages\minium\utils\utils.py", line 82, in wrapper
    ret = func(*args, **kwargs)
  File "D:\software\python-3.10.10\lib\site-packages\minium\miniprogram\base_driver\page.py", line 658, in _get_elements_by_xpath
    ret = self._send("Page.getElementsByXpath", {"selector": xpath})
  File "D:\software\python-3.10.10\lib\site-packages\minium\miniprogram\base_driver\page.py", line 488, in _send
    self.connection.send(method, params)
  File "D:\software\python-3.10.10\lib\site-packages\minium\miniprogram\base_driver\connection.py", line 447, in send
    return self._receive_response(cmd)
  File "D:\software\python-3.10.10\lib\site-packages\minium\miniprogram\base_driver\connection.py", line 473, in _receive_response
    raise response
minium.framework.exception.PageDestroyed: page destroyed

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\software\python-3.10.10\lib\site-packages\minium\framework\libs\unittest\case.py", line 265, in testPartExecutor
    yield
  File "D:\software\python-3.10.10\lib\site-packages\minium\framework\libs\unittest\case.py", line 350, in run
    self._callTestMethod(testMethod)
  File "D:\software\python-3.10.10\lib\unittest\case.py", line 549, in _callTestMethod
    method()
  File "D:\路路游小程序\tests\test_login.py", line 145, in test_handle_modal_02
    elements = self.page.get_elements(
  File "D:\software\python-3.10.10\lib\site-packages\minium\miniprogram\base_driver\app.py", line 217, in wrapper
    return attr(*args, **kwargs)
  File "D:\software\python-3.10.10\lib\site-packages\minium\miniprogram\base_driver\minium_log.py", line 172, in wrapper
    result = func(*args, **kwargs)
  File "D:\software\python-3.10.10\lib\site-packages\minium\miniprogram\base_driver\page.py", line 373, in get_elements
    return self.get_elements_by_xpath(
  File "D:\software\python-3.10.10\lib\site-packages\minium\miniprogram\base_driver\minium_log.py", line 172, in wrapper
    result = func(*args, **kwargs)
  File "D:\software\python-3.10.10\lib\site-packages\minium\miniprogram\base_driver\page.py", line 441, in get_elements_by_xpath
    return search_elements()
  File "D:\software\python-3.10.10\lib\site-packages\minium\utils\utils.py", line 56, in wrapper
    r = func(*args, **kwargs)
  File "D:\software\python-3.10.10\lib\site-packages\minium\miniprogram\base_driver\page.py", line 439, in search_elements
    return self._get_elements_by_xpath(xpath, index=index)
  File "D:\software\python-3.10.10\lib\site-packages\minium\utils\utils.py", line 82, in wrapper
    ret = func(*args, **kwargs)
  File "D:\software\python-3.10.10\lib\site-packages\minium\miniprogram\base_driver\page.py", line 658, in _get_elements_by_xpath
    ret = self._send("Page.getElementsByXpath", {"selector": xpath})
  File "D:\software\python-3.10.10\lib\site-packages\minium\miniprogram\base_driver\page.py", line 488, in _send
    self.connection.send(method, params)
  File "D:\software\python-3.10.10\lib\site-packages\minium\miniprogram\base_driver\connection.py", line 447, in send
    return self._receive_response(cmd)
  File "D:\software\python-3.10.10\lib\site-packages\minium\miniprogram\base_driver\connection.py", line 473, in _receive_response
    raise response
minium.framework.exception.PageDestroyed: page destroyed
