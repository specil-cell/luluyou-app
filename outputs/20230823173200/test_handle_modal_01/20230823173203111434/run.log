INFO  2023-08-23 17:32:03,112 minitest.py _miniSetUp      340 =========Current case: test_handle_modal_01=========
INFO  2023-08-23 17:32:03,113 minitest.py _miniSetUp      343 package info: D:.路路游小程序.tests.test_login, case info: TestShouYe_1.test_handle_modal_01
INFO  2023-08-23 17:32:03,114 basenative.py wrapper         24  call BaseNative.check_connection
INFO  2023-08-23 17:32:03,116 basenative.py wrapper         28  call BaseNative.check_connection end
INFO  2023-08-23 17:32:03,117 minitest.py capture         686 capture setup.png
INFO  2023-08-23 17:32:03,117 basenative.py wrapper         24  call IdeNative.screen_shot
DEBUG 2023-08-23 17:32:03,118 connection.py _safely_send    417 SEND > {"id":"4c71ce9e-4559-4021-8a74-5f6d7d53f450","method":"App.captureScreenshot","params":{}}
DEBUG 2023-08-23 17:32:04,620 connection.py _on_message     650 RECV < {"id":"4c71ce9e-4559-4021-8a74-5f6d7d53f450","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAawAAAOeCAIAAADQh7N0AAAAAXNSR0IArs4c6QAAIABJREFUeJx8vdtyJFuuJOYOrEiy9u6ZI2ke5qv0VfpMvUlmGpPGRkene1eRGbEA1wOAyKw+I2WzabVJZkbEigWHw3EJ/s//y/96mDlggElUEkklSTPWC4DmFWZJCyki9t6ZiXlJEuBr0YxuMAOQmTtiR1z72nunlKApqTqcLGWSA066wUhzGWFMMBXJhGSQSUghU0JmZsROZSillHKOLwB1znXykkiaGWlmZjCb/3AzNzPQzYz84+Pj87HMaY61fDmX8TAsw2F8uFNYy3y5LYJ57evnr++fP7/OK3Zq7zyv6/z+3ufTIGVkBBQGGeGgw5bZY9lj8eF8OBbCKKeM6Z5r6bH8Y9nhOiwP6mPhMDyOtVYejsP5cC6DWy7TQX...
INFO  2023-08-23 17:32:04,624 basenative.py wrapper         28  call IdeNative.screen_shot end
INFO  2023-08-23 17:32:04,625 minitest.py _miniSetUp      393 =========case: test_handle_modal_01 start=========
DEBUG 2023-08-23 17:32:04,626 connection.py _safely_send    417 SEND > {"id":"d6159e37-9579-43de-b3ab-1f65492da948","method":"App.addBinding","params":{"name":"showModal_super_callback"}}
DEBUG 2023-08-23 17:32:04,629 connection.py _on_message     652 RECV < {"id":"d6159e37-9579-43de-b3ab-1f65492da948","result":{}}
DEBUG 2023-08-23 17:32:04,631 connection.py _safely_send    417 SEND > {"id":"4e9a3bb0-9783-46e1-a71e-0166d3c22c1f","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethod(){var e,_=wx._MINI_WX_PROXY_||wx;_.showModal_MiniumOrigin?e=_.showModal_MiniumOrigin:(e=_.showModal,Object.defineProperty(_,\"showModal_MiniumOrigin\",{configurable:!0,get:()=>e})),Object.defineProperty(_,\"showModal\",{configurable:!0,get:()=>function(..._){var t,n=_[0],$=!1;if(\"showModal\".endsWith(\"Sync\")||n&&(n.success||n.fail||n.complete)||($=!0),\"undefined\"!=typeof showModal_super_before&&showModal_super_before(..._),\"undefined\"!=typeof showModal_super_callback)if($)t=e(..._).then((function(e){return showModal_super_callback(e),e})).catch((function(e){throw showModal_super_callback(e),e}));else{if(n){var o=n.complete;n.complete=function(e){showModal_super_callback(e),o&&o(e)}}t=e(..._)}else t=e(..._);return\"undefined\"!=typeof showModal_super_after&&showModal_super_after(t),t}})}","args":[]}}
DEBUG 2023-08-23 17:32:04,635 connection.py _on_message     652 RECV < {"id":"4e9a3bb0-9783-46e1-a71e-0166d3c22c1f","result":{}}
DEBUG 2023-08-23 17:32:04,636 connection.py _safely_send    417 SEND > {"id":"1ac83cba-ea22-4af8-8e1b-71b2de51a465","method":"App.getCurrentPage","params":{}}
DEBUG 2023-08-23 17:32:04,640 connection.py _on_message     652 RECV < {"id":"1ac83cba-ea22-4af8-8e1b-71b2de51a465","result":{"pageId":159,"path":"pages/index/index","query":{}}}
INFO  2023-08-23 17:32:04,641 page.py    _get_elements_by_css 557 try to get elements: text="当前为测试模拟环境，请勿进行真实业务行为!"
DEBUG 2023-08-23 17:32:04,642 connection.py _safely_send    417 SEND > {"id":"2a7e4b30-15c7-4b59-958c-fe99fcd7a157","method":"Page.getElements","params":{"selector":"text=\"\u5f53\u524d\u4e3a\u6d4b\u8bd5\u6a21\u62df\u73af\u5883\uff0c\u8bf7\u52ff\u8fdb\u884c\u771f\u5b9e\u4e1a\u52a1\u884c\u4e3a!\"","pageId":159}}
DEBUG 2023-08-23 17:32:04,649 connection.py _on_message     650 RECV < {"id":"2a7e4b30-15c7-4b59-958c-fe99fcd7a157","result":{"elements":[{"elementId":"1721000d-9d42-4f04-be79-3f63b25b6d5b","tagName":"text"},{"elementId":"b595a7dd-f806-426b-8e61-01b3a89304b8","tagName":"text"},{"elementId":"e9efe067-3318-4d8f-b9c8-b4a3487e7b78","tagName":"text"},{"elementId":"2bba226f-2f7f-4101-a6d9-3f67dac33a85","tagName":"text"},{"elementId":"80b4be48-e1d9-45c7-997d-091fb4540d57","tagName":"text"},{"elementId":"c6f0b4e6-8573-420a-9f81-a239e0432c95","tagName":"text"},{"elementId":"83f37b86...
INFO  2023-08-23 17:32:04,651 page.py    _get_elements_by_css 564 find elements success: [<minium.miniprogram.base_driver.element.BaseElement object at 0x000001D6A963D540>]
DEBUG 2023-08-23 17:32:04,652 connection.py _safely_send    417 SEND > {"id":"f925ad6b-e42b-449e-aade-094cb395dda2","method":"Element.tap","params":{"elementId":"1721000d-9d42-4f04-be79-3f63b25b6d5b","pageId":159}}
DEBUG 2023-08-23 17:32:04,724 connection.py _on_message     652 RECV < {"id":"f925ad6b-e42b-449e-aade-094cb395dda2","result":{}}
DEBUG 2023-08-23 17:32:05,325 connection.py _on_message     652 RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":183,"path":"pages/common/selected_city","query":{},"openType":"navigateTo","__ts__":1692783125306},1692783125309]}}
INFO  2023-08-23 17:32:05,334 app.py     _on_route_changed 845 Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 183, 'path': 'pages/common/selected_city', 'query': {}, 'openType': 'navigateTo', '__ts__': 1692783125306}, 1692783125309]}
DEBUG 2023-08-23 17:32:05,556 connection.py _on_message     650 RECV < {"method":"App.exceptionThrown","params":{"message":"_this.setLocationData is not a function","stack":"TypeError: _this.setLocationData is not a function\n    at Object.success (http://127.0.0.1:29252/appservice/pages/common/selected_city.js?t=wechat&s=1692762371060&v=9645cfe03f84cc02692ef5cb9c6738fb:182:31)\n    at Object.handleData (http://127.0.0.1:29252/appservice/common/vendor.js?t=wechat&s=1692762371060&v=89b5c89f382fa501a7bab0cabe2e6de7:12607:15)\n    at options.success (http://127.0.0.1:29252/app...
INFO  2023-08-23 17:32:06,727 basenative.py wrapper         24  call IdeNative.handle_modal
INFO  2023-08-23 17:32:06,730 basenative.py wrapper         24  call IdeNative.send
DEBUG 2023-08-23 17:32:06,730 connection.py _safely_send    417 SEND > {"id":"8d242b12-62b1-4d6b-b0d1-37877c11ebe6","method":"Tool.native","params":{"method":"confirmModal","data":null}}
DEBUG 2023-08-23 17:32:06,733 connection.py _on_message     652 RECV < {"id":"8d242b12-62b1-4d6b-b0d1-37877c11ebe6","result":{"error":{"message":"confirmModal failed"}}}
WARNI 2023-08-23 17:32:06,734 idenative.py send            65  handle confirmModal error: confirmModal failed
INFO  2023-08-23 17:32:06,735 basenative.py wrapper         28  call IdeNative.send end
INFO  2023-08-23 17:32:06,736 basenative.py wrapper         27  IdeNative.handle_modal return {'id': '8d242b12-62b1-4d6b-b0d1-37877c11ebe6', 'result': {'error': {'message': 'confirmModal failed'}}}
INFO  2023-08-23 17:32:06,736 basenative.py wrapper         28  call IdeNative.handle_modal end
DEBUG 2023-08-23 17:32:06,737 connection.py _safely_send    417 SEND > {"id":"5f9393e9-c981-4d5a-af53-f0d34f3f4c1a","method":"Page.getElementsByXpath","params":{"selector":"/view/biz-index-head/view/view","pageId":183}}
DEBUG 2023-08-23 17:32:06,748 connection.py _on_message     652 RECV < {"id":"5f9393e9-c981-4d5a-af53-f0d34f3f4c1a","result":{"elements":[]}}
DEBUG 2023-08-23 17:32:08,754 connection.py _safely_send    417 SEND > {"id":"b3bbdd2c-8587-4633-93dc-b5ac410a3683","method":"Page.getElementsByXpath","params":{"selector":"/lee-select-city/view/view/view/scroll-view[1]/view/view[2]","pageId":183}}
DEBUG 2023-08-23 17:32:08,760 connection.py _on_message     652 RECV < {"id":"b3bbdd2c-8587-4633-93dc-b5ac410a3683","result":{"elements":[{"elementId":"77681eee-b683-48e2-b947-3124f8d02fc8","tagName":"view"}]}}
DEBUG 2023-08-23 17:32:08,763 connection.py _safely_send    417 SEND > {"id":"816cc368-364d-4e88-8273-c59afe6f4fd4","method":"Element.getStyles","params":{"names":["pointer-events"],"elementId":"77681eee-b683-48e2-b947-3124f8d02fc8","pageId":183}}
DEBUG 2023-08-23 17:32:08,768 connection.py _on_message     652 RECV < {"id":"816cc368-364d-4e88-8273-c59afe6f4fd4","result":{"styles":["auto"]}}
DEBUG 2023-08-23 17:32:08,770 connection.py _safely_send    417 SEND > {"id":"32913f8c-be68-4bb5-ac72-510393bd2c1b","method":"Element.tap","params":{"elementId":"77681eee-b683-48e2-b947-3124f8d02fc8","pageId":183}}
DEBUG 2023-08-23 17:32:08,790 connection.py _on_message     652 RECV < {"id":"32913f8c-be68-4bb5-ac72-510393bd2c1b","result":{}}
DEBUG 2023-08-23 17:32:11,805 connection.py _safely_send    417 SEND > {"id":"264e7d11-4eeb-4e7c-ae2d-754e5b4202ad","method":"Page.getElementsByXpath","params":{"selector":"/lee-select-city/view/view/view/scroll-view[1]/view/lee-latter-list/view/view[1]/view[2]/view[1]","pageId":183}}
DEBUG 2023-08-23 17:32:11,811 connection.py _on_message     652 RECV < {"id":"264e7d11-4eeb-4e7c-ae2d-754e5b4202ad","result":{"elements":[{"elementId":"1f72b916-e169-4a97-9d79-eaa3738c951d","tagName":"view"}]}}
DEBUG 2023-08-23 17:32:11,812 connection.py _safely_send    417 SEND > {"id":"88dfbee9-c5a8-4595-bc50-95241e89902c","method":"Element.getStyles","params":{"names":["pointer-events"],"elementId":"1f72b916-e169-4a97-9d79-eaa3738c951d","pageId":183}}
DEBUG 2023-08-23 17:32:11,816 connection.py _on_message     652 RECV < {"id":"88dfbee9-c5a8-4595-bc50-95241e89902c","result":{"styles":["auto"]}}
DEBUG 2023-08-23 17:32:11,818 connection.py _safely_send    417 SEND > {"id":"1b519307-0134-410a-a039-d0b4889f2f58","method":"Element.tap","params":{"elementId":"1f72b916-e169-4a97-9d79-eaa3738c951d","pageId":183}}
DEBUG 2023-08-23 17:32:11,835 connection.py _on_message     652 RECV < {"id":"1b519307-0134-410a-a039-d0b4889f2f58","result":{}}
DEBUG 2023-08-23 17:32:14,858 connection.py _safely_send    417 SEND > {"id":"237e742f-56fe-4730-bfff-ecb1024af2e9","method":"Page.getElementsByXpath","params":{"selector":"/lee-select-city/view/view[2]/view/scroll-view[2]/view/lee-latter-list/view/view[1]/view[2]/view","pageId":183}}
DEBUG 2023-08-23 17:32:14,867 connection.py _on_message     652 RECV < {"id":"237e742f-56fe-4730-bfff-ecb1024af2e9","result":{"elements":[{"elementId":"608b7603-75da-4ebb-9f3f-5193a264fd61","tagName":"view"}]}}
DEBUG 2023-08-23 17:32:14,868 connection.py _safely_send    417 SEND > {"id":"b3ddf0a7-f662-443c-abe0-1363c03e73ee","method":"Element.getStyles","params":{"names":["pointer-events"],"elementId":"608b7603-75da-4ebb-9f3f-5193a264fd61","pageId":183}}
DEBUG 2023-08-23 17:32:14,872 connection.py _on_message     652 RECV < {"id":"b3ddf0a7-f662-443c-abe0-1363c03e73ee","result":{"styles":["auto"]}}
DEBUG 2023-08-23 17:32:14,875 connection.py _safely_send    417 SEND > {"id":"41e17501-b750-4a1b-a551-66a1f4aad141","method":"Element.tap","params":{"elementId":"608b7603-75da-4ebb-9f3f-5193a264fd61","pageId":183}}
DEBUG 2023-08-23 17:32:14,900 connection.py _on_message     652 RECV < {"id":"41e17501-b750-4a1b-a551-66a1f4aad141","result":{}}
DEBUG 2023-08-23 17:32:17,924 minitest.py _miniTearDown   589 =========Current case Down: test_handle_modal_01=========
INFO  2023-08-23 17:32:17,926 minitest.py capture         686 capture teardown.png
INFO  2023-08-23 17:32:17,927 basenative.py wrapper         24  call IdeNative.screen_shot
DEBUG 2023-08-23 17:32:17,928 connection.py _safely_send    417 SEND > {"id":"58dd1a0b-f9c4-4c60-8594-79669beb6459","method":"App.captureScreenshot","params":{}}
DEBUG 2023-08-23 17:32:18,088 connection.py _on_message     650 RECV < {"id":"58dd1a0b-f9c4-4c60-8594-79669beb6459","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAawAAANDCAIAAAB+J7yFAAAAAXNSR0IArs4c6QAAIABJREFUeJzs3VlsHedh//3ZZ86+L9x5SIqbqJWyZS2WFadxEjuJEwco2rhL3AZN8b7ogqItUAQFAhRoLtrLtMA/CVK0yZtmqWs7dh3bsaRItixbokRxFUVxEdez7/tsz3sxySn/kmxLFC3Rmt/nypwzq4F888zMc45pQggFAGBKhBDmfp8DAMD9hAgCgKkhggBgaoggAJgaIggApoYIAoCpIYIAYGqIIACYGiIIAKaGCAKAqSGCAGBqiCAAmBoiCACmhggCgKkhggBgatydblBR63VdERneyokfxQkBANxLdzwS1Imu6ZpO6R/F2QAA3GM0flkaAEwLvywNAGaHCAKAqSGCAGBqiCAAmBoiCACmhggCgKkhggBgaoggAJ...
INFO  2023-08-23 17:32:18,090 basenative.py wrapper         28  call IdeNative.screen_shot end
INFO  2023-08-23 17:32:18,092 basenative.py wrapper         24  call BaseNative.get_start_up
INFO  2023-08-23 17:32:18,093 basenative.py wrapper         28  call BaseNative.get_start_up end
