INFO  2023-08-23 14:29:38,793 minitest.py _miniSetUp      340 =========Current case: test_handle_modal_01=========
INFO  2023-08-23 14:29:38,793 minitest.py _miniSetUp      343 package info: D:.路路游小程序.tests.test_login, case info: TestShouye_1.test_handle_modal_01
INFO  2023-08-23 14:29:38,794 basenative.py wrapper         24  call BaseNative.check_connection
INFO  2023-08-23 14:29:38,794 basenative.py wrapper         28  call BaseNative.check_connection end
INFO  2023-08-23 14:29:38,795 minitest.py capture         686 capture setup.png
INFO  2023-08-23 14:29:38,797 basenative.py wrapper         24  call IdeNative.screen_shot
DEBUG 2023-08-23 14:29:38,797 connection.py _safely_send    417 SEND > {"id":"9796344c-1495-42b8-a362-ff544de84a92","method":"App.captureScreenshot","params":{}}
DEBUG 2023-08-23 14:29:39,423 connection.py _on_message     650 RECV < {"id":"9796344c-1495-42b8-a362-ff544de84a92","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAawAAAOeCAIAAADQh7N0AAAAAXNSR0IArs4c6QAAIABJREFUeJzsvVlsZNeZ53mWu0bc2FfuS5LMZO6rUkpZW1qWy3aVLcvtUneXC9VGwwUYU0DD1S8D9Dz0zADdL41pdAMFeFDzUKieKlttW17Gli2lJEtyKrXkvpKZ3Pct9uXGXc+Zh5tJM7klI8ggI8jzA5FgBm+ce9b//b5zvnMu/F8pBXUI3OkMlMvGM0wf/WwwWbjhxMtKuXpsPMMMRrWJUcoZO52JCqjHIVRWnssVwY0nC2pDBBnbQJXqecf7z9ZiAsBpO52JCqjHUVRWnsvVtbLY2dqrESHe9VS1lXdN80EADAA4a6fzUTH1KIUbpFyzsRrJVo9dM4Rqny1v8d3XdhYAHNnpTFSA07S7rz0cYPlF27jvXCPs1rarHa...
INFO  2023-08-23 14:29:39,426 basenative.py wrapper         28  call IdeNative.screen_shot end
INFO  2023-08-23 14:29:39,427 minitest.py _miniSetUp      393 =========case: test_handle_modal_01 start=========
DEBUG 2023-08-23 14:29:39,429 connection.py _safely_send    417 SEND > {"id":"c3b52b15-5691-4efa-ad69-20f617e54816","method":"App.addBinding","params":{"name":"showModal_super_callback"}}
DEBUG 2023-08-23 14:29:39,434 connection.py _on_message     652 RECV < {"id":"c3b52b15-5691-4efa-ad69-20f617e54816","result":{}}
DEBUG 2023-08-23 14:29:39,436 connection.py _safely_send    417 SEND > {"id":"e3d8e148-a4b9-4f2c-a0aa-ec9a18b0d901","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethod(){var e,_=wx._MINI_WX_PROXY_||wx;_.showModal_MiniumOrigin?e=_.showModal_MiniumOrigin:(e=_.showModal,Object.defineProperty(_,\"showModal_MiniumOrigin\",{configurable:!0,get:()=>e})),Object.defineProperty(_,\"showModal\",{configurable:!0,get:()=>function(..._){var t,n=_[0],$=!1;if(\"showModal\".endsWith(\"Sync\")||n&&(n.success||n.fail||n.complete)||($=!0),\"undefined\"!=typeof showModal_super_before&&showModal_super_before(..._),\"undefined\"!=typeof showModal_super_callback)if($)t=e(..._).then((function(e){return showModal_super_callback(e),e})).catch((function(e){throw showModal_super_callback(e),e}));else{if(n){var o=n.complete;n.complete=function(e){showModal_super_callback(e),o&&o(e)}}t=e(..._)}else t=e(..._);return\"undefined\"!=typeof showModal_super_after&&showModal_super_after(t),t}})}","args":[]}}
DEBUG 2023-08-23 14:29:39,441 connection.py _on_message     652 RECV < {"id":"e3d8e148-a4b9-4f2c-a0aa-ec9a18b0d901","result":{}}
DEBUG 2023-08-23 14:29:39,442 connection.py _safely_send    417 SEND > {"id":"fca7b516-3c9a-49e6-8f4d-edf9fcf22e43","method":"App.getCurrentPage","params":{}}
DEBUG 2023-08-23 14:29:39,445 connection.py _on_message     652 RECV < {"id":"fca7b516-3c9a-49e6-8f4d-edf9fcf22e43","result":{"pageId":3,"path":"pages/index/index","query":{}}}
INFO  2023-08-23 14:29:39,447 page.py    _get_elements_by_css 557 try to get elements: text="当前为测试模拟环境，请勿进行真实业务行为!"
DEBUG 2023-08-23 14:29:39,447 connection.py _safely_send    417 SEND > {"id":"7b37fbcd-fd6f-45a6-8e3d-838ceeee0cc5","method":"Page.getElements","params":{"selector":"text=\"\u5f53\u524d\u4e3a\u6d4b\u8bd5\u6a21\u62df\u73af\u5883\uff0c\u8bf7\u52ff\u8fdb\u884c\u771f\u5b9e\u4e1a\u52a1\u884c\u4e3a!\"","pageId":3}}
DEBUG 2023-08-23 14:29:39,456 connection.py _on_message     650 RECV < {"id":"7b37fbcd-fd6f-45a6-8e3d-838ceeee0cc5","result":{"elements":[{"elementId":"d565bff7-5a6c-4beb-99a3-860217cbcf5e","tagName":"text"},{"elementId":"f2a904e4-c0cc-4b60-a724-1c9aa87c8985","tagName":"text"},{"elementId":"9ac15d85-053e-4ed4-a88f-d8fe60e6d267","tagName":"text"},{"elementId":"caf78062-e003-4051-935c-473f30760fe0","tagName":"text"},{"elementId":"c06042b7-ec39-49f8-98c2-2f077f70a8f5","tagName":"text"},{"elementId":"6c8a74fd-b9be-4a33-9884-0fd94e01a835","tagName":"text"},{"elementId":"af548d52...
INFO  2023-08-23 14:29:39,457 page.py    _get_elements_by_css 564 find elements success: [<minium.miniprogram.base_driver.element.BaseElement object at 0x000001C2B259D9F0>]
DEBUG 2023-08-23 14:29:39,458 connection.py _safely_send    417 SEND > {"id":"7bf43227-65c2-43c8-9d41-2db3e07a7864","method":"Element.tap","params":{"elementId":"d565bff7-5a6c-4beb-99a3-860217cbcf5e","pageId":3}}
DEBUG 2023-08-23 14:29:39,527 connection.py _on_message     652 RECV < {"id":"7bf43227-65c2-43c8-9d41-2db3e07a7864","result":{}}
DEBUG 2023-08-23 14:29:40,101 connection.py _on_message     652 RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":22,"path":"pages/common/selected_city","query":{},"openType":"navigateTo","__ts__":1692772180081},1692772180083]}}
INFO  2023-08-23 14:29:40,106 app.py     _on_route_changed 845 Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 22, 'path': 'pages/common/selected_city', 'query': {}, 'openType': 'navigateTo', '__ts__': 1692772180081}, 1692772180083]}
DEBUG 2023-08-23 14:29:40,322 connection.py _on_message     650 RECV < {"method":"App.exceptionThrown","params":{"message":"_this.setLocationData is not a function","stack":"TypeError: _this.setLocationData is not a function\n    at Object.success (http://127.0.0.1:29252/appservice/pages/common/selected_city.js?t=wechat&s=1692762371060&v=9645cfe03f84cc02692ef5cb9c6738fb:182:31)\n    at Object.handleData (http://127.0.0.1:29252/appservice/common/vendor.js?t=wechat&s=1692762371060&v=89b5c89f382fa501a7bab0cabe2e6de7:12607:15)\n    at options.success (http://127.0.0.1:29252/app...
INFO  2023-08-23 14:29:41,529 basenative.py wrapper         24  call IdeNative.handle_modal
INFO  2023-08-23 14:29:41,530 basenative.py wrapper         24  call IdeNative.send
DEBUG 2023-08-23 14:29:41,532 connection.py _safely_send    417 SEND > {"id":"9705494c-ea98-432f-98ac-70a10639e5aa","method":"Tool.native","params":{"method":"confirmModal","data":null}}
DEBUG 2023-08-23 14:29:41,533 connection.py _on_message     652 RECV < {"id":"9705494c-ea98-432f-98ac-70a10639e5aa","result":{"error":{"message":"confirmModal failed"}}}
WARNI 2023-08-23 14:29:41,536 idenative.py send            65  handle confirmModal error: confirmModal failed
INFO  2023-08-23 14:29:41,536 basenative.py wrapper         28  call IdeNative.send end
INFO  2023-08-23 14:29:41,537 basenative.py wrapper         27  IdeNative.handle_modal return {'id': '9705494c-ea98-432f-98ac-70a10639e5aa', 'result': {'error': {'message': 'confirmModal failed'}}}
INFO  2023-08-23 14:29:41,537 basenative.py wrapper         28  call IdeNative.handle_modal end
DEBUG 2023-08-23 14:29:41,538 connection.py _safely_send    417 SEND > {"id":"87c94cce-52d9-4d7e-a465-3e3bde05ac99","method":"Page.getElementsByXpath","params":{"selector":"/view/biz-index-head/view/view","pageId":22}}
DEBUG 2023-08-23 14:29:41,546 connection.py _on_message     652 RECV < {"id":"87c94cce-52d9-4d7e-a465-3e3bde05ac99","result":{"elements":[]}}
DEBUG 2023-08-23 14:29:43,548 connection.py _safely_send    417 SEND > {"id":"17136e5d-e8ee-468c-b1ba-b61333664128","method":"Page.getElementsByXpath","params":{"selector":"/lee-select-city/view/view/view/scroll-view[1]/view/view[2]","pageId":22}}
DEBUG 2023-08-23 14:29:43,559 connection.py _on_message     652 RECV < {"id":"17136e5d-e8ee-468c-b1ba-b61333664128","result":{"elements":[{"elementId":"862c49dd-1d83-4eaf-aa07-442292dc7dca","tagName":"view"}]}}
DEBUG 2023-08-23 14:29:43,561 connection.py _safely_send    417 SEND > {"id":"94b8ef8f-ffcc-4847-8177-2b4609c5069c","method":"Element.getStyles","params":{"names":["pointer-events"],"elementId":"862c49dd-1d83-4eaf-aa07-442292dc7dca","pageId":22}}
DEBUG 2023-08-23 14:29:43,567 connection.py _on_message     652 RECV < {"id":"94b8ef8f-ffcc-4847-8177-2b4609c5069c","result":{"styles":["auto"]}}
DEBUG 2023-08-23 14:29:43,568 connection.py _safely_send    417 SEND > {"id":"9fccd8ef-bb03-4c5e-847a-025a672e8c63","method":"Element.tap","params":{"elementId":"862c49dd-1d83-4eaf-aa07-442292dc7dca","pageId":22}}
DEBUG 2023-08-23 14:29:43,584 connection.py _on_message     652 RECV < {"id":"9fccd8ef-bb03-4c5e-847a-025a672e8c63","result":{}}
DEBUG 2023-08-23 14:29:46,598 connection.py _safely_send    417 SEND > {"id":"ca086ab1-ea6d-4779-a9ca-82b33a8b409c","method":"Page.getElementsByXpath","params":{"selector":"/lee-select-city/view/view/view/scroll-view[1]/view/lee-latter-list/view/view[1]/view[2]/view[1]","pageId":22}}
DEBUG 2023-08-23 14:29:46,607 connection.py _on_message     652 RECV < {"id":"ca086ab1-ea6d-4779-a9ca-82b33a8b409c","result":{"elements":[{"elementId":"2d2bd341-200d-4dfd-a399-5b23c357476a","tagName":"view"}]}}
DEBUG 2023-08-23 14:29:46,609 connection.py _safely_send    417 SEND > {"id":"ac1bce71-98d0-41e9-babb-ddd924376e1d","method":"Element.getStyles","params":{"names":["pointer-events"],"elementId":"2d2bd341-200d-4dfd-a399-5b23c357476a","pageId":22}}
DEBUG 2023-08-23 14:29:46,614 connection.py _on_message     652 RECV < {"id":"ac1bce71-98d0-41e9-babb-ddd924376e1d","result":{"styles":["auto"]}}
DEBUG 2023-08-23 14:29:46,615 connection.py _safely_send    417 SEND > {"id":"24d2687e-112d-46f8-b927-38bc39768a29","method":"Element.tap","params":{"elementId":"2d2bd341-200d-4dfd-a399-5b23c357476a","pageId":22}}
DEBUG 2023-08-23 14:29:46,632 connection.py _on_message     652 RECV < {"id":"24d2687e-112d-46f8-b927-38bc39768a29","result":{}}
DEBUG 2023-08-23 14:29:49,658 connection.py _safely_send    417 SEND > {"id":"346d1a72-9959-4e3c-9bfb-c7a927574f2c","method":"Page.getElementsByXpath","params":{"selector":"/lee-select-city/view/view[2]/view/scroll-view[2]/view/lee-latter-list/view/view[1]/view[2]/view","pageId":22}}
DEBUG 2023-08-23 14:29:49,666 connection.py _on_message     652 RECV < {"id":"346d1a72-9959-4e3c-9bfb-c7a927574f2c","result":{"elements":[{"elementId":"85fd3999-adc1-4ac0-936f-eb999f5e1bb7","tagName":"view"}]}}
DEBUG 2023-08-23 14:29:49,668 connection.py _safely_send    417 SEND > {"id":"f53cf822-0da6-4d0c-99b9-677fce0870b7","method":"Element.getStyles","params":{"names":["pointer-events"],"elementId":"85fd3999-adc1-4ac0-936f-eb999f5e1bb7","pageId":22}}
DEBUG 2023-08-23 14:29:49,672 connection.py _on_message     652 RECV < {"id":"f53cf822-0da6-4d0c-99b9-677fce0870b7","result":{"styles":["auto"]}}
DEBUG 2023-08-23 14:29:49,674 connection.py _safely_send    417 SEND > {"id":"701c24c0-cad9-443e-bb67-e931e609a902","method":"Element.tap","params":{"elementId":"85fd3999-adc1-4ac0-936f-eb999f5e1bb7","pageId":22}}
DEBUG 2023-08-23 14:29:49,709 connection.py _on_message     652 RECV < {"id":"701c24c0-cad9-443e-bb67-e931e609a902","result":{}}
DEBUG 2023-08-23 14:29:52,726 minitest.py _miniTearDown   589 =========Current case Down: test_handle_modal_01=========
INFO  2023-08-23 14:29:52,729 minitest.py capture         686 capture teardown.png
INFO  2023-08-23 14:29:52,729 basenative.py wrapper         24  call IdeNative.screen_shot
DEBUG 2023-08-23 14:29:52,730 connection.py _safely_send    417 SEND > {"id":"35a9d728-7f27-4164-b5f5-82340900f966","method":"App.captureScreenshot","params":{}}
DEBUG 2023-08-23 14:29:52,917 connection.py _on_message     650 RECV < {"id":"35a9d728-7f27-4164-b5f5-82340900f966","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAawAAANDCAIAAAB+J7yFAAAAAXNSR0IArs4c6QAAIABJREFUeJzs3VlsHedh//3ZZ86+L9x5SIqbqJWyZS2WFadxEjuJEwco2rhL3AZN8b7ogqItUAQFAhRoLtrLtMA/CVK0yZtmqWs7dh3bsaRItixbokRxFUVxEdez7/tsz3sxySn/kmxLFC3Rmt/nypwzq4F888zMc45pQggFAGBKhBDmfp8DAMD9hAgCgKkhggBgaoggAJgaIggApoYIAoCpIYIAYGqIIACYGiIIAKaGCAKAqSGCAGBqiCAAmBoiCACmhggCgKkhggBgatydblBR63VdERneyokfxQkBANxLdzwS1Imu6ZpO6R/F2QAA3GM0flkaAEwLvywNAGaHCAKAqSGCAGBqiCAAmBoiCACmhggCgKkhggBgaoggAJ...
INFO  2023-08-23 14:29:52,919 basenative.py wrapper         28  call IdeNative.screen_shot end
INFO  2023-08-23 14:29:52,919 basenative.py wrapper         24  call BaseNative.get_start_up
INFO  2023-08-23 14:29:52,920 basenative.py wrapper         28  call BaseNative.get_start_up end
