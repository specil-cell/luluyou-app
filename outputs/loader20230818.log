INFO  2023-08-18 16:14:18,695 minitest.py init_miniprogram 144 start init miniprogram
INFO  2023-08-18 16:14:18,698 basenative.py wrapper         24  call IdeNative.start_wechat
INFO  2023-08-18 16:14:18,698 basenative.py wrapper         28  call IdeNative.start_wechat end
INFO  2023-08-18 16:14:18,701 wx_minium.py launch_dev_tool 565 Starting dev tool and launch MiniProgram project ...
INFO  2023-08-18 16:14:18,708 minium_object.py _do_shell       83  de shell: cli.bat auto --project "D:\software\mini-data\c-luluyou\unpackage\dist\dev\mp-weixin" --auto-port 9421
INFO  2023-08-18 16:14:26,750 minium_object.py _do_shell       101 err:
- initialize

× IDE may already started at port 39718, trying to connect

√ IDE server started successfully, listening on http://127.0.0.1:33397
- preparing
- Fetching AppID (wxad3951dd54b8c965) permissions
√ Using AppID: wxad3951dd54b8c965
√ auto

INFO  2023-08-18 16:14:26,751 minium_object.py _do_shell       102 out:

INFO  2023-08-18 16:14:36,764 wx_minium.py connect_dev_tool 661 Trying to connect Dev tool ...
INFO  2023-08-18 16:14:37,843 connection.py _connect        342 connect to WebChatTools successfully
DEBUG 2023-08-18 16:14:37,852 connection.py _safely_send    417 SEND > {"id":"07da03fe-6df0-49df-8755-c543b682e288","method":"Tool.getInfo","params":{}}
DEBUG 2023-08-18 16:14:37,889 connection.py _on_message     652 RECV < {"id":"07da03fe-6df0-49df-8755-c543b682e288","result":{"version":"1.06.2306020","SDKVersion":"2.30.4"}}
DEBUG 2023-08-18 16:14:37,890 connection.py _safely_send    417 SEND > {"id":"537bdfb1-9c14-47ad-a797-503e8701a5ab","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
DEBUG 2023-08-18 16:14:45,569 connection.py _on_message     652 RECV < {"method":"App.initialized","params":{"from":"devtools"}}
DEBUG 2023-08-18 16:14:45,595 connection.py _on_message     650 RECV < {"id":"537bdfb1-9c14-47ad-a797-503e8701a5ab","result":{"result":{"model":"iPhone 6/7/8 Plus","pixelRatio":3,"windowWidth":414,"windowHeight":736,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":414,"screenHeight":736,"SDKVersion":"2.30.4","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":89,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"...
DEBUG 2023-08-18 16:14:45,603 connection.py remove          283 remove key which is not in observers
DEBUG 2023-08-18 16:14:45,607 connection.py _safely_send    417 SEND > {"id":"814910e5-7081-470b-be26-841a31f001a1","method":"App.addBinding","params":{"name":"onAppRouteDone"}}
DEBUG 2023-08-18 16:14:45,615 connection.py _on_message     652 RECV < {"id":"814910e5-7081-470b-be26-841a31f001a1","result":{}}
DEBUG 2023-08-18 16:14:45,618 connection.py _safely_send    417 SEND > {"id":"97a613e7-f18b-4b8e-b261-4b68a2d8da71","method":"App.callFunction","params":{"functionDeclaration":"function () {\n    if (!global.__minium_onAppRouteDone) {\n        wx.onAppRouteDone(function (options) {\n            onAppRouteDone(options, Date.now())\n        })\n        global.__minium_onAppRouteDone = true\n    }\n}","args":[]}}
DEBUG 2023-08-18 16:14:45,790 connection.py _on_message     652 RECV < {"id":"97a613e7-f18b-4b8e-b261-4b68a2d8da71","result":{}}
DEBUG 2023-08-18 16:14:45,806 connection.py _safely_send    417 SEND > {"id":"e20bf8b2-5f8f-4b1d-9d01-b076a3575648","method":"App.callFunction","params":{"functionDeclaration":"function miniumRequestStack(){if(!global.__minium_request_stack){global.__minium_request_stack=new Map,global.__minium_wait_util=function(e=0,t=20){var _=(getCurrentPages().pop()||{}).__wxWebviewId__;return new Promise((r=>{var a=10*t,i=setInterval((()=>{a--;var t=global.__minium_request_stack.has(_)?global.__minium_request_stack.get(_).size:0;console.debug(\"[minitest] current stack size: \",t),t<=e?(clearInterval(i),r(!0)):a<0&&(clearInterval(i),r(!1))}),100)}))};var e=wx._MINI_WX_PROXY_||wx,t=e.request;return Object.defineProperty(e,\"request\",{configurable:!0,get:()=>function(e){if(\"https://weapp.tencent.com/jscov_driver/CollectCovTimer\"==e.url)return t(e);var _,r=(getCurrentPages().pop()||{}).__wxWebviewId__;global.__minium_request_stack.has(r)?_=global.__minium_request_stack.get(r):(_=new Map,global.__minium_request_stack.set(r,_));var a,i=e.complete;e.complete=e=>{_.delete(a),0===_.size&&global.__minium_request_stack.delete(r),i&&i(e)};var n=t(e);return a=n&&n.uniqueId||Math.random(),_.set(a,Date.now()),n}}),!0}return!1}","args":[]}}
DEBUG 2023-08-18 16:14:46,058 connection.py _on_message     652 RECV < {"id":"e20bf8b2-5f8f-4b1d-9d01-b076a3575648","result":{"result":true}}
DEBUG 2023-08-18 16:14:46,094 connection.py _safely_send    417 SEND > {"id":"910c59a7-10fb-4544-a4b0-3d9ba237a544","method":"App.callFunction","params":{"functionDeclaration":"function checkInject(){var i=!1;return global.__minium?i=!0:(global.__minium={},i=!1),{injected:i,isThirdApp:!!wx._MINI_WX_PROXY_}}","args":[]}}
DEBUG 2023-08-18 16:14:46,176 connection.py _on_message     652 RECV < {"id":"910c59a7-10fb-4544-a4b0-3d9ba237a544","result":{"result":{"injected":false,"isThirdApp":false}}}
DEBUG 2023-08-18 16:14:46,178 connection.py _safely_send    417 SEND > {"id":"ea38a2c1-f967-4ea3-84bd-28f83776f641","method":"App.callFunction","params":{"functionDeclaration":"function(){return {\"pages\": __wxConfig.pages, \"tabBar\": __wxConfig.tabBar && __wxConfig.tabBar.list} }","args":[]}}
DEBUG 2023-08-18 16:14:46,195 connection.py _on_message     650 RECV < {"id":"ea38a2c1-f967-4ea3-84bd-28f83776f641","result":{"result":{"pages":["pages/index/index","pages/plan/plan_index","pages/plan/article","pages/my/code-details","pages/my/my_rights","pages/my/rights_list","pages/common/rights_code","pages/common/bag","pages/common/bag_detail","pages/common/buy_ok","pages/common/bag_choice","pages/my/collection","pages/scenic/scenic-list","pages/common/selected_city","pages/my/feedback","pages/my/feedback-input","pages/my/my","pages/my/contact","pages/common/agreement",...
DEBUG 2023-08-18 16:14:46,200 connection.py _safely_send    417 SEND > {"id":"df93825b-958d-4da9-8ee3-306d5dfdbef8","method":"App.callWxMethod","params":{"method":"getAccountInfoSync","args":[]}}
DEBUG 2023-08-18 16:14:46,210 connection.py _on_message     652 RECV < {"id":"df93825b-958d-4da9-8ee3-306d5dfdbef8","result":{"result":{"miniProgram":{"appId":"wxad3951dd54b8c965","envVersion":"develop","version":""}}}}
DEBUG 2023-08-18 16:14:46,213 connection.py _safely_send    417 SEND > {"id":"e64f6228-0ecc-45f4-8bd4-f6d1ff3a9873","method":"Tool.getInfo","params":{}}
DEBUG 2023-08-18 16:14:46,248 connection.py _on_message     652 RECV < {"id":"e64f6228-0ecc-45f4-8bd4-f6d1ff3a9873","result":{"version":"1.06.2306020","SDKVersion":"2.30.4"}}
DEBUG 2023-08-18 16:14:46,302 connection.py _safely_send    417 SEND > {"id":"4ba7210f-22ec-4e78-b31f-26544a3a43fa","method":"App.callFunction","params":{"functionDeclaration":"function ideMockModal(){return!!global.__minium_mock_native_modal||(global.__minium_auth_setting={},global.__minium_mock_native_modal_list=[],global.__minium_handle_mock_modal=function(_,l){let m=[];for(;global.__minium_mock_native_modal_list.length>0;){let i=global.__minium_mock_native_modal_list.pop();if(-1===l.indexOf(i.type)||!(_ in i)){m.unshift(i);continue}let o=i[_];if(global.__minium_mock_native_modal_list.push(...m),\"function\"!=typeof o)throw`${o} is not callable`;return o(),!0}return console.warn(`can't find [${l}][${_}]`),global.__minium_mock_native_modal_list.push(...m),!1},global.__minium_get_all_modal=function(){let _=[];global.__minium_mock_native_modal_list.forEach((l=>{_.push({type:l.type,texts:Object.keys(l).filter((_=>\"type\"!==_))})}))},global.__minium_handle_mock_native_modal=function(_){return global.__minium_handle_mock_modal(_,[\"modal\",\"auth\"])},global.__minium_handle_mock_map_modal=function(_){return global.__minium_handle_mock_modal(_,[\"map\"])},global.__minium_handle_mock_auth_modal=function(_){return global.__minium_handle_mock_modal(_,[\"auth\"])},global.__minium_mock_native_modal=function(_){_.type=\"modal\",global.__minium_mock_native_modal_list.push(_)},global.__minium_mock_map_modal=function(_){_.type=\"map\",global.__minium_mock_native_modal_list.push(_)},global.__minium_mock_auth_modal=function(_){_.type=\"auth\",global.__minium_mock_native_modal_list.push(_)},!1)}","args":[]}}
DEBUG 2023-08-18 16:14:46,322 connection.py _on_message     652 RECV < {"id":"4ba7210f-22ec-4e78-b31f-26544a3a43fa","result":{"result":false}}
DEBUG 2023-08-18 16:14:46,345 connection.py _safely_send    417 SEND > {"id":"0925d0a3-8327-492f-9ae9-eb6929abef9f","method":"App.mockWxMethod","params":{"method":"showActionSheet","functionDeclaration":"function miniActionSheet(e){return new Promise((n=>{let t={},o=e.itemList;for(let e=0;e<o.length;e++)t[o[e]]=function(){let t={errMsg:\"showActionSheet:ok\",tapIndex:e};return n(t),t};return t[\"\u53d6\u6d88\"]=function(){let e={errMsg:\"showActionSheet:fail cancel\"};return n(e),e},console.warn(\"[minium] mock wx.showActionSheet, you can use `native.handle_action_sheet` to handle it\"),global.__minium_mock_native_modal(t)}))}","args":[]}}
DEBUG 2023-08-18 16:14:46,395 connection.py _on_message     652 RECV < {"id":"0925d0a3-8327-492f-9ae9-eb6929abef9f","result":{}}
DEBUG 2023-08-18 16:14:46,401 connection.py _safely_send    417 SEND > {"id":"7c792494-5b79-49b9-a34b-d23d9ea4faa4","method":"App.getCurrentPage","params":{}}
DEBUG 2023-08-18 16:14:46,445 connection.py _on_message     652 RECV < {"id":"7c792494-5b79-49b9-a34b-d23d9ea4faa4","result":{"pageId":1,"path":"pages/index/index","query":{}}}
DEBUG 2023-08-18 16:14:46,458 connection.py _safely_send    417 SEND > {"id":"303c990e-0bba-4a4e-a4b3-f7ef68ff7806","method":"App.callWxMethod","params":{"method":"getSetting","args":[]}}
DEBUG 2023-08-18 16:14:47,030 connection.py _on_message     652 RECV < {"id":"303c990e-0bba-4a4e-a4b3-f7ef68ff7806","result":{"result":{"errMsg":"getSetting:ok","authSetting":{"scope.userLocation":true,"scope.address":true,"scope.invoice":true,"scope.invoiceTitle":true,"scope.userInfo":true}}}}
DEBUG 2023-08-18 16:14:47,052 connection.py _safely_send    417 SEND > {"id":"1c128d07-4201-4583-97fb-728a5e62131c","method":"App.callFunction","params":{"functionDeclaration":"function mockNetwork(){if(!global[\"__minium_request_network_mocked\"]){function e(i,s){if(typeof i!=typeof s)return!1;switch(typeof i){case\"string\":return!!new RegExp(i).exec(s);case\"number\":return i===s;case\"object\":if(i instanceof Array){if(i.length!=s.length)return!1;for(var c=0;c<i.length;c++)if(!e(i[c],s[c]))return!1;return!0}for(var t in i)if(\"success\"!=t&&\"fail\"!=t&&\"complete\"!=t&&\"_miniMockType\"!=t){if(void 0===s[t])return!1;if(!e(i[t],s[t]))return!1}return!0}return!1}Object.defineProperty(global,\"__minium_request_network_mocked\",{value:!0,writable:!1}),global[\"__minium_request_network_mock_rule\"]||(global[\"__minium_request_network_mock_rule\"]=[]),global[\"__minium_requestTask\"]=class{constructor(e,i,s){this.success=e,this.fail=i,this.callback=s,this.chunkCallback=[],this.headersReceivedCallback=[],this.progressUpdateCallback=[],this.fd=setTimeout((()=>{this.headersReceivedCallback.forEach((e=>{this.success&&e({header:this.success.header})})),this.chunkCallback.forEach((e=>{this.success&&e(this.success.data)})),this.progressUpdateCallback.forEach((e=>{this.success&&e({progress:100,totalBytesWritten:100,totalBytesExpectedToWrite:100})})),s(this.success||this.fail)}))}abort(){clearTimeout(this.fd)}offChunkReceived(e){var i=this.chunkCallback.indexOf(e);-1!==i&&this.chunkCallback.splice(i,1)}offHeadersReceived(e){var i=this.headersReceivedCallback.indexOf(e);-1!==i&&this.headersReceivedCallback.splice(i,1)}onChunkReceived(e){this.chunkCallback.push(e)}onHeadersReceived(e){this.headersReceivedCallback.push(e)}onProgressUpdate(e){this.progressUpdateCallback.push(e)}};var i=wx._MINI_WX_PROXY_||wx,s=i[\"request\"];Object.defineProperty(i,\"request\",{configurable:!0,get:()=>function(i){for(var c=0;c<global[\"__minium_request_network_mock_rule\"].length;c++){var t=global[\"__minium_request_network_mock_rule\"][c];if(e(t,i)){if(1===t._miniMockType&&([t]=global[\"__minium_request_network_mock_rule\"].splice(c,1)),console.log(\"@@@@rule match\",t),i.__miniumMocked=!0,t.success)return new global[\"__minium_requestTask\"](t.success,void 0,(e=>{i.success&&i.success(e),i.complete&&i.complete(e)}));if(t.fail)return new global[\"__minium_requestTask\"](void 0,t.fail,(e=>{i.fail&&i.fail(e),i.complete&&i.complete(e)}));if(1===t._miniMockType)return}}return s(i)}})}}","args":[]}}
DEBUG 2023-08-18 16:14:47,109 connection.py _on_message     652 RECV < {"id":"1c128d07-4201-4583-97fb-728a5e62131c","result":{}}
DEBUG 2023-08-18 16:14:47,113 connection.py _safely_send    417 SEND > {"id":"0131c402-1d7d-4856-b3a2-7e243ecbcb94","method":"App.enableLog","params":{}}
DEBUG 2023-08-18 16:14:47,131 connection.py _on_message     652 RECV < {"id":"0131c402-1d7d-4856-b3a2-7e243ecbcb94","result":{}}
DEBUG 2023-08-18 16:14:47,137 connection.py _safely_send    417 SEND > {"id":"e2cc644f-580d-4661-8677-c7fddfee3f95","method":"App.callFunction","params":{"functionDeclaration":"function getAppConfig(){if(0===arguments.length)return __wxConfig;{const n={};return Array.from(arguments).forEach((r=>{n[r]=__wxConfig[r]})),n}}","args":["accountInfo"]}}
DEBUG 2023-08-18 16:14:47,162 connection.py _on_message     652 RECV < {"id":"e2cc644f-580d-4661-8677-c7fddfee3f95","result":{"result":{"accountInfo":{"appId":"wxad3951dd54b8c965","nickname":"路路游旅游一卡通","icon":"http://wx.qlogo.cn/mmhead/Q3auHgzwzM5SiaKDQIYkrts0TvBSibiardxjFichw4gncxLiaUYhJOHQ2RQ/0"}}}}
DEBUG 2023-08-18 16:14:47,166 connection.py _safely_send    417 SEND > {"id":"80821de3-dcd6-407a-b098-c9dd6ed93cac","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
DEBUG 2023-08-18 16:14:47,181 connection.py _on_message     650 RECV < {"id":"80821de3-dcd6-407a-b098-c9dd6ed93cac","result":{"result":{"model":"iPhone 6/7/8 Plus","pixelRatio":3,"windowWidth":414,"windowHeight":736,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":414,"screenHeight":736,"SDKVersion":"2.30.4","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":89,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"...
INFO  2023-08-18 16:14:47,186 minitest.py init_miniprogram 159 end init miniprogram
INFO  2023-08-18 16:14:47,202 minitest.py _miniSetUp      340 =========Current case: test_liangyou=========
INFO  2023-08-18 16:14:47,205 minitest.py _miniSetUp      343 package info: D:.路路游小程序.tests.test_login, case info: TestShouye_1.test_liangyou
INFO  2023-08-18 16:14:47,210 basenative.py wrapper         24  call BaseNative.check_connection
INFO  2023-08-18 16:14:47,212 basenative.py wrapper         28  call BaseNative.check_connection end
INFO  2023-08-18 16:14:47,220 minitest.py capture         686 capture setup.png
INFO  2023-08-18 16:14:47,237 basenative.py wrapper         24  call IdeNative.screen_shot
DEBUG 2023-08-18 16:14:47,239 connection.py _safely_send    417 SEND > {"id":"51a4bbce-8f30-48e6-87f9-ebf5c16e9075","method":"App.captureScreenshot","params":{}}
DEBUG 2023-08-18 16:14:49,026 connection.py _on_message     650 RECV < {"id":"51a4bbce-8f30-48e6-87f9-ebf5c16e9075","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAZ4AAALgCAIAAAAr3oZ0AAAAAXNSR0IArs4c6QAAIABJREFUeJysvXe4ZVdxJb5q3/vy66QOklqShYRAEiCCSAIbgUACD4aRTPSAA9keMJ7BOMxn883YHo/HCYdh5pv5ET0MxrYwIJFsjEzOSQQJZCOisrrV6vBCv3B3/f6oWrXrnHtfSw4H8frec8/ZZ+/aVatW1a5zjjzmmtuBKiJFUCACiEAAACIAoIqqqgAgCqiq/QVEIfbNDgcAqJ0F7opvRUSg9qGIDESK6EBEgCIQkWIfeJaISNGixS5gXVCoKhRaFVW1AiOgVlRoVa0qCggwFEwVmRIdFBmKDARFBKkzAETEhzW2qdiVpEKBAuioagVGigpU1arYrNhUHalWoKqLQCkJAQog0CIyKGUADAQiauOLRgComsS8f9IVmn...
INFO  2023-08-18 16:14:49,031 basenative.py wrapper         28  call IdeNative.screen_shot end
INFO  2023-08-18 16:14:49,032 minitest.py _miniSetUp      393 =========case: test_liangyou start=========
DEBUG 2023-08-18 16:14:52,039 connection.py _safely_send    417 SEND > {"id":"0a157d5c-cfa4-4183-bd20-bc05ad50a6ba","method":"Page.getElementsByXpath","params":{"selector":"/view/biz-index-head/view/view","pageId":1}}
DEBUG 2023-08-18 16:14:52,058 connection.py _on_message     652 RECV < {"id":"0a157d5c-cfa4-4183-bd20-bc05ad50a6ba","result":{"elements":[{"elementId":"2c47add7-8209-4ee5-89d5-921fab6a4218","tagName":"view"}]}}
DEBUG 2023-08-18 16:14:52,060 connection.py _safely_send    417 SEND > {"id":"5423de35-51b3-4897-8c02-df098011c9c8","method":"Element.getStyles","params":{"names":["pointer-events"],"elementId":"2c47add7-8209-4ee5-89d5-921fab6a4218","pageId":1}}
DEBUG 2023-08-18 16:14:52,076 connection.py _on_message     652 RECV < {"id":"5423de35-51b3-4897-8c02-df098011c9c8","result":{"styles":["auto"]}}
DEBUG 2023-08-18 16:14:52,080 connection.py _safely_send    417 SEND > {"id":"b8b108bb-b74a-4317-bedf-fdefc2f5cb9f","method":"Element.tap","params":{"elementId":"2c47add7-8209-4ee5-89d5-921fab6a4218","pageId":1}}
DEBUG 2023-08-18 16:14:52,365 connection.py _on_message     652 RECV < {"id":"b8b108bb-b74a-4317-bedf-fdefc2f5cb9f","result":{}}
DEBUG 2023-08-18 16:14:52,650 connection.py _on_message     652 RECV < {"method":"App.logAdded","params":{"type":"warn","args":["[Component] property \"data\" of \"components/lee-select-city/lee-latter-list\" received type-uncompatible value: expected <Array> but got non-array value. Used empty array instead."]}}
DEBUG 2023-08-18 16:14:52,657 connection.py _on_message     652 RECV < {"method":"App.logAdded","params":{"type":"warn","args":["[Component] property \"selected\" of \"components/lee-select-city/lee-latter-list\" received type-uncompatible value: expected <Object> but got non-object value. Used null instead."]}}
DEBUG 2023-08-18 16:14:52,659 connection.py _on_message     652 RECV < {"method":"App.logAdded","params":{"type":"warn","args":["[Component] property \"data\" of \"components/lee-select-city/lee-latter-list\" received type-uncompatible value: expected <Array> but got non-array value. Used empty array instead."]}}
DEBUG 2023-08-18 16:14:52,666 connection.py _on_message     652 RECV < {"method":"App.logAdded","params":{"type":"warn","args":["[Component] property \"selected\" of \"components/lee-select-city/lee-latter-list\" received type-uncompatible value: expected <Object> but got non-object value. Used null instead."]}}
DEBUG 2023-08-18 16:14:52,699 connection.py _on_message     652 RECV < {"method":"App.logAdded","params":{"type":"warn","args":["[Component] property \"selected\" of \"components/lee-select-city/lee-latter-list\" received type-uncompatible value: expected <Object> but got non-object value. Used null instead."]}}
DEBUG 2023-08-18 16:14:52,704 connection.py _on_message     652 RECV < {"method":"App.logAdded","params":{"type":"warn","args":["[Component] property \"selected\" of \"components/lee-select-city/lee-latter-list\" received type-uncompatible value: expected <Object> but got non-object value. Used null instead."]}}
DEBUG 2023-08-18 16:14:52,907 connection.py _on_message     650 RECV < {"method":"App.exceptionThrown","params":{"message":"_this.setLocationData is not a function","stack":"TypeError: _this.setLocationData is not a function\n    at Object.success (http://127.0.0.1:10975/appservice/pages/common/selected_city.js?t=wechat&s=1692346467544&v=9e0e654fb6473619bf17c5b87fc8e495:182:31)\n    at Object.handleData (http://127.0.0.1:10975/appservice/common/vendor.js?t=wechat&s=1692346467544&v=a2762790ecfdaad75e652a6c42ece2ac:12607:15)\n    at options.success (http://127.0.0.1:10975/app...
DEBUG 2023-08-18 16:14:53,525 connection.py _on_message     652 RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":2,"path":"pages/common/selected_city","query":{},"openType":"navigateTo","__ts__":1692346493487},1692346493490]}}
INFO  2023-08-18 16:14:53,532 app.py     _on_route_changed 845 Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 2, 'path': 'pages/common/selected_city', 'query': {}, 'openType': 'navigateTo', '__ts__': 1692346493487}, 1692346493490]}
DEBUG 2023-08-18 16:14:55,391 connection.py _safely_send    417 SEND > {"id":"0acd2f5e-6782-4cfa-8730-39333c63ef21","method":"Page.getElementsByXpath","params":{"selector":"/lee-select-city/view/view/view/scroll-view[1]/view/view[2]","pageId":2}}
DEBUG 2023-08-18 16:14:55,421 connection.py _on_message     652 RECV < {"id":"0acd2f5e-6782-4cfa-8730-39333c63ef21","result":{"elements":[{"elementId":"81565957-8d5f-4aa4-b923-f2ff069977d7","tagName":"view"}]}}
DEBUG 2023-08-18 16:14:55,424 connection.py _safely_send    417 SEND > {"id":"158da0b1-a144-4bce-88d2-cc0b0daeb628","method":"Element.getStyles","params":{"names":["pointer-events"],"elementId":"81565957-8d5f-4aa4-b923-f2ff069977d7","pageId":2}}
DEBUG 2023-08-18 16:14:55,443 connection.py _on_message     652 RECV < {"id":"158da0b1-a144-4bce-88d2-cc0b0daeb628","result":{"styles":["auto"]}}
DEBUG 2023-08-18 16:14:55,449 connection.py _safely_send    417 SEND > {"id":"513a161c-4ca2-4556-b283-0a72756bc963","method":"Element.tap","params":{"elementId":"81565957-8d5f-4aa4-b923-f2ff069977d7","pageId":2}}
DEBUG 2023-08-18 16:14:55,468 connection.py _on_message     652 RECV < {"id":"513a161c-4ca2-4556-b283-0a72756bc963","result":{}}
DEBUG 2023-08-18 16:14:58,493 minitest.py _miniTearDown   589 =========Current case Down: test_liangyou=========
INFO  2023-08-18 16:14:58,495 minitest.py capture         686 capture teardown.png
INFO  2023-08-18 16:14:58,496 basenative.py wrapper         24  call IdeNative.screen_shot
DEBUG 2023-08-18 16:14:58,497 connection.py _safely_send    417 SEND > {"id":"6e773ff3-2d92-4df0-9155-dc82299e5244","method":"App.captureScreenshot","params":{}}
DEBUG 2023-08-18 16:14:58,659 connection.py _on_message     650 RECV < {"id":"6e773ff3-2d92-4df0-9155-dc82299e5244","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAZ4AAAKgCAIAAAAkhowYAAAAAXNSR0IArs4c6QAAIABJREFUeJzt3X9MXNed///jLZTBwXgwsfCkU9PBTkudcdIdE2+LUzZRbS+xyFjCoYn0rQVqBFtpO2P0lb/a7tcjiNFIZSX0EZ7prryDvAJ5P1WzdoiYsCwljtIv9bCtY6af1Nhhk3jmQ8J6YjUON9gxl+Jdvn+cT67uzgyYwdiMj5+Pv+6cuffOuY7m5ff5Mc6a+fl5AQBq+ZPV7gAArDyiDYCCiDYACiLaACiIaAOgIKINgIKINgAKItoAKIhoA6Agog2Agog2AAoi2gAoiGgDoCCiDYCCiDYACiLaACiIaAOgIKINgIJyVrsDALLI7Oxsf3//tWvXhBBOp7OystLc/thjj5WXl69qB5dqBaJtenp6YGDgqaeestvti5...
INFO  2023-08-18 16:14:58,664 basenative.py wrapper         28  call IdeNative.screen_shot end
INFO  2023-08-18 16:14:58,665 basenative.py wrapper         24  call BaseNative.get_start_up
INFO  2023-08-18 16:14:58,666 basenative.py wrapper         28  call BaseNative.get_start_up end
INFO  2023-08-18 16:29:57,928 minitest.py init_miniprogram 144 start init miniprogram
INFO  2023-08-18 16:29:57,930 basenative.py wrapper         24  call IdeNative.start_wechat
INFO  2023-08-18 16:29:57,930 basenative.py wrapper         28  call IdeNative.start_wechat end
INFO  2023-08-18 16:29:57,931 wx_minium.py launch_dev_tool 565 Starting dev tool and launch MiniProgram project ...
INFO  2023-08-18 16:29:57,932 minium_object.py _do_shell       83  de shell: cli.bat auto --project "D:\software\mini-data\c-luluyou\unpackage\dist\dev\mp-weixin" --auto-port 9421
INFO  2023-08-18 16:30:00,798 minium_object.py _do_shell       101 err:
- initialize

√ IDE server has started, listening on http://127.0.0.1:33397
- preparing
- Fetching AppID (wxad3951dd54b8c965) permissions
√ Using AppID: wxad3951dd54b8c965
√ auto

INFO  2023-08-18 16:30:00,798 minium_object.py _do_shell       102 out:

INFO  2023-08-18 16:30:10,814 wx_minium.py connect_dev_tool 661 Trying to connect Dev tool ...
INFO  2023-08-18 16:30:10,990 connection.py _connect        342 connect to WebChatTools successfully
DEBUG 2023-08-18 16:30:10,995 connection.py _safely_send    417 SEND > {"id":"e80f0cd4-8930-4322-8476-003ab8430618","method":"Tool.getInfo","params":{}}
DEBUG 2023-08-18 16:30:12,607 connection.py _on_message     652 RECV < {"id":"e80f0cd4-8930-4322-8476-003ab8430618","result":{"version":"1.06.2306020","SDKVersion":"2.30.4"}}
DEBUG 2023-08-18 16:30:12,610 connection.py _safely_send    417 SEND > {"id":"61ca55e8-ccec-424c-b7c1-7745209f938c","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
DEBUG 2023-08-18 16:30:21,066 connection.py _on_message     652 RECV < {"method":"App.initialized","params":{"from":"devtools"}}
DEBUG 2023-08-18 16:30:21,071 connection.py _on_message     650 RECV < {"id":"61ca55e8-ccec-424c-b7c1-7745209f938c","result":{"result":{"model":"iPhone 6/7/8 Plus","pixelRatio":3,"windowWidth":414,"windowHeight":736,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":414,"screenHeight":736,"SDKVersion":"2.30.4","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":96,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"...
DEBUG 2023-08-18 16:30:21,072 connection.py remove          283 remove key which is not in observers
DEBUG 2023-08-18 16:30:21,073 connection.py _safely_send    417 SEND > {"id":"b3a20201-4b23-43b3-9aa1-a95d3b774b37","method":"App.addBinding","params":{"name":"onAppRouteDone"}}
DEBUG 2023-08-18 16:30:21,076 connection.py _on_message     652 RECV < {"id":"b3a20201-4b23-43b3-9aa1-a95d3b774b37","result":{}}
DEBUG 2023-08-18 16:30:21,077 connection.py _safely_send    417 SEND > {"id":"cc78aa19-b2b7-469d-9e28-957aefa6e634","method":"App.callFunction","params":{"functionDeclaration":"function () {\n    if (!global.__minium_onAppRouteDone) {\n        wx.onAppRouteDone(function (options) {\n            onAppRouteDone(options, Date.now())\n        })\n        global.__minium_onAppRouteDone = true\n    }\n}","args":[]}}
DEBUG 2023-08-18 16:30:21,082 connection.py _on_message     652 RECV < {"id":"cc78aa19-b2b7-469d-9e28-957aefa6e634","result":{}}
DEBUG 2023-08-18 16:30:21,087 connection.py _safely_send    417 SEND > {"id":"cedf0501-d0ea-4cc7-bfee-225060d1b359","method":"App.callFunction","params":{"functionDeclaration":"function miniumRequestStack(){if(!global.__minium_request_stack){global.__minium_request_stack=new Map,global.__minium_wait_util=function(e=0,t=20){var _=(getCurrentPages().pop()||{}).__wxWebviewId__;return new Promise((r=>{var a=10*t,i=setInterval((()=>{a--;var t=global.__minium_request_stack.has(_)?global.__minium_request_stack.get(_).size:0;console.debug(\"[minitest] current stack size: \",t),t<=e?(clearInterval(i),r(!0)):a<0&&(clearInterval(i),r(!1))}),100)}))};var e=wx._MINI_WX_PROXY_||wx,t=e.request;return Object.defineProperty(e,\"request\",{configurable:!0,get:()=>function(e){if(\"https://weapp.tencent.com/jscov_driver/CollectCovTimer\"==e.url)return t(e);var _,r=(getCurrentPages().pop()||{}).__wxWebviewId__;global.__minium_request_stack.has(r)?_=global.__minium_request_stack.get(r):(_=new Map,global.__minium_request_stack.set(r,_));var a,i=e.complete;e.complete=e=>{_.delete(a),0===_.size&&global.__minium_request_stack.delete(r),i&&i(e)};var n=t(e);return a=n&&n.uniqueId||Math.random(),_.set(a,Date.now()),n}}),!0}return!1}","args":[]}}
DEBUG 2023-08-18 16:30:21,090 connection.py _on_message     652 RECV < {"id":"cedf0501-d0ea-4cc7-bfee-225060d1b359","result":{"result":true}}
DEBUG 2023-08-18 16:30:21,092 connection.py _safely_send    417 SEND > {"id":"8d2d3734-0fe3-43c8-9174-63668f3b7a3b","method":"App.callFunction","params":{"functionDeclaration":"function checkInject(){var i=!1;return global.__minium?i=!0:(global.__minium={},i=!1),{injected:i,isThirdApp:!!wx._MINI_WX_PROXY_}}","args":[]}}
DEBUG 2023-08-18 16:30:21,095 connection.py _on_message     652 RECV < {"id":"8d2d3734-0fe3-43c8-9174-63668f3b7a3b","result":{"result":{"injected":false,"isThirdApp":false}}}
DEBUG 2023-08-18 16:30:21,096 connection.py _safely_send    417 SEND > {"id":"ea91e1c0-731f-47db-a85c-89c213071a74","method":"App.callFunction","params":{"functionDeclaration":"function(){return {\"pages\": __wxConfig.pages, \"tabBar\": __wxConfig.tabBar && __wxConfig.tabBar.list} }","args":[]}}
DEBUG 2023-08-18 16:30:21,105 connection.py _on_message     650 RECV < {"id":"ea91e1c0-731f-47db-a85c-89c213071a74","result":{"result":{"pages":["pages/index/index","pages/plan/plan_index","pages/plan/article","pages/my/code-details","pages/my/my_rights","pages/my/rights_list","pages/common/rights_code","pages/common/bag","pages/common/bag_detail","pages/common/buy_ok","pages/common/bag_choice","pages/my/collection","pages/scenic/scenic-list","pages/common/selected_city","pages/my/feedback","pages/my/feedback-input","pages/my/my","pages/my/contact","pages/common/agreement",...
DEBUG 2023-08-18 16:30:21,106 connection.py _safely_send    417 SEND > {"id":"6a650986-82d5-4a68-aa13-bb0da90200c4","method":"App.callWxMethod","params":{"method":"getAccountInfoSync","args":[]}}
DEBUG 2023-08-18 16:30:21,125 connection.py _on_message     652 RECV < {"id":"6a650986-82d5-4a68-aa13-bb0da90200c4","result":{"result":{"miniProgram":{"appId":"wxad3951dd54b8c965","envVersion":"develop","version":""}}}}
DEBUG 2023-08-18 16:30:21,126 connection.py _safely_send    417 SEND > {"id":"68c2191d-486d-493a-a651-2b07c174b28e","method":"Tool.getInfo","params":{}}
DEBUG 2023-08-18 16:30:21,139 connection.py _on_message     652 RECV < {"id":"68c2191d-486d-493a-a651-2b07c174b28e","result":{"version":"1.06.2306020","SDKVersion":"2.30.4"}}
DEBUG 2023-08-18 16:30:21,142 connection.py _safely_send    417 SEND > {"id":"f174175c-2858-4e98-93f0-63e91b0672b8","method":"App.callFunction","params":{"functionDeclaration":"function ideMockModal(){return!!global.__minium_mock_native_modal||(global.__minium_auth_setting={},global.__minium_mock_native_modal_list=[],global.__minium_handle_mock_modal=function(_,l){let m=[];for(;global.__minium_mock_native_modal_list.length>0;){let i=global.__minium_mock_native_modal_list.pop();if(-1===l.indexOf(i.type)||!(_ in i)){m.unshift(i);continue}let o=i[_];if(global.__minium_mock_native_modal_list.push(...m),\"function\"!=typeof o)throw`${o} is not callable`;return o(),!0}return console.warn(`can't find [${l}][${_}]`),global.__minium_mock_native_modal_list.push(...m),!1},global.__minium_get_all_modal=function(){let _=[];global.__minium_mock_native_modal_list.forEach((l=>{_.push({type:l.type,texts:Object.keys(l).filter((_=>\"type\"!==_))})}))},global.__minium_handle_mock_native_modal=function(_){return global.__minium_handle_mock_modal(_,[\"modal\",\"auth\"])},global.__minium_handle_mock_map_modal=function(_){return global.__minium_handle_mock_modal(_,[\"map\"])},global.__minium_handle_mock_auth_modal=function(_){return global.__minium_handle_mock_modal(_,[\"auth\"])},global.__minium_mock_native_modal=function(_){_.type=\"modal\",global.__minium_mock_native_modal_list.push(_)},global.__minium_mock_map_modal=function(_){_.type=\"map\",global.__minium_mock_native_modal_list.push(_)},global.__minium_mock_auth_modal=function(_){_.type=\"auth\",global.__minium_mock_native_modal_list.push(_)},!1)}","args":[]}}
DEBUG 2023-08-18 16:30:21,149 connection.py _on_message     652 RECV < {"id":"f174175c-2858-4e98-93f0-63e91b0672b8","result":{"result":false}}
DEBUG 2023-08-18 16:30:21,151 connection.py _safely_send    417 SEND > {"id":"254fef04-7b5b-4f64-b1da-c9730cdfb21d","method":"App.mockWxMethod","params":{"method":"showActionSheet","functionDeclaration":"function miniActionSheet(e){return new Promise((n=>{let t={},o=e.itemList;for(let e=0;e<o.length;e++)t[o[e]]=function(){let t={errMsg:\"showActionSheet:ok\",tapIndex:e};return n(t),t};return t[\"\u53d6\u6d88\"]=function(){let e={errMsg:\"showActionSheet:fail cancel\"};return n(e),e},console.warn(\"[minium] mock wx.showActionSheet, you can use `native.handle_action_sheet` to handle it\"),global.__minium_mock_native_modal(t)}))}","args":[]}}
DEBUG 2023-08-18 16:30:21,155 connection.py _on_message     652 RECV < {"id":"254fef04-7b5b-4f64-b1da-c9730cdfb21d","result":{}}
DEBUG 2023-08-18 16:30:21,157 connection.py _safely_send    417 SEND > {"id":"333924c2-5a49-4e0d-a3c1-c3c35b8b0f57","method":"App.getCurrentPage","params":{}}
DEBUG 2023-08-18 16:30:21,160 connection.py _on_message     652 RECV < {"id":"333924c2-5a49-4e0d-a3c1-c3c35b8b0f57","result":{"pageId":1,"path":"pages/index/index","query":{}}}
DEBUG 2023-08-18 16:30:21,161 connection.py _safely_send    417 SEND > {"id":"0c0bdf8f-dc1f-47a5-9d4f-00d3581ef9c2","method":"App.callWxMethod","params":{"method":"getSetting","args":[]}}
DEBUG 2023-08-18 16:30:21,543 connection.py _on_message     652 RECV < {"id":"0c0bdf8f-dc1f-47a5-9d4f-00d3581ef9c2","result":{"result":{"errMsg":"getSetting:ok","authSetting":{"scope.userLocation":true,"scope.address":true,"scope.invoice":true,"scope.invoiceTitle":true,"scope.userInfo":true}}}}
DEBUG 2023-08-18 16:30:21,569 connection.py _safely_send    417 SEND > {"id":"ee9f47d0-b833-4edb-be74-47b3711160fa","method":"App.callFunction","params":{"functionDeclaration":"function mockNetwork(){if(!global[\"__minium_request_network_mocked\"]){function e(i,s){if(typeof i!=typeof s)return!1;switch(typeof i){case\"string\":return!!new RegExp(i).exec(s);case\"number\":return i===s;case\"object\":if(i instanceof Array){if(i.length!=s.length)return!1;for(var c=0;c<i.length;c++)if(!e(i[c],s[c]))return!1;return!0}for(var t in i)if(\"success\"!=t&&\"fail\"!=t&&\"complete\"!=t&&\"_miniMockType\"!=t){if(void 0===s[t])return!1;if(!e(i[t],s[t]))return!1}return!0}return!1}Object.defineProperty(global,\"__minium_request_network_mocked\",{value:!0,writable:!1}),global[\"__minium_request_network_mock_rule\"]||(global[\"__minium_request_network_mock_rule\"]=[]),global[\"__minium_requestTask\"]=class{constructor(e,i,s){this.success=e,this.fail=i,this.callback=s,this.chunkCallback=[],this.headersReceivedCallback=[],this.progressUpdateCallback=[],this.fd=setTimeout((()=>{this.headersReceivedCallback.forEach((e=>{this.success&&e({header:this.success.header})})),this.chunkCallback.forEach((e=>{this.success&&e(this.success.data)})),this.progressUpdateCallback.forEach((e=>{this.success&&e({progress:100,totalBytesWritten:100,totalBytesExpectedToWrite:100})})),s(this.success||this.fail)}))}abort(){clearTimeout(this.fd)}offChunkReceived(e){var i=this.chunkCallback.indexOf(e);-1!==i&&this.chunkCallback.splice(i,1)}offHeadersReceived(e){var i=this.headersReceivedCallback.indexOf(e);-1!==i&&this.headersReceivedCallback.splice(i,1)}onChunkReceived(e){this.chunkCallback.push(e)}onHeadersReceived(e){this.headersReceivedCallback.push(e)}onProgressUpdate(e){this.progressUpdateCallback.push(e)}};var i=wx._MINI_WX_PROXY_||wx,s=i[\"request\"];Object.defineProperty(i,\"request\",{configurable:!0,get:()=>function(i){for(var c=0;c<global[\"__minium_request_network_mock_rule\"].length;c++){var t=global[\"__minium_request_network_mock_rule\"][c];if(e(t,i)){if(1===t._miniMockType&&([t]=global[\"__minium_request_network_mock_rule\"].splice(c,1)),console.log(\"@@@@rule match\",t),i.__miniumMocked=!0,t.success)return new global[\"__minium_requestTask\"](t.success,void 0,(e=>{i.success&&i.success(e),i.complete&&i.complete(e)}));if(t.fail)return new global[\"__minium_requestTask\"](void 0,t.fail,(e=>{i.fail&&i.fail(e),i.complete&&i.complete(e)}));if(1===t._miniMockType)return}}return s(i)}})}}","args":[]}}
DEBUG 2023-08-18 16:30:21,572 connection.py _on_message     652 RECV < {"id":"ee9f47d0-b833-4edb-be74-47b3711160fa","result":{}}
DEBUG 2023-08-18 16:30:21,573 connection.py _safely_send    417 SEND > {"id":"1d9408d1-230d-4ef8-8184-b9fcb2cc5660","method":"App.enableLog","params":{}}
DEBUG 2023-08-18 16:30:21,575 connection.py _on_message     652 RECV < {"id":"1d9408d1-230d-4ef8-8184-b9fcb2cc5660","result":{}}
DEBUG 2023-08-18 16:30:21,583 connection.py _safely_send    417 SEND > {"id":"59996450-fa2f-4d12-880d-b440d0f2d2e6","method":"App.callFunction","params":{"functionDeclaration":"function getAppConfig(){if(0===arguments.length)return __wxConfig;{const n={};return Array.from(arguments).forEach((r=>{n[r]=__wxConfig[r]})),n}}","args":["accountInfo"]}}
DEBUG 2023-08-18 16:30:21,585 connection.py _on_message     652 RECV < {"id":"59996450-fa2f-4d12-880d-b440d0f2d2e6","result":{"result":{"accountInfo":{"appId":"wxad3951dd54b8c965","nickname":"路路游旅游一卡通","icon":"http://wx.qlogo.cn/mmhead/Q3auHgzwzM5SiaKDQIYkrts0TvBSibiardxjFichw4gncxLiaUYhJOHQ2RQ/0"}}}}
DEBUG 2023-08-18 16:30:21,586 connection.py _safely_send    417 SEND > {"id":"78ac8e9f-c5cb-43d8-bdc9-11686bfc4e1a","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
DEBUG 2023-08-18 16:30:21,590 connection.py _on_message     650 RECV < {"id":"78ac8e9f-c5cb-43d8-bdc9-11686bfc4e1a","result":{"result":{"model":"iPhone 6/7/8 Plus","pixelRatio":3,"windowWidth":414,"windowHeight":736,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":414,"screenHeight":736,"SDKVersion":"2.30.4","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":96,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"...
INFO  2023-08-18 16:30:21,590 minitest.py init_miniprogram 159 end init miniprogram
INFO  2023-08-18 16:30:21,630 minitest.py _miniSetUp      340 =========Current case: test_liangyou=========
INFO  2023-08-18 16:30:21,630 minitest.py _miniSetUp      343 package info: D:.路路游小程序.tests.test_login, case info: TestShouye_1.test_liangyou
INFO  2023-08-18 16:30:21,631 basenative.py wrapper         24  call BaseNative.check_connection
INFO  2023-08-18 16:30:21,633 basenative.py wrapper         28  call BaseNative.check_connection end
INFO  2023-08-18 16:30:21,635 minitest.py capture         686 capture setup.png
INFO  2023-08-18 16:30:21,636 basenative.py wrapper         24  call IdeNative.screen_shot
DEBUG 2023-08-18 16:30:21,639 connection.py _safely_send    417 SEND > {"id":"22b6a163-068c-4d02-949d-4711fbd29aa3","method":"App.captureScreenshot","params":{}}
DEBUG 2023-08-18 16:30:22,362 connection.py _on_message     650 RECV < {"id":"22b6a163-068c-4d02-949d-4711fbd29aa3","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAZ4AAALgCAIAAAAr3oZ0AAAAAXNSR0IArs4c6QAAIABJREFUeJx0vVmWJLmOJCoCqkf1yt7Germ9gkxXQt6HACDNIsuqTl4PG1SpIAbBSP5//+//vu8bAsnMVOZaKxj7feNZe+/nefbektZakgBExN577x0R63kAZCaCKVFBMFOkSAKZ2v4JuZSUUgIAKSOCpATSf4cEyTeh/yczf35WZpIEBCiVUgJY8UiSKCkiAAIkCe7EJiNEIPIVQCgAIFKxBQGQRDIiAOy9AxH0egTAt/Z31qL/joiIkJQpQCR/f7XW8q+k9AL6n3qeR1Iv3k8tgET4cVJbEokIfn4H/uFay39L2jsjuNbKTPTLu+Yb+db3p/0e55r+CUAlSHoTfWv/V8pYAJiZa/28v68fSpKwyZwvz2NKiHgg9hpWb6...
INFO  2023-08-18 16:30:22,368 basenative.py wrapper         28  call IdeNative.screen_shot end
INFO  2023-08-18 16:30:22,369 minitest.py _miniSetUp      393 =========case: test_liangyou start=========
DEBUG 2023-08-18 16:30:23,634 connection.py _on_message     652 RECV < {"method":"App.logAdded","params":{"type":"log","args":[{"hasUpdate":false}]}}
DEBUG 2023-08-18 16:30:25,384 connection.py _safely_send    417 SEND > {"id":"1d0b90b4-39e4-45f3-b679-8e0f7ac2e4a8","method":"Page.getElementsByXpath","params":{"selector":"/view/biz-index-head/view/view","pageId":1}}
DEBUG 2023-08-18 16:30:25,393 connection.py _on_message     652 RECV < {"id":"1d0b90b4-39e4-45f3-b679-8e0f7ac2e4a8","result":{"elements":[{"elementId":"11c918ee-3f26-4d21-97bb-792975edeb48","tagName":"view"}]}}
DEBUG 2023-08-18 16:30:25,394 connection.py _safely_send    417 SEND > {"id":"af3c01d8-ecee-4cc5-a361-e23e453b8031","method":"Element.getStyles","params":{"names":["pointer-events"],"elementId":"11c918ee-3f26-4d21-97bb-792975edeb48","pageId":1}}
DEBUG 2023-08-18 16:30:25,400 connection.py _on_message     652 RECV < {"id":"af3c01d8-ecee-4cc5-a361-e23e453b8031","result":{"styles":["auto"]}}
DEBUG 2023-08-18 16:30:25,402 connection.py _safely_send    417 SEND > {"id":"0ce6276d-f455-443f-9e9d-eb38b675ad07","method":"Element.tap","params":{"elementId":"11c918ee-3f26-4d21-97bb-792975edeb48","pageId":1}}
DEBUG 2023-08-18 16:30:25,491 connection.py _on_message     652 RECV < {"id":"0ce6276d-f455-443f-9e9d-eb38b675ad07","result":{}}
DEBUG 2023-08-18 16:30:25,768 connection.py _on_message     652 RECV < {"method":"App.logAdded","params":{"type":"warn","args":["[Component] property \"data\" of \"components/lee-select-city/lee-latter-list\" received type-uncompatible value: expected <Array> but got non-array value. Used empty array instead."]}}
DEBUG 2023-08-18 16:30:25,770 connection.py _on_message     652 RECV < {"method":"App.logAdded","params":{"type":"warn","args":["[Component] property \"selected\" of \"components/lee-select-city/lee-latter-list\" received type-uncompatible value: expected <Object> but got non-object value. Used null instead."]}}
DEBUG 2023-08-18 16:30:25,775 connection.py _on_message     652 RECV < {"method":"App.logAdded","params":{"type":"warn","args":["[Component] property \"data\" of \"components/lee-select-city/lee-latter-list\" received type-uncompatible value: expected <Array> but got non-array value. Used empty array instead."]}}
DEBUG 2023-08-18 16:30:25,777 connection.py _on_message     652 RECV < {"method":"App.logAdded","params":{"type":"warn","args":["[Component] property \"selected\" of \"components/lee-select-city/lee-latter-list\" received type-uncompatible value: expected <Object> but got non-object value. Used null instead."]}}
DEBUG 2023-08-18 16:30:25,802 connection.py _on_message     652 RECV < {"method":"App.logAdded","params":{"type":"warn","args":["[Component] property \"selected\" of \"components/lee-select-city/lee-latter-list\" received type-uncompatible value: expected <Object> but got non-object value. Used null instead."]}}
DEBUG 2023-08-18 16:30:25,804 connection.py _on_message     652 RECV < {"method":"App.logAdded","params":{"type":"warn","args":["[Component] property \"selected\" of \"components/lee-select-city/lee-latter-list\" received type-uncompatible value: expected <Object> but got non-object value. Used null instead."]}}
DEBUG 2023-08-18 16:30:25,910 connection.py _on_message     650 RECV < {"method":"App.exceptionThrown","params":{"message":"_this.setLocationData is not a function","stack":"TypeError: _this.setLocationData is not a function\n    at Object.success (http://127.0.0.1:15099/appservice/pages/common/selected_city.js?t=wechat&s=1692347401880&v=9645cfe03f84cc02692ef5cb9c6738fb:182:31)\n    at Object.handleData (http://127.0.0.1:15099/appservice/common/vendor.js?t=wechat&s=1692347401880&v=89b5c89f382fa501a7bab0cabe2e6de7:12607:15)\n    at options.success (http://127.0.0.1:15099/app...
DEBUG 2023-08-18 16:30:26,236 connection.py _on_message     652 RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":2,"path":"pages/common/selected_city","query":{},"openType":"navigateTo","__ts__":1692347426221},1692347426223]}}
INFO  2023-08-18 16:30:26,239 app.py     _on_route_changed 845 Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 2, 'path': 'pages/common/selected_city', 'query': {}, 'openType': 'navigateTo', '__ts__': 1692347426221}, 1692347426223]}
DEBUG 2023-08-18 16:30:28,503 connection.py _safely_send    417 SEND > {"id":"1fa7f1aa-e078-440a-8416-52843c80151b","method":"Page.getElementsByXpath","params":{"selector":"/lee-select-city/view/view/view/scroll-view[1]/view/view[2]","pageId":2}}
DEBUG 2023-08-18 16:30:28,510 connection.py _on_message     652 RECV < {"id":"1fa7f1aa-e078-440a-8416-52843c80151b","result":{"elements":[{"elementId":"aa225cce-ede0-4f18-be88-4f705df81de4","tagName":"view"}]}}
DEBUG 2023-08-18 16:30:28,511 connection.py _safely_send    417 SEND > {"id":"33547401-3e12-45a0-9552-3642fa370ebb","method":"Element.getStyles","params":{"names":["pointer-events"],"elementId":"aa225cce-ede0-4f18-be88-4f705df81de4","pageId":2}}
DEBUG 2023-08-18 16:30:28,516 connection.py _on_message     652 RECV < {"id":"33547401-3e12-45a0-9552-3642fa370ebb","result":{"styles":["auto"]}}
DEBUG 2023-08-18 16:30:28,517 connection.py _safely_send    417 SEND > {"id":"5ff91afb-e67c-4f58-83d8-404723118aa6","method":"Element.tap","params":{"elementId":"aa225cce-ede0-4f18-be88-4f705df81de4","pageId":2}}
DEBUG 2023-08-18 16:30:28,524 connection.py _on_message     652 RECV < {"id":"5ff91afb-e67c-4f58-83d8-404723118aa6","result":{}}
DEBUG 2023-08-18 16:30:31,544 minitest.py _miniTearDown   589 =========Current case Down: test_liangyou=========
INFO  2023-08-18 16:30:31,547 minitest.py capture         686 capture teardown.png
INFO  2023-08-18 16:30:31,548 basenative.py wrapper         24  call IdeNative.screen_shot
DEBUG 2023-08-18 16:30:31,549 connection.py _safely_send    417 SEND > {"id":"1e3d4436-2afd-4071-9c99-da22e834a0db","method":"App.captureScreenshot","params":{}}
DEBUG 2023-08-18 16:30:31,632 connection.py _on_message     650 RECV < {"id":"1e3d4436-2afd-4071-9c99-da22e834a0db","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAZ4AAAKgCAIAAAAkhowYAAAAAXNSR0IArs4c6QAAIABJREFUeJzt3X9MXNed///jLZTBwXgwsfCkU9PBTkudcdIdE2+LUzZRbS+xyFjCoYn0rQVqBFtpO2P0lb/a7tcjiNFIZSX0EZ7prryDvAJ5P1WzdoiYsCwljtIv9bCtY6af1Nhhk3jmQ8J6YjUON9gxl+Jdvn+cT67uzgyYwdiMj5+Pv+6cuffOuY7m5ff5Mc6a+fl5AQBq+ZPV7gAArDyiDYCCiDYACiLaACiIaAOgIKINgIKINgAKItoAKIhoA6Agog2Agog2AAoi2gAoiGgDoCCiDYCCiDYACiLaACiIaAOgIKINgIJyVrsDALLI7Oxsf3//tWvXhBBOp7OystLc/thjj5WXl69qB5dqBaJtenp6YGDgqaeestvti5...
INFO  2023-08-18 16:30:31,634 basenative.py wrapper         28  call IdeNative.screen_shot end
INFO  2023-08-18 16:30:31,635 basenative.py wrapper         24  call BaseNative.get_start_up
INFO  2023-08-18 16:30:31,635 basenative.py wrapper         28  call BaseNative.get_start_up end
INFO  2023-08-18 17:04:36,868 minitest.py init_miniprogram 144 start init miniprogram
INFO  2023-08-18 17:04:36,870 basenative.py wrapper         24  call IdeNative.start_wechat
INFO  2023-08-18 17:04:36,870 basenative.py wrapper         28  call IdeNative.start_wechat end
INFO  2023-08-18 17:04:36,874 wx_minium.py launch_dev_tool 565 Starting dev tool and launch MiniProgram project ...
INFO  2023-08-18 17:04:36,876 minium_object.py _do_shell       83  de shell: cli.bat auto --project "D:\software\mini-data\c-luluyou\unpackage\dist\dev\mp-weixin" --auto-port 44703
INFO  2023-08-18 17:04:44,116 minium_object.py _do_shell       101 err:
- initialize

× IDE may already started at port 44703, trying to connect

√ IDE server started successfully, listening on http://127.0.0.1:17433
- preparing
- Fetching AppID (wxad3951dd54b8c965) permissions
√ Using AppID: wxad3951dd54b8c965
√ auto

INFO  2023-08-18 17:04:44,118 minium_object.py _do_shell       102 out:

INFO  2023-08-18 17:04:54,134 wx_minium.py connect_dev_tool 661 Trying to connect Dev tool ...
INFO  2023-08-18 17:04:54,368 connection.py _connect        342 connect to WebChatTools successfully
DEBUG 2023-08-18 17:04:54,370 connection.py _safely_send    417 SEND > {"id":"50547c27-470c-4514-b43d-83234df80611","method":"Tool.getInfo","params":{}}
DEBUG 2023-08-18 17:04:54,417 connection.py _on_message     652 RECV < {"id":"50547c27-470c-4514-b43d-83234df80611","result":{"version":"1.06.2306020","SDKVersion":"2.30.4"}}
DEBUG 2023-08-18 17:04:54,418 connection.py _safely_send    417 SEND > {"id":"54f724a9-0d2c-46e5-a504-bc064d707de6","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
DEBUG 2023-08-18 17:05:11,501 connection.py _on_message     652 RECV < {"method":"App.initialized","params":{"from":"devtools"}}
DEBUG 2023-08-18 17:05:11,513 connection.py _on_message     650 RECV < {"id":"54f724a9-0d2c-46e5-a504-bc064d707de6","result":{"result":{"model":"iPhone 6/7/8 Plus","pixelRatio":3,"windowWidth":414,"windowHeight":736,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":414,"screenHeight":736,"SDKVersion":"2.30.4","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":100,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,...
DEBUG 2023-08-18 17:05:11,514 connection.py remove          283 remove key which is not in observers
DEBUG 2023-08-18 17:05:11,515 connection.py _safely_send    417 SEND > {"id":"4f18b9ac-4907-4ab3-a43b-a8eb8104ffc0","method":"App.addBinding","params":{"name":"onAppRouteDone"}}
DEBUG 2023-08-18 17:05:11,518 connection.py _on_message     652 RECV < {"id":"4f18b9ac-4907-4ab3-a43b-a8eb8104ffc0","result":{}}
DEBUG 2023-08-18 17:05:11,518 connection.py _safely_send    417 SEND > {"id":"125dabfd-2fdf-4598-8ef0-4cc8d8b68b14","method":"App.callFunction","params":{"functionDeclaration":"function () {\n    if (!global.__minium_onAppRouteDone) {\n        wx.onAppRouteDone(function (options) {\n            onAppRouteDone(options, Date.now())\n        })\n        global.__minium_onAppRouteDone = true\n    }\n}","args":[]}}
DEBUG 2023-08-18 17:05:11,525 connection.py _on_message     652 RECV < {"id":"125dabfd-2fdf-4598-8ef0-4cc8d8b68b14","result":{}}
DEBUG 2023-08-18 17:05:11,531 connection.py _safely_send    417 SEND > {"id":"d5529666-3d47-4a2d-83ac-91b9796631d2","method":"App.callFunction","params":{"functionDeclaration":"function miniumRequestStack(){if(!global.__minium_request_stack){global.__minium_request_stack=new Map,global.__minium_wait_util=function(e=0,t=20){var _=(getCurrentPages().pop()||{}).__wxWebviewId__;return new Promise((r=>{var a=10*t,i=setInterval((()=>{a--;var t=global.__minium_request_stack.has(_)?global.__minium_request_stack.get(_).size:0;console.debug(\"[minitest] current stack size: \",t),t<=e?(clearInterval(i),r(!0)):a<0&&(clearInterval(i),r(!1))}),100)}))};var e=wx._MINI_WX_PROXY_||wx,t=e.request;return Object.defineProperty(e,\"request\",{configurable:!0,get:()=>function(e){if(\"https://weapp.tencent.com/jscov_driver/CollectCovTimer\"==e.url)return t(e);var _,r=(getCurrentPages().pop()||{}).__wxWebviewId__;global.__minium_request_stack.has(r)?_=global.__minium_request_stack.get(r):(_=new Map,global.__minium_request_stack.set(r,_));var a,i=e.complete;e.complete=e=>{_.delete(a),0===_.size&&global.__minium_request_stack.delete(r),i&&i(e)};var n=t(e);return a=n&&n.uniqueId||Math.random(),_.set(a,Date.now()),n}}),!0}return!1}","args":[]}}
DEBUG 2023-08-18 17:05:11,537 connection.py _on_message     652 RECV < {"id":"d5529666-3d47-4a2d-83ac-91b9796631d2","result":{"result":true}}
DEBUG 2023-08-18 17:05:11,539 connection.py _safely_send    417 SEND > {"id":"54cb2f0b-d12e-46b0-89b3-61af37bae9e1","method":"App.callFunction","params":{"functionDeclaration":"function checkInject(){var i=!1;return global.__minium?i=!0:(global.__minium={},i=!1),{injected:i,isThirdApp:!!wx._MINI_WX_PROXY_}}","args":[]}}
DEBUG 2023-08-18 17:05:11,541 connection.py _on_message     652 RECV < {"id":"54cb2f0b-d12e-46b0-89b3-61af37bae9e1","result":{"result":{"injected":false,"isThirdApp":false}}}
DEBUG 2023-08-18 17:05:11,542 connection.py _safely_send    417 SEND > {"id":"b2756c1c-f15a-4f32-a56e-c4ae4484c92b","method":"App.callFunction","params":{"functionDeclaration":"function(){return {\"pages\": __wxConfig.pages, \"tabBar\": __wxConfig.tabBar && __wxConfig.tabBar.list} }","args":[]}}
DEBUG 2023-08-18 17:05:11,547 connection.py _on_message     650 RECV < {"id":"b2756c1c-f15a-4f32-a56e-c4ae4484c92b","result":{"result":{"pages":["pages/index/index","pages/plan/plan_index","pages/plan/article","pages/my/code-details","pages/my/my_rights","pages/my/rights_list","pages/common/rights_code","pages/common/bag","pages/common/bag_detail","pages/common/buy_ok","pages/common/bag_choice","pages/my/collection","pages/scenic/scenic-list","pages/common/selected_city","pages/my/feedback","pages/my/feedback-input","pages/my/my","pages/my/contact","pages/common/agreement",...
DEBUG 2023-08-18 17:05:11,548 connection.py _safely_send    417 SEND > {"id":"4aa663dd-4ccd-448b-93d1-2d01067932d9","method":"App.callWxMethod","params":{"method":"getAccountInfoSync","args":[]}}
DEBUG 2023-08-18 17:05:11,551 connection.py _on_message     652 RECV < {"id":"4aa663dd-4ccd-448b-93d1-2d01067932d9","result":{"result":{"miniProgram":{"appId":"wxad3951dd54b8c965","envVersion":"develop","version":""}}}}
DEBUG 2023-08-18 17:05:11,552 connection.py _safely_send    417 SEND > {"id":"b0f12ba8-fff5-4eb9-bb53-572e42b700c1","method":"Tool.getInfo","params":{}}
DEBUG 2023-08-18 17:05:11,554 connection.py _on_message     652 RECV < {"id":"b0f12ba8-fff5-4eb9-bb53-572e42b700c1","result":{"version":"1.06.2306020","SDKVersion":"2.30.4"}}
DEBUG 2023-08-18 17:05:11,555 connection.py _safely_send    417 SEND > {"id":"daaff8d7-6ff9-44cf-8b2e-006554da5fd1","method":"App.callFunction","params":{"functionDeclaration":"function ideMockModal(){return!!global.__minium_mock_native_modal||(global.__minium_auth_setting={},global.__minium_mock_native_modal_list=[],global.__minium_handle_mock_modal=function(_,l){let m=[];for(;global.__minium_mock_native_modal_list.length>0;){let i=global.__minium_mock_native_modal_list.pop();if(-1===l.indexOf(i.type)||!(_ in i)){m.unshift(i);continue}let o=i[_];if(global.__minium_mock_native_modal_list.push(...m),\"function\"!=typeof o)throw`${o} is not callable`;return o(),!0}return console.warn(`can't find [${l}][${_}]`),global.__minium_mock_native_modal_list.push(...m),!1},global.__minium_get_all_modal=function(){let _=[];global.__minium_mock_native_modal_list.forEach((l=>{_.push({type:l.type,texts:Object.keys(l).filter((_=>\"type\"!==_))})}))},global.__minium_handle_mock_native_modal=function(_){return global.__minium_handle_mock_modal(_,[\"modal\",\"auth\"])},global.__minium_handle_mock_map_modal=function(_){return global.__minium_handle_mock_modal(_,[\"map\"])},global.__minium_handle_mock_auth_modal=function(_){return global.__minium_handle_mock_modal(_,[\"auth\"])},global.__minium_mock_native_modal=function(_){_.type=\"modal\",global.__minium_mock_native_modal_list.push(_)},global.__minium_mock_map_modal=function(_){_.type=\"map\",global.__minium_mock_native_modal_list.push(_)},global.__minium_mock_auth_modal=function(_){_.type=\"auth\",global.__minium_mock_native_modal_list.push(_)},!1)}","args":[]}}
DEBUG 2023-08-18 17:05:11,565 connection.py _on_message     652 RECV < {"id":"daaff8d7-6ff9-44cf-8b2e-006554da5fd1","result":{"result":false}}
DEBUG 2023-08-18 17:05:11,567 connection.py _safely_send    417 SEND > {"id":"be5c6c2c-31b9-4dc1-a6d6-dcbf30af584d","method":"App.mockWxMethod","params":{"method":"showActionSheet","functionDeclaration":"function miniActionSheet(e){return new Promise((n=>{let t={},o=e.itemList;for(let e=0;e<o.length;e++)t[o[e]]=function(){let t={errMsg:\"showActionSheet:ok\",tapIndex:e};return n(t),t};return t[\"\u53d6\u6d88\"]=function(){let e={errMsg:\"showActionSheet:fail cancel\"};return n(e),e},console.warn(\"[minium] mock wx.showActionSheet, you can use `native.handle_action_sheet` to handle it\"),global.__minium_mock_native_modal(t)}))}","args":[]}}
DEBUG 2023-08-18 17:05:11,616 connection.py _on_message     652 RECV < {"id":"be5c6c2c-31b9-4dc1-a6d6-dcbf30af584d","result":{}}
DEBUG 2023-08-18 17:05:11,617 connection.py _safely_send    417 SEND > {"id":"93524769-e257-4f15-85e3-3acca5e426ed","method":"App.getCurrentPage","params":{}}
DEBUG 2023-08-18 17:05:11,623 connection.py _on_message     652 RECV < {"id":"93524769-e257-4f15-85e3-3acca5e426ed","result":{"pageId":1,"path":"pages/index/index","query":{}}}
DEBUG 2023-08-18 17:05:11,625 connection.py _safely_send    417 SEND > {"id":"2b75c943-6758-427a-8cf1-a722b9e543ae","method":"App.callWxMethod","params":{"method":"getSetting","args":[]}}
DEBUG 2023-08-18 17:05:11,975 connection.py _on_message     652 RECV < {"id":"2b75c943-6758-427a-8cf1-a722b9e543ae","result":{"result":{"errMsg":"getSetting:ok","authSetting":{"scope.userLocation":true,"scope.address":true,"scope.invoice":true,"scope.invoiceTitle":true,"scope.userInfo":true}}}}
DEBUG 2023-08-18 17:05:11,981 connection.py _safely_send    417 SEND > {"id":"b1a0093a-287b-4c92-b181-a7bea0e6ac8a","method":"App.callFunction","params":{"functionDeclaration":"function mockNetwork(){if(!global[\"__minium_request_network_mocked\"]){function e(i,s){if(typeof i!=typeof s)return!1;switch(typeof i){case\"string\":return!!new RegExp(i).exec(s);case\"number\":return i===s;case\"object\":if(i instanceof Array){if(i.length!=s.length)return!1;for(var c=0;c<i.length;c++)if(!e(i[c],s[c]))return!1;return!0}for(var t in i)if(\"success\"!=t&&\"fail\"!=t&&\"complete\"!=t&&\"_miniMockType\"!=t){if(void 0===s[t])return!1;if(!e(i[t],s[t]))return!1}return!0}return!1}Object.defineProperty(global,\"__minium_request_network_mocked\",{value:!0,writable:!1}),global[\"__minium_request_network_mock_rule\"]||(global[\"__minium_request_network_mock_rule\"]=[]),global[\"__minium_requestTask\"]=class{constructor(e,i,s){this.success=e,this.fail=i,this.callback=s,this.chunkCallback=[],this.headersReceivedCallback=[],this.progressUpdateCallback=[],this.fd=setTimeout((()=>{this.headersReceivedCallback.forEach((e=>{this.success&&e({header:this.success.header})})),this.chunkCallback.forEach((e=>{this.success&&e(this.success.data)})),this.progressUpdateCallback.forEach((e=>{this.success&&e({progress:100,totalBytesWritten:100,totalBytesExpectedToWrite:100})})),s(this.success||this.fail)}))}abort(){clearTimeout(this.fd)}offChunkReceived(e){var i=this.chunkCallback.indexOf(e);-1!==i&&this.chunkCallback.splice(i,1)}offHeadersReceived(e){var i=this.headersReceivedCallback.indexOf(e);-1!==i&&this.headersReceivedCallback.splice(i,1)}onChunkReceived(e){this.chunkCallback.push(e)}onHeadersReceived(e){this.headersReceivedCallback.push(e)}onProgressUpdate(e){this.progressUpdateCallback.push(e)}};var i=wx._MINI_WX_PROXY_||wx,s=i[\"request\"];Object.defineProperty(i,\"request\",{configurable:!0,get:()=>function(i){for(var c=0;c<global[\"__minium_request_network_mock_rule\"].length;c++){var t=global[\"__minium_request_network_mock_rule\"][c];if(e(t,i)){if(1===t._miniMockType&&([t]=global[\"__minium_request_network_mock_rule\"].splice(c,1)),console.log(\"@@@@rule match\",t),i.__miniumMocked=!0,t.success)return new global[\"__minium_requestTask\"](t.success,void 0,(e=>{i.success&&i.success(e),i.complete&&i.complete(e)}));if(t.fail)return new global[\"__minium_requestTask\"](void 0,t.fail,(e=>{i.fail&&i.fail(e),i.complete&&i.complete(e)}));if(1===t._miniMockType)return}}return s(i)}})}}","args":[]}}
DEBUG 2023-08-18 17:05:11,985 connection.py _on_message     652 RECV < {"id":"b1a0093a-287b-4c92-b181-a7bea0e6ac8a","result":{}}
DEBUG 2023-08-18 17:05:11,987 connection.py _safely_send    417 SEND > {"id":"02a7d8db-2a24-4a67-b96f-3933d4fde1c3","method":"App.enableLog","params":{}}
DEBUG 2023-08-18 17:05:11,992 connection.py _on_message     652 RECV < {"id":"02a7d8db-2a24-4a67-b96f-3933d4fde1c3","result":{}}
DEBUG 2023-08-18 17:05:11,996 connection.py _safely_send    417 SEND > {"id":"64baa8ac-f9db-4a3e-b8fe-76035723d0ec","method":"App.callFunction","params":{"functionDeclaration":"function getAppConfig(){if(0===arguments.length)return __wxConfig;{const n={};return Array.from(arguments).forEach((r=>{n[r]=__wxConfig[r]})),n}}","args":["accountInfo"]}}
DEBUG 2023-08-18 17:05:12,001 connection.py _on_message     652 RECV < {"id":"64baa8ac-f9db-4a3e-b8fe-76035723d0ec","result":{"result":{"accountInfo":{"appId":"wxad3951dd54b8c965","nickname":"路路游旅游一卡通","icon":"http://wx.qlogo.cn/mmhead/Q3auHgzwzM5SiaKDQIYkrts0TvBSibiardxjFichw4gncxLiaUYhJOHQ2RQ/0"}}}}
DEBUG 2023-08-18 17:05:12,002 connection.py _safely_send    417 SEND > {"id":"487dafa7-9025-4704-93ae-18218a037d01","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
DEBUG 2023-08-18 17:05:12,010 connection.py _on_message     650 RECV < {"id":"487dafa7-9025-4704-93ae-18218a037d01","result":{"result":{"model":"iPhone 6/7/8 Plus","pixelRatio":3,"windowWidth":414,"windowHeight":736,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":414,"screenHeight":736,"SDKVersion":"2.30.4","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":100,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,...
INFO  2023-08-18 17:05:12,011 minitest.py init_miniprogram 159 end init miniprogram
INFO  2023-08-18 17:05:12,022 minitest.py _miniSetUp      340 =========Current case: test_liangyou=========
INFO  2023-08-18 17:05:12,025 minitest.py _miniSetUp      343 package info: D:.路路游小程序.tests.test_login, case info: TestShouye_1.test_liangyou
INFO  2023-08-18 17:05:12,027 basenative.py wrapper         24  call BaseNative.check_connection
INFO  2023-08-18 17:05:12,029 basenative.py wrapper         28  call BaseNative.check_connection end
INFO  2023-08-18 17:05:12,033 minitest.py capture         686 capture setup.png
INFO  2023-08-18 17:05:12,035 basenative.py wrapper         24  call IdeNative.screen_shot
DEBUG 2023-08-18 17:05:12,036 connection.py _safely_send    417 SEND > {"id":"96b395a8-5052-4c72-8e97-6cfa5d1d7b54","method":"App.captureScreenshot","params":{}}
DEBUG 2023-08-18 17:05:12,773 connection.py _on_message     650 RECV < {"id":"96b395a8-5052-4c72-8e97-6cfa5d1d7b54","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAZ4AAALgCAIAAAAr3oZ0AAAAAXNSR0IArs4c6QAAIABJREFUeJx0vVmWJLmOJCoCqkf1yt7Germ9gkxXQt6HACDNIsuqTl4PG1SpIAbBSP5//+//vu8bAsnMVOZaKxj7feNZe+/nefbektZakgBExN577x0R63kAZCaCKVFBMFOkSAKZ2v4JuZSUUgIAKSOCpATSf4cEyTeh/yczf35WZpIEBCiVUgJY8UiSKCkiAAIkCe7EJiNEIPIVQCgAIFKxBQGQRDIiAOy9AxH0egTAt/Z31qL/joiIkJQpQCR/f7XW8q+k9AL6n3qeR1Iv3k8tgET4cVJbEokIfn4H/uFay39L2jsjuNbKTPTLu+Yb+db3p/0e55r+CUAlSHoTfWv/V8pYAJiZa/28v68fSpKwyZwvz2NKiHgg9hpWb6...
INFO  2023-08-18 17:05:12,778 basenative.py wrapper         28  call IdeNative.screen_shot end
INFO  2023-08-18 17:05:12,779 minitest.py _miniSetUp      393 =========case: test_liangyou start=========
DEBUG 2023-08-18 17:05:13,309 connection.py _on_message     652 RECV < {"method":"App.logAdded","params":{"type":"log","args":[{"hasUpdate":false}]}}
DEBUG 2023-08-18 17:05:15,790 connection.py _safely_send    417 SEND > {"id":"af7999f9-6160-4aa5-824f-cb383e195903","method":"Page.getElementsByXpath","params":{"selector":"/view/biz-index-head/view/view","pageId":1}}
DEBUG 2023-08-18 17:05:15,808 connection.py _on_message     652 RECV < {"id":"af7999f9-6160-4aa5-824f-cb383e195903","result":{"elements":[{"elementId":"8ab7e249-bb57-4cc9-9905-729a5785338e","tagName":"view"}]}}
DEBUG 2023-08-18 17:05:15,811 connection.py _safely_send    417 SEND > {"id":"242da07d-394b-4d5f-ba06-06ab83186910","method":"Element.getStyles","params":{"names":["pointer-events"],"elementId":"8ab7e249-bb57-4cc9-9905-729a5785338e","pageId":1}}
DEBUG 2023-08-18 17:05:15,818 connection.py _on_message     652 RECV < {"id":"242da07d-394b-4d5f-ba06-06ab83186910","result":{"styles":["auto"]}}
DEBUG 2023-08-18 17:05:15,819 connection.py _safely_send    417 SEND > {"id":"24579089-b403-403c-9cc2-c541f6eea66c","method":"Element.tap","params":{"elementId":"8ab7e249-bb57-4cc9-9905-729a5785338e","pageId":1}}
DEBUG 2023-08-18 17:05:15,918 connection.py _on_message     652 RECV < {"id":"24579089-b403-403c-9cc2-c541f6eea66c","result":{}}
DEBUG 2023-08-18 17:05:16,041 connection.py _on_message     652 RECV < {"method":"App.logAdded","params":{"type":"warn","args":["[Component] property \"data\" of \"components/lee-select-city/lee-latter-list\" received type-uncompatible value: expected <Array> but got non-array value. Used empty array instead."]}}
DEBUG 2023-08-18 17:05:16,048 connection.py _on_message     652 RECV < {"method":"App.logAdded","params":{"type":"warn","args":["[Component] property \"selected\" of \"components/lee-select-city/lee-latter-list\" received type-uncompatible value: expected <Object> but got non-object value. Used null instead."]}}
DEBUG 2023-08-18 17:05:16,050 connection.py _on_message     652 RECV < {"method":"App.logAdded","params":{"type":"warn","args":["[Component] property \"data\" of \"components/lee-select-city/lee-latter-list\" received type-uncompatible value: expected <Array> but got non-array value. Used empty array instead."]}}
DEBUG 2023-08-18 17:05:16,051 connection.py _on_message     652 RECV < {"method":"App.logAdded","params":{"type":"warn","args":["[Component] property \"selected\" of \"components/lee-select-city/lee-latter-list\" received type-uncompatible value: expected <Object> but got non-object value. Used null instead."]}}
DEBUG 2023-08-18 17:05:16,087 connection.py _on_message     652 RECV < {"method":"App.logAdded","params":{"type":"warn","args":["[Component] property \"selected\" of \"components/lee-select-city/lee-latter-list\" received type-uncompatible value: expected <Object> but got non-object value. Used null instead."]}}
DEBUG 2023-08-18 17:05:16,088 connection.py _on_message     652 RECV < {"method":"App.logAdded","params":{"type":"warn","args":["[Component] property \"selected\" of \"components/lee-select-city/lee-latter-list\" received type-uncompatible value: expected <Object> but got non-object value. Used null instead."]}}
DEBUG 2023-08-18 17:05:16,266 connection.py _on_message     650 RECV < {"method":"App.exceptionThrown","params":{"message":"_this.setLocationData is not a function","stack":"TypeError: _this.setLocationData is not a function\n    at Object.success (http://127.0.0.1:59656/appservice/pages/common/selected_city.js?t=wechat&s=1692349485829&v=9645cfe03f84cc02692ef5cb9c6738fb:182:31)\n    at Object.handleData (http://127.0.0.1:59656/appservice/common/vendor.js?t=wechat&s=1692349485829&v=89b5c89f382fa501a7bab0cabe2e6de7:12607:15)\n    at options.success (http://127.0.0.1:59656/app...
DEBUG 2023-08-18 17:05:16,460 connection.py _on_message     652 RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":2,"path":"pages/common/selected_city","query":{},"openType":"navigateTo","__ts__":1692349516440},1692349516444]}}
INFO  2023-08-18 17:05:16,462 app.py     _on_route_changed 845 Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 2, 'path': 'pages/common/selected_city', 'query': {}, 'openType': 'navigateTo', '__ts__': 1692349516440}, 1692349516444]}
DEBUG 2023-08-18 17:05:18,939 connection.py _safely_send    417 SEND > {"id":"8b0cf5ad-b1a0-40ce-8910-017234ba1c72","method":"Page.getElementsByXpath","params":{"selector":"/lee-select-city/view/view/view/scroll-view[1]/view/view[2]","pageId":2}}
DEBUG 2023-08-18 17:05:18,946 connection.py _on_message     652 RECV < {"id":"8b0cf5ad-b1a0-40ce-8910-017234ba1c72","result":{"elements":[{"elementId":"eab4d795-818b-4fae-950a-c72470a3523e","tagName":"view"}]}}
DEBUG 2023-08-18 17:05:18,948 connection.py _safely_send    417 SEND > {"id":"9b613900-b8ad-4fef-ad75-f8efd80e0171","method":"Element.getStyles","params":{"names":["pointer-events"],"elementId":"eab4d795-818b-4fae-950a-c72470a3523e","pageId":2}}
DEBUG 2023-08-18 17:05:18,952 connection.py _on_message     652 RECV < {"id":"9b613900-b8ad-4fef-ad75-f8efd80e0171","result":{"styles":["auto"]}}
DEBUG 2023-08-18 17:05:18,953 connection.py _safely_send    417 SEND > {"id":"7049e284-25c1-41cb-ab17-96106eac4bca","method":"Element.tap","params":{"elementId":"eab4d795-818b-4fae-950a-c72470a3523e","pageId":2}}
DEBUG 2023-08-18 17:05:18,968 connection.py _on_message     652 RECV < {"id":"7049e284-25c1-41cb-ab17-96106eac4bca","result":{}}
DEBUG 2023-08-18 17:05:21,982 minitest.py _miniTearDown   589 =========Current case Down: test_liangyou=========
INFO  2023-08-18 17:05:21,984 minitest.py capture         686 capture teardown.png
INFO  2023-08-18 17:05:21,984 basenative.py wrapper         24  call IdeNative.screen_shot
DEBUG 2023-08-18 17:05:21,984 connection.py _safely_send    417 SEND > {"id":"a76096f8-5e75-4b81-960d-29344d097568","method":"App.captureScreenshot","params":{}}
DEBUG 2023-08-18 17:05:22,247 connection.py _on_message     650 RECV < {"id":"a76096f8-5e75-4b81-960d-29344d097568","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAZ4AAAKgCAIAAAAkhowYAAAAAXNSR0IArs4c6QAAIABJREFUeJzt3X9MXNed///jLZTBwXgwsfCkU9PBTkudcdIdE2+LUzZRbS+xyFjCoYn0rQVqBFtpO2P0lb/a7tcjiNFIZSX0EZ7prryDvAJ5P1WzdoiYsCwljtIv9bCtY6af1Nhhk3jmQ8J6YjUON9gxl+Jdvn+cT67uzgyYwdiMj5+Pv+6cuffOuY7m5ff5Mc6a+fl5AQBq+ZPV7gAArDyiDYCCiDYACiLaACiIaAOgIKINgIKINgAKItoAKIhoA6Agog2Agog2AAoi2gAoiGgDoCCiDYCCiDYACiLaACiIaAOgIKINgIJyVrsDALLI7Oxsf3//tWvXhBBOp7OystLc/thjj5WXl69qB5dqBaJtenp6YGDgqaeestvti5...
INFO  2023-08-18 17:05:22,250 basenative.py wrapper         28  call IdeNative.screen_shot end
INFO  2023-08-18 17:05:22,251 basenative.py wrapper         24  call BaseNative.get_start_up
INFO  2023-08-18 17:05:22,252 basenative.py wrapper         28  call BaseNative.get_start_up end
INFO  2023-08-18 17:06:23,302 minitest.py init_miniprogram 144 start init miniprogram
INFO  2023-08-18 17:06:23,304 basenative.py wrapper         24  call IdeNative.start_wechat
INFO  2023-08-18 17:06:23,305 basenative.py wrapper         28  call IdeNative.start_wechat end
INFO  2023-08-18 17:06:23,305 wx_minium.py launch_dev_tool 565 Starting dev tool and launch MiniProgram project ...
INFO  2023-08-18 17:06:23,307 minium_object.py _do_shell       83  de shell: cli.bat auto --project "D:\software\mini-data\c-luluyou\unpackage\dist\dev\mp-weixin" --auto-port 9421
INFO  2023-08-18 17:06:38,021 minium_object.py _do_shell       101 err:
- initialize

× IDE may already started at port 17433, trying to connect

√ IDE server started successfully, listening on http://127.0.0.1:58286
- preparing
- Fetching AppID (wxad3951dd54b8c965) permissions
× Fetching AppID (wxad3951dd54b8c965) permissions

INFO  2023-08-18 17:06:38,021 minium_object.py _do_shell       102 out:
[error] {
  code: 10,
  message: 'Error: 错误 TypeError: Failed to fetch (code 10)Error: 错误 TypeError: Failed to fetch (code 10)\n' +
    '    at Object.GENERIC_ERROR (D:\\software\\微信web开发者工具\\code\\package.nw\\core.wxvpkg\\7201d239ccdbdc262e2ecf5fe0c8aca3.js:2:93)\n' +
    '    at Proxy.exports.getAppInfo (D:\\software\\微信web开发者工具\\code\\package.nw\\core.wxvpkg\\b3effda444fe34caae1384305e9562c6.js:2:1063)\n' +
    '    at async exports.getProjectInfo (D:\\software\\微信web开发者工具\\code\\package.nw\\core.wxvpkg\\9d9d19a87db58211a644d4d305c488d5.js:2:2443)\n' +
    '    at async D:\\software\\微信web开发者工具\\code\\package.nw\\core.wxvpkg\\7a975443f52e91830ae1d65cdf8c86db.js:2:3660\n' +
    '    at async Object.<anonymous> (D:\\software\\微信web开发者工具\\code\\package.nw\\core.wxvpkg\\7a975443f52e91830ae1d65cdf8c86db.js:2:3012)'
}

INFO  2023-08-18 17:06:52,603 minitest.py init_miniprogram 144 start init miniprogram
INFO  2023-08-18 17:06:52,605 basenative.py wrapper         24  call IdeNative.start_wechat
INFO  2023-08-18 17:06:52,605 basenative.py wrapper         28  call IdeNative.start_wechat end
INFO  2023-08-18 17:06:52,606 wx_minium.py launch_dev_tool 565 Starting dev tool and launch MiniProgram project ...
INFO  2023-08-18 17:06:52,607 minium_object.py _do_shell       83  de shell: cli.bat auto --project "D:\software\mini-data\c-luluyou\unpackage\dist\dev\mp-weixin" --auto-port 9421
INFO  2023-08-18 17:06:56,153 minium_object.py _do_shell       101 err:
- initialize

√ IDE server has started, listening on http://127.0.0.1:58286
- preparing
- Fetching AppID (wxad3951dd54b8c965) permissions
√ Using AppID: wxad3951dd54b8c965
√ auto

INFO  2023-08-18 17:06:56,155 minium_object.py _do_shell       102 out:

INFO  2023-08-18 17:07:06,192 wx_minium.py connect_dev_tool 661 Trying to connect Dev tool ...
INFO  2023-08-18 17:07:06,463 connection.py _connect        342 connect to WebChatTools successfully
DEBUG 2023-08-18 17:07:06,465 connection.py _safely_send    417 SEND > {"id":"22f992ca-bd6a-4c1f-b5ff-bc24e22d2777","method":"Tool.getInfo","params":{}}
DEBUG 2023-08-18 17:07:06,490 connection.py _on_message     652 RECV < {"id":"22f992ca-bd6a-4c1f-b5ff-bc24e22d2777","result":{"version":"1.06.2306020","SDKVersion":"2.30.4"}}
DEBUG 2023-08-18 17:07:06,496 connection.py _safely_send    417 SEND > {"id":"fbc77d3b-e871-4075-9f60-318693621683","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
DEBUG 2023-08-18 17:07:14,917 connection.py _on_message     652 RECV < {"method":"App.initialized","params":{"from":"devtools"}}
DEBUG 2023-08-18 17:07:14,949 connection.py _on_message     650 RECV < {"id":"fbc77d3b-e871-4075-9f60-318693621683","result":{"result":{"model":"iPhone 6/7/8 Plus","pixelRatio":3,"windowWidth":414,"windowHeight":736,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":414,"screenHeight":736,"SDKVersion":"2.30.4","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":100,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,...
DEBUG 2023-08-18 17:07:14,951 connection.py remove          283 remove key which is not in observers
DEBUG 2023-08-18 17:07:14,953 connection.py _safely_send    417 SEND > {"id":"e30448e5-8490-41f9-93d7-468b6a9bd445","method":"App.addBinding","params":{"name":"onAppRouteDone"}}
DEBUG 2023-08-18 17:07:15,001 connection.py _on_message     652 RECV < {"id":"e30448e5-8490-41f9-93d7-468b6a9bd445","result":{}}
DEBUG 2023-08-18 17:07:15,005 connection.py _safely_send    417 SEND > {"id":"ebd76282-3248-4995-ba73-6043a1bbf8e9","method":"App.callFunction","params":{"functionDeclaration":"function () {\n    if (!global.__minium_onAppRouteDone) {\n        wx.onAppRouteDone(function (options) {\n            onAppRouteDone(options, Date.now())\n        })\n        global.__minium_onAppRouteDone = true\n    }\n}","args":[]}}
DEBUG 2023-08-18 17:07:15,031 connection.py _on_message     652 RECV < {"id":"ebd76282-3248-4995-ba73-6043a1bbf8e9","result":{}}
DEBUG 2023-08-18 17:07:15,040 connection.py _safely_send    417 SEND > {"id":"1fcbb843-56fe-49ff-b767-d50bd5d2b9d8","method":"App.callFunction","params":{"functionDeclaration":"function miniumRequestStack(){if(!global.__minium_request_stack){global.__minium_request_stack=new Map,global.__minium_wait_util=function(e=0,t=20){var _=(getCurrentPages().pop()||{}).__wxWebviewId__;return new Promise((r=>{var a=10*t,i=setInterval((()=>{a--;var t=global.__minium_request_stack.has(_)?global.__minium_request_stack.get(_).size:0;console.debug(\"[minitest] current stack size: \",t),t<=e?(clearInterval(i),r(!0)):a<0&&(clearInterval(i),r(!1))}),100)}))};var e=wx._MINI_WX_PROXY_||wx,t=e.request;return Object.defineProperty(e,\"request\",{configurable:!0,get:()=>function(e){if(\"https://weapp.tencent.com/jscov_driver/CollectCovTimer\"==e.url)return t(e);var _,r=(getCurrentPages().pop()||{}).__wxWebviewId__;global.__minium_request_stack.has(r)?_=global.__minium_request_stack.get(r):(_=new Map,global.__minium_request_stack.set(r,_));var a,i=e.complete;e.complete=e=>{_.delete(a),0===_.size&&global.__minium_request_stack.delete(r),i&&i(e)};var n=t(e);return a=n&&n.uniqueId||Math.random(),_.set(a,Date.now()),n}}),!0}return!1}","args":[]}}
DEBUG 2023-08-18 17:07:15,113 connection.py _on_message     652 RECV < {"id":"1fcbb843-56fe-49ff-b767-d50bd5d2b9d8","result":{"result":true}}
DEBUG 2023-08-18 17:07:15,149 connection.py _safely_send    417 SEND > {"id":"72195aa2-4237-49e7-aa30-d546afc17809","method":"App.callFunction","params":{"functionDeclaration":"function checkInject(){var i=!1;return global.__minium?i=!0:(global.__minium={},i=!1),{injected:i,isThirdApp:!!wx._MINI_WX_PROXY_}}","args":[]}}
DEBUG 2023-08-18 17:07:15,209 connection.py _on_message     652 RECV < {"id":"72195aa2-4237-49e7-aa30-d546afc17809","result":{"result":{"injected":false,"isThirdApp":false}}}
DEBUG 2023-08-18 17:07:15,212 connection.py _safely_send    417 SEND > {"id":"1fbdfa79-4709-45a4-8bca-7555d3af5601","method":"App.callFunction","params":{"functionDeclaration":"function(){return {\"pages\": __wxConfig.pages, \"tabBar\": __wxConfig.tabBar && __wxConfig.tabBar.list} }","args":[]}}
DEBUG 2023-08-18 17:07:15,246 connection.py _on_message     650 RECV < {"id":"1fbdfa79-4709-45a4-8bca-7555d3af5601","result":{"result":{"pages":["pages/index/index","pages/plan/plan_index","pages/plan/article","pages/my/code-details","pages/my/my_rights","pages/my/rights_list","pages/common/rights_code","pages/common/bag","pages/common/bag_detail","pages/common/buy_ok","pages/common/bag_choice","pages/my/collection","pages/scenic/scenic-list","pages/common/selected_city","pages/my/feedback","pages/my/feedback-input","pages/my/my","pages/my/contact","pages/common/agreement",...
DEBUG 2023-08-18 17:07:15,247 connection.py _safely_send    417 SEND > {"id":"d8e98f25-8be8-4838-aeee-365d1050e898","method":"App.callWxMethod","params":{"method":"getAccountInfoSync","args":[]}}
DEBUG 2023-08-18 17:07:15,254 connection.py _on_message     652 RECV < {"id":"d8e98f25-8be8-4838-aeee-365d1050e898","result":{"result":{"miniProgram":{"appId":"wxad3951dd54b8c965","envVersion":"develop","version":""}}}}
DEBUG 2023-08-18 17:07:15,256 connection.py _safely_send    417 SEND > {"id":"9f5a961f-e3bf-4071-85c5-4e566d4c73c0","method":"Tool.getInfo","params":{}}
DEBUG 2023-08-18 17:07:15,259 connection.py _on_message     652 RECV < {"id":"9f5a961f-e3bf-4071-85c5-4e566d4c73c0","result":{"version":"1.06.2306020","SDKVersion":"2.30.4"}}
DEBUG 2023-08-18 17:07:15,266 connection.py _safely_send    417 SEND > {"id":"f9ac16de-66eb-4812-a340-71859b647065","method":"App.callFunction","params":{"functionDeclaration":"function ideMockModal(){return!!global.__minium_mock_native_modal||(global.__minium_auth_setting={},global.__minium_mock_native_modal_list=[],global.__minium_handle_mock_modal=function(_,l){let m=[];for(;global.__minium_mock_native_modal_list.length>0;){let i=global.__minium_mock_native_modal_list.pop();if(-1===l.indexOf(i.type)||!(_ in i)){m.unshift(i);continue}let o=i[_];if(global.__minium_mock_native_modal_list.push(...m),\"function\"!=typeof o)throw`${o} is not callable`;return o(),!0}return console.warn(`can't find [${l}][${_}]`),global.__minium_mock_native_modal_list.push(...m),!1},global.__minium_get_all_modal=function(){let _=[];global.__minium_mock_native_modal_list.forEach((l=>{_.push({type:l.type,texts:Object.keys(l).filter((_=>\"type\"!==_))})}))},global.__minium_handle_mock_native_modal=function(_){return global.__minium_handle_mock_modal(_,[\"modal\",\"auth\"])},global.__minium_handle_mock_map_modal=function(_){return global.__minium_handle_mock_modal(_,[\"map\"])},global.__minium_handle_mock_auth_modal=function(_){return global.__minium_handle_mock_modal(_,[\"auth\"])},global.__minium_mock_native_modal=function(_){_.type=\"modal\",global.__minium_mock_native_modal_list.push(_)},global.__minium_mock_map_modal=function(_){_.type=\"map\",global.__minium_mock_native_modal_list.push(_)},global.__minium_mock_auth_modal=function(_){_.type=\"auth\",global.__minium_mock_native_modal_list.push(_)},!1)}","args":[]}}
DEBUG 2023-08-18 17:07:15,274 connection.py _on_message     652 RECV < {"id":"f9ac16de-66eb-4812-a340-71859b647065","result":{"result":false}}
DEBUG 2023-08-18 17:07:15,275 connection.py _safely_send    417 SEND > {"id":"97b88422-f272-4b9c-ba66-c39283969767","method":"App.mockWxMethod","params":{"method":"showActionSheet","functionDeclaration":"function miniActionSheet(e){return new Promise((n=>{let t={},o=e.itemList;for(let e=0;e<o.length;e++)t[o[e]]=function(){let t={errMsg:\"showActionSheet:ok\",tapIndex:e};return n(t),t};return t[\"\u53d6\u6d88\"]=function(){let e={errMsg:\"showActionSheet:fail cancel\"};return n(e),e},console.warn(\"[minium] mock wx.showActionSheet, you can use `native.handle_action_sheet` to handle it\"),global.__minium_mock_native_modal(t)}))}","args":[]}}
DEBUG 2023-08-18 17:07:15,279 connection.py _on_message     652 RECV < {"id":"97b88422-f272-4b9c-ba66-c39283969767","result":{}}
DEBUG 2023-08-18 17:07:15,280 connection.py _safely_send    417 SEND > {"id":"745c6c48-602d-4944-935a-46b5014954cb","method":"App.getCurrentPage","params":{}}
DEBUG 2023-08-18 17:07:15,284 connection.py _on_message     652 RECV < {"id":"745c6c48-602d-4944-935a-46b5014954cb","result":{"pageId":1,"path":"pages/index/index","query":{}}}
DEBUG 2023-08-18 17:07:15,287 connection.py _safely_send    417 SEND > {"id":"783bcbde-f406-4f16-a8d6-36be64960dc7","method":"App.callWxMethod","params":{"method":"getSetting","args":[]}}
DEBUG 2023-08-18 17:07:15,696 connection.py _on_message     652 RECV < {"id":"783bcbde-f406-4f16-a8d6-36be64960dc7","result":{"result":{"errMsg":"getSetting:ok","authSetting":{"scope.userLocation":true,"scope.address":true,"scope.invoice":true,"scope.invoiceTitle":true,"scope.userInfo":true}}}}
DEBUG 2023-08-18 17:07:15,699 connection.py _safely_send    417 SEND > {"id":"5816ad67-8f53-48c9-bc09-ef4b57dfae86","method":"App.callFunction","params":{"functionDeclaration":"function mockNetwork(){if(!global[\"__minium_request_network_mocked\"]){function e(i,s){if(typeof i!=typeof s)return!1;switch(typeof i){case\"string\":return!!new RegExp(i).exec(s);case\"number\":return i===s;case\"object\":if(i instanceof Array){if(i.length!=s.length)return!1;for(var c=0;c<i.length;c++)if(!e(i[c],s[c]))return!1;return!0}for(var t in i)if(\"success\"!=t&&\"fail\"!=t&&\"complete\"!=t&&\"_miniMockType\"!=t){if(void 0===s[t])return!1;if(!e(i[t],s[t]))return!1}return!0}return!1}Object.defineProperty(global,\"__minium_request_network_mocked\",{value:!0,writable:!1}),global[\"__minium_request_network_mock_rule\"]||(global[\"__minium_request_network_mock_rule\"]=[]),global[\"__minium_requestTask\"]=class{constructor(e,i,s){this.success=e,this.fail=i,this.callback=s,this.chunkCallback=[],this.headersReceivedCallback=[],this.progressUpdateCallback=[],this.fd=setTimeout((()=>{this.headersReceivedCallback.forEach((e=>{this.success&&e({header:this.success.header})})),this.chunkCallback.forEach((e=>{this.success&&e(this.success.data)})),this.progressUpdateCallback.forEach((e=>{this.success&&e({progress:100,totalBytesWritten:100,totalBytesExpectedToWrite:100})})),s(this.success||this.fail)}))}abort(){clearTimeout(this.fd)}offChunkReceived(e){var i=this.chunkCallback.indexOf(e);-1!==i&&this.chunkCallback.splice(i,1)}offHeadersReceived(e){var i=this.headersReceivedCallback.indexOf(e);-1!==i&&this.headersReceivedCallback.splice(i,1)}onChunkReceived(e){this.chunkCallback.push(e)}onHeadersReceived(e){this.headersReceivedCallback.push(e)}onProgressUpdate(e){this.progressUpdateCallback.push(e)}};var i=wx._MINI_WX_PROXY_||wx,s=i[\"request\"];Object.defineProperty(i,\"request\",{configurable:!0,get:()=>function(i){for(var c=0;c<global[\"__minium_request_network_mock_rule\"].length;c++){var t=global[\"__minium_request_network_mock_rule\"][c];if(e(t,i)){if(1===t._miniMockType&&([t]=global[\"__minium_request_network_mock_rule\"].splice(c,1)),console.log(\"@@@@rule match\",t),i.__miniumMocked=!0,t.success)return new global[\"__minium_requestTask\"](t.success,void 0,(e=>{i.success&&i.success(e),i.complete&&i.complete(e)}));if(t.fail)return new global[\"__minium_requestTask\"](void 0,t.fail,(e=>{i.fail&&i.fail(e),i.complete&&i.complete(e)}));if(1===t._miniMockType)return}}return s(i)}})}}","args":[]}}
DEBUG 2023-08-18 17:07:15,709 connection.py _on_message     652 RECV < {"id":"5816ad67-8f53-48c9-bc09-ef4b57dfae86","result":{}}
DEBUG 2023-08-18 17:07:15,710 connection.py _safely_send    417 SEND > {"id":"0700db5f-4c76-4110-9544-4106da6a2cb6","method":"App.enableLog","params":{}}
DEBUG 2023-08-18 17:07:15,712 connection.py _on_message     652 RECV < {"id":"0700db5f-4c76-4110-9544-4106da6a2cb6","result":{}}
DEBUG 2023-08-18 17:07:15,715 connection.py _safely_send    417 SEND > {"id":"4ba4336f-034c-4c23-a698-75cc5882593b","method":"App.callFunction","params":{"functionDeclaration":"function getAppConfig(){if(0===arguments.length)return __wxConfig;{const n={};return Array.from(arguments).forEach((r=>{n[r]=__wxConfig[r]})),n}}","args":["accountInfo"]}}
DEBUG 2023-08-18 17:07:15,721 connection.py _on_message     652 RECV < {"id":"4ba4336f-034c-4c23-a698-75cc5882593b","result":{"result":{"accountInfo":{"appId":"wxad3951dd54b8c965","nickname":"路路游旅游一卡通","icon":"http://wx.qlogo.cn/mmhead/Q3auHgzwzM5SiaKDQIYkrts0TvBSibiardxjFichw4gncxLiaUYhJOHQ2RQ/0"}}}}
DEBUG 2023-08-18 17:07:15,722 connection.py _safely_send    417 SEND > {"id":"c986727a-0d16-4cec-b855-c32ed4b79270","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
DEBUG 2023-08-18 17:07:15,727 connection.py _on_message     650 RECV < {"id":"c986727a-0d16-4cec-b855-c32ed4b79270","result":{"result":{"model":"iPhone 6/7/8 Plus","pixelRatio":3,"windowWidth":414,"windowHeight":736,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":414,"screenHeight":736,"SDKVersion":"2.30.4","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":100,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,...
INFO  2023-08-18 17:07:15,728 minitest.py init_miniprogram 159 end init miniprogram
INFO  2023-08-18 17:07:15,732 minitest.py _miniSetUp      340 =========Current case: test_liangyou=========
INFO  2023-08-18 17:07:15,733 minitest.py _miniSetUp      343 package info: D:.路路游小程序.tests.test_login, case info: TestShouye_1.test_liangyou
INFO  2023-08-18 17:07:15,733 basenative.py wrapper         24  call BaseNative.check_connection
INFO  2023-08-18 17:07:15,735 basenative.py wrapper         28  call BaseNative.check_connection end
INFO  2023-08-18 17:07:15,737 minitest.py capture         686 capture setup.png
INFO  2023-08-18 17:07:15,738 basenative.py wrapper         24  call IdeNative.screen_shot
DEBUG 2023-08-18 17:07:15,738 connection.py _safely_send    417 SEND > {"id":"cef4d856-4869-4708-ada9-c412a16cbcdd","method":"App.captureScreenshot","params":{}}
DEBUG 2023-08-18 17:07:16,343 connection.py _on_message     650 RECV < {"id":"cef4d856-4869-4708-ada9-c412a16cbcdd","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAZ4AAALgCAIAAAAr3oZ0AAAAAXNSR0IArs4c6QAAIABJREFUeJx0vVmWJLmOJCoCqkf1yt7Germ9gkxXQt6HACDNIsuqTl4PG1SpIAbBSP5//+//vu8bAsnMVOZaKxj7feNZe+/nefbektZakgBExN577x0R63kAZCaCKVFBMFOkSAKZ2v4JuZSUUgIAKSOCpATSf4cEyTeh/yczf35WZpIEBCiVUgJY8UiSKCkiAAIkCe7EJiNEIPIVQCgAIFKxBQGQRDIiAOy9AxH0egTAt/Z31qL/joiIkJQpQCR/f7XW8q+k9AL6n3qeR1Iv3k8tgET4cVJbEokIfn4H/uFay39L2jsjuNbKTPTLu+Yb+db3p/0e55r+CUAlSHoTfWv/V8pYAJiZa/28v68fSpKwyZwvz2NKiHgg9hpWb6...
INFO  2023-08-18 17:07:16,348 basenative.py wrapper         28  call IdeNative.screen_shot end
INFO  2023-08-18 17:07:16,348 minitest.py _miniSetUp      393 =========case: test_liangyou start=========
DEBUG 2023-08-18 17:07:17,881 connection.py _on_message     652 RECV < {"method":"App.logAdded","params":{"type":"log","args":[{"hasUpdate":false}]}}
DEBUG 2023-08-18 17:07:19,354 connection.py _safely_send    417 SEND > {"id":"fd8e0a18-2652-4a7b-a2b7-025b795c494b","method":"Page.getElementsByXpath","params":{"selector":"/view/biz-index-head/view/view","pageId":1}}
DEBUG 2023-08-18 17:07:19,366 connection.py _on_message     652 RECV < {"id":"fd8e0a18-2652-4a7b-a2b7-025b795c494b","result":{"elements":[{"elementId":"fac3b274-483e-4492-ad81-f41ebc75346b","tagName":"view"}]}}
DEBUG 2023-08-18 17:07:19,368 connection.py _safely_send    417 SEND > {"id":"f45b183d-1191-45d3-a5e0-fcdcb41b381c","method":"Element.getStyles","params":{"names":["pointer-events"],"elementId":"fac3b274-483e-4492-ad81-f41ebc75346b","pageId":1}}
DEBUG 2023-08-18 17:07:19,373 connection.py _on_message     652 RECV < {"id":"f45b183d-1191-45d3-a5e0-fcdcb41b381c","result":{"styles":["auto"]}}
DEBUG 2023-08-18 17:07:19,374 connection.py _safely_send    417 SEND > {"id":"f24eed0d-a934-45eb-83d7-c3111916e835","method":"Element.tap","params":{"elementId":"fac3b274-483e-4492-ad81-f41ebc75346b","pageId":1}}
DEBUG 2023-08-18 17:07:19,469 connection.py _on_message     652 RECV < {"id":"f24eed0d-a934-45eb-83d7-c3111916e835","result":{}}
DEBUG 2023-08-18 17:07:19,671 connection.py _on_message     652 RECV < {"method":"App.logAdded","params":{"type":"warn","args":["[Component] property \"data\" of \"components/lee-select-city/lee-latter-list\" received type-uncompatible value: expected <Array> but got non-array value. Used empty array instead."]}}
DEBUG 2023-08-18 17:07:19,674 connection.py _on_message     652 RECV < {"method":"App.logAdded","params":{"type":"warn","args":["[Component] property \"selected\" of \"components/lee-select-city/lee-latter-list\" received type-uncompatible value: expected <Object> but got non-object value. Used null instead."]}}
DEBUG 2023-08-18 17:07:19,679 connection.py _on_message     652 RECV < {"method":"App.logAdded","params":{"type":"warn","args":["[Component] property \"data\" of \"components/lee-select-city/lee-latter-list\" received type-uncompatible value: expected <Array> but got non-array value. Used empty array instead."]}}
DEBUG 2023-08-18 17:07:19,682 connection.py _on_message     652 RECV < {"method":"App.logAdded","params":{"type":"warn","args":["[Component] property \"selected\" of \"components/lee-select-city/lee-latter-list\" received type-uncompatible value: expected <Object> but got non-object value. Used null instead."]}}
DEBUG 2023-08-18 17:07:19,714 connection.py _on_message     652 RECV < {"method":"App.logAdded","params":{"type":"warn","args":["[Component] property \"selected\" of \"components/lee-select-city/lee-latter-list\" received type-uncompatible value: expected <Object> but got non-object value. Used null instead."]}}
DEBUG 2023-08-18 17:07:19,717 connection.py _on_message     652 RECV < {"method":"App.logAdded","params":{"type":"warn","args":["[Component] property \"selected\" of \"components/lee-select-city/lee-latter-list\" received type-uncompatible value: expected <Object> but got non-object value. Used null instead."]}}
DEBUG 2023-08-18 17:07:19,889 connection.py _on_message     650 RECV < {"method":"App.exceptionThrown","params":{"message":"_this.setLocationData is not a function","stack":"TypeError: _this.setLocationData is not a function\n    at Object.success (http://127.0.0.1:31323/appservice/pages/common/selected_city.js?t=wechat&s=1692349617265&v=9645cfe03f84cc02692ef5cb9c6738fb:182:31)\n    at Object.handleData (http://127.0.0.1:31323/appservice/common/vendor.js?t=wechat&s=1692349617265&v=89b5c89f382fa501a7bab0cabe2e6de7:12607:15)\n    at options.success (http://127.0.0.1:31323/app...
DEBUG 2023-08-18 17:07:20,169 connection.py _on_message     652 RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":2,"path":"pages/common/selected_city","query":{},"openType":"navigateTo","__ts__":1692349640154},1692349640156]}}
INFO  2023-08-18 17:07:20,173 app.py     _on_route_changed 845 Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 2, 'path': 'pages/common/selected_city', 'query': {}, 'openType': 'navigateTo', '__ts__': 1692349640154}, 1692349640156]}
DEBUG 2023-08-18 17:07:22,478 connection.py _safely_send    417 SEND > {"id":"678d7ffe-46f6-4aa0-9408-88253a7daaea","method":"Page.getElementsByXpath","params":{"selector":"/lee-select-city/view/view/view/scroll-view[1]/view/view[2]","pageId":2}}
DEBUG 2023-08-18 17:07:22,490 connection.py _on_message     652 RECV < {"id":"678d7ffe-46f6-4aa0-9408-88253a7daaea","result":{"elements":[{"elementId":"e2e6f5f1-86ab-4387-81a0-a0943fb04117","tagName":"view"}]}}
DEBUG 2023-08-18 17:07:22,491 connection.py _safely_send    417 SEND > {"id":"4636e75c-0932-4f1c-a2c7-28b7c9fc321f","method":"Element.getStyles","params":{"names":["pointer-events"],"elementId":"e2e6f5f1-86ab-4387-81a0-a0943fb04117","pageId":2}}
DEBUG 2023-08-18 17:07:22,496 connection.py _on_message     652 RECV < {"id":"4636e75c-0932-4f1c-a2c7-28b7c9fc321f","result":{"styles":["auto"]}}
DEBUG 2023-08-18 17:07:22,497 connection.py _safely_send    417 SEND > {"id":"a1091d05-0555-4a24-a463-5f795aef877a","method":"Element.tap","params":{"elementId":"e2e6f5f1-86ab-4387-81a0-a0943fb04117","pageId":2}}
DEBUG 2023-08-18 17:07:22,506 connection.py _on_message     652 RECV < {"id":"a1091d05-0555-4a24-a463-5f795aef877a","result":{}}
DEBUG 2023-08-18 17:07:25,519 minitest.py _miniTearDown   589 =========Current case Down: test_liangyou=========
INFO  2023-08-18 17:07:25,520 minitest.py capture         686 capture teardown.png
INFO  2023-08-18 17:07:25,520 basenative.py wrapper         24  call IdeNative.screen_shot
DEBUG 2023-08-18 17:07:25,521 connection.py _safely_send    417 SEND > {"id":"cafb5a4a-c614-43e1-ac6a-5625e8d5057e","method":"App.captureScreenshot","params":{}}
DEBUG 2023-08-18 17:07:25,628 connection.py _on_message     650 RECV < {"id":"cafb5a4a-c614-43e1-ac6a-5625e8d5057e","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAZ4AAAKgCAIAAAAkhowYAAAAAXNSR0IArs4c6QAAIABJREFUeJzt3X9MXNed///jLZTBwXgwsfCkU9PBTkudcdIdE2+LUzZRbS+xyFjCoYn0rQVqBFtpO2P0lb/a7tcjiNFIZSX0EZ7prryDvAJ5P1WzdoiYsCwljtIv9bCtY6af1Nhhk3jmQ8J6YjUON9gxl+Jdvn+cT67uzgyYwdiMj5+Pv+6cuffOuY7m5ff5Mc6a+fl5AQBq+ZPV7gAArDyiDYCCiDYACiLaACiIaAOgIKINgIKINgAKItoAKIhoA6Agog2Agog2AAoi2gAoiGgDoCCiDYCCiDYACiLaACiIaAOgIKINgIJyVrsDALLI7Oxsf3//tWvXhBBOp7OystLc/thjj5WXl69qB5dqBaJtenp6YGDgqaeestvti5...
INFO  2023-08-18 17:07:25,632 basenative.py wrapper         28  call IdeNative.screen_shot end
INFO  2023-08-18 17:07:25,634 basenative.py wrapper         24  call BaseNative.get_start_up
INFO  2023-08-18 17:07:25,634 basenative.py wrapper         28  call BaseNative.get_start_up end
INFO  2023-08-18 17:27:33,695 minitest.py init_miniprogram 144 start init miniprogram
INFO  2023-08-18 17:27:33,698 basenative.py wrapper         24  call IdeNative.start_wechat
INFO  2023-08-18 17:27:33,698 basenative.py wrapper         28  call IdeNative.start_wechat end
INFO  2023-08-18 17:27:33,699 wx_minium.py launch_dev_tool 565 Starting dev tool and launch MiniProgram project ...
INFO  2023-08-18 17:27:33,700 minium_object.py _do_shell       83  de shell: cli.bat auto --project "D:\software\mini-data\c-luluyou\unpackage\dist\dev\mp-weixin" --auto-port 9421
INFO  2023-08-18 17:27:40,923 minium_object.py _do_shell       101 err:
- initialize

× IDE may already started at port 58286, trying to connect

√ IDE server started successfully, listening on http://127.0.0.1:52237
- preparing
- Fetching AppID (wxad3951dd54b8c965) permissions
√ Using AppID: wxad3951dd54b8c965
√ auto

INFO  2023-08-18 17:27:40,924 minium_object.py _do_shell       102 out:

INFO  2023-08-18 17:27:50,927 wx_minium.py connect_dev_tool 661 Trying to connect Dev tool ...
INFO  2023-08-18 17:27:51,294 connection.py _connect        342 connect to WebChatTools successfully
DEBUG 2023-08-18 17:27:51,304 connection.py _safely_send    417 SEND > {"id":"2ebe20ae-f70b-4356-b6ad-385537278570","method":"Tool.getInfo","params":{}}
DEBUG 2023-08-18 17:27:51,467 connection.py _on_message     652 RECV < {"id":"2ebe20ae-f70b-4356-b6ad-385537278570","result":{"version":"1.06.2306020","SDKVersion":"2.30.4"}}
DEBUG 2023-08-18 17:27:51,470 connection.py _safely_send    417 SEND > {"id":"249f0292-2f57-4d7b-a784-b01dc5d79c0d","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
DEBUG 2023-08-18 17:27:59,031 connection.py _on_message     652 RECV < {"method":"App.initialized","params":{"from":"devtools"}}
DEBUG 2023-08-18 17:27:59,042 connection.py _on_message     650 RECV < {"id":"249f0292-2f57-4d7b-a784-b01dc5d79c0d","result":{"result":{"model":"iPhone 6/7/8 Plus","pixelRatio":3,"windowWidth":414,"windowHeight":736,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":414,"screenHeight":736,"SDKVersion":"2.30.4","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":100,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,...
DEBUG 2023-08-18 17:27:59,044 connection.py remove          283 remove key which is not in observers
DEBUG 2023-08-18 17:27:59,044 connection.py _safely_send    417 SEND > {"id":"3b5d22e4-28ca-4328-ab80-1c3b138e76ac","method":"App.addBinding","params":{"name":"onAppRouteDone"}}
DEBUG 2023-08-18 17:27:59,048 connection.py _on_message     652 RECV < {"id":"3b5d22e4-28ca-4328-ab80-1c3b138e76ac","result":{}}
DEBUG 2023-08-18 17:27:59,051 connection.py _safely_send    417 SEND > {"id":"b00b9e39-45ef-4386-b863-b0bc18980f40","method":"App.callFunction","params":{"functionDeclaration":"function () {\n    if (!global.__minium_onAppRouteDone) {\n        wx.onAppRouteDone(function (options) {\n            onAppRouteDone(options, Date.now())\n        })\n        global.__minium_onAppRouteDone = true\n    }\n}","args":[]}}
DEBUG 2023-08-18 17:27:59,058 connection.py _on_message     652 RECV < {"id":"b00b9e39-45ef-4386-b863-b0bc18980f40","result":{}}
DEBUG 2023-08-18 17:27:59,062 connection.py _safely_send    417 SEND > {"id":"cbd5ab23-7229-4bc2-a7b2-249051143127","method":"App.callFunction","params":{"functionDeclaration":"function miniumRequestStack(){if(!global.__minium_request_stack){global.__minium_request_stack=new Map,global.__minium_wait_util=function(e=0,t=20){var _=(getCurrentPages().pop()||{}).__wxWebviewId__;return new Promise((r=>{var a=10*t,i=setInterval((()=>{a--;var t=global.__minium_request_stack.has(_)?global.__minium_request_stack.get(_).size:0;console.debug(\"[minitest] current stack size: \",t),t<=e?(clearInterval(i),r(!0)):a<0&&(clearInterval(i),r(!1))}),100)}))};var e=wx._MINI_WX_PROXY_||wx,t=e.request;return Object.defineProperty(e,\"request\",{configurable:!0,get:()=>function(e){if(\"https://weapp.tencent.com/jscov_driver/CollectCovTimer\"==e.url)return t(e);var _,r=(getCurrentPages().pop()||{}).__wxWebviewId__;global.__minium_request_stack.has(r)?_=global.__minium_request_stack.get(r):(_=new Map,global.__minium_request_stack.set(r,_));var a,i=e.complete;e.complete=e=>{_.delete(a),0===_.size&&global.__minium_request_stack.delete(r),i&&i(e)};var n=t(e);return a=n&&n.uniqueId||Math.random(),_.set(a,Date.now()),n}}),!0}return!1}","args":[]}}
DEBUG 2023-08-18 17:27:59,072 connection.py _on_message     652 RECV < {"id":"cbd5ab23-7229-4bc2-a7b2-249051143127","result":{"result":true}}
DEBUG 2023-08-18 17:27:59,076 connection.py _safely_send    417 SEND > {"id":"b8f1b5d3-c69b-46ae-b0b3-35a408b252d7","method":"App.callFunction","params":{"functionDeclaration":"function checkInject(){var i=!1;return global.__minium?i=!0:(global.__minium={},i=!1),{injected:i,isThirdApp:!!wx._MINI_WX_PROXY_}}","args":[]}}
DEBUG 2023-08-18 17:27:59,087 connection.py _on_message     652 RECV < {"id":"b8f1b5d3-c69b-46ae-b0b3-35a408b252d7","result":{"result":{"injected":false,"isThirdApp":false}}}
DEBUG 2023-08-18 17:27:59,089 connection.py _safely_send    417 SEND > {"id":"13ac47d6-2b94-4b40-8a52-c908f98b3ac0","method":"App.callFunction","params":{"functionDeclaration":"function(){return {\"pages\": __wxConfig.pages, \"tabBar\": __wxConfig.tabBar && __wxConfig.tabBar.list} }","args":[]}}
DEBUG 2023-08-18 17:27:59,094 connection.py _on_message     650 RECV < {"id":"13ac47d6-2b94-4b40-8a52-c908f98b3ac0","result":{"result":{"pages":["pages/index/index","pages/plan/plan_index","pages/plan/article","pages/my/code-details","pages/my/my_rights","pages/my/rights_list","pages/common/rights_code","pages/common/bag","pages/common/bag_detail","pages/common/buy_ok","pages/common/bag_choice","pages/my/collection","pages/scenic/scenic-list","pages/common/selected_city","pages/my/feedback","pages/my/feedback-input","pages/my/my","pages/my/contact","pages/common/agreement",...
DEBUG 2023-08-18 17:27:59,095 connection.py _safely_send    417 SEND > {"id":"94490a52-2ee4-4c7b-a216-589a99d25698","method":"App.callWxMethod","params":{"method":"getAccountInfoSync","args":[]}}
DEBUG 2023-08-18 17:27:59,099 connection.py _on_message     652 RECV < {"id":"94490a52-2ee4-4c7b-a216-589a99d25698","result":{"result":{"miniProgram":{"appId":"wxad3951dd54b8c965","envVersion":"develop","version":""}}}}
DEBUG 2023-08-18 17:27:59,101 connection.py _safely_send    417 SEND > {"id":"174d4eae-7ab5-4a65-95d3-0448ae5bb855","method":"Tool.getInfo","params":{}}
DEBUG 2023-08-18 17:27:59,104 connection.py _on_message     652 RECV < {"id":"174d4eae-7ab5-4a65-95d3-0448ae5bb855","result":{"version":"1.06.2306020","SDKVersion":"2.30.4"}}
DEBUG 2023-08-18 17:27:59,109 connection.py _safely_send    417 SEND > {"id":"96894534-ee07-4c44-b237-7b3cc4774dd3","method":"App.callFunction","params":{"functionDeclaration":"function ideMockModal(){return!!global.__minium_mock_native_modal||(global.__minium_auth_setting={},global.__minium_mock_native_modal_list=[],global.__minium_handle_mock_modal=function(_,l){let m=[];for(;global.__minium_mock_native_modal_list.length>0;){let i=global.__minium_mock_native_modal_list.pop();if(-1===l.indexOf(i.type)||!(_ in i)){m.unshift(i);continue}let o=i[_];if(global.__minium_mock_native_modal_list.push(...m),\"function\"!=typeof o)throw`${o} is not callable`;return o(),!0}return console.warn(`can't find [${l}][${_}]`),global.__minium_mock_native_modal_list.push(...m),!1},global.__minium_get_all_modal=function(){let _=[];global.__minium_mock_native_modal_list.forEach((l=>{_.push({type:l.type,texts:Object.keys(l).filter((_=>\"type\"!==_))})}))},global.__minium_handle_mock_native_modal=function(_){return global.__minium_handle_mock_modal(_,[\"modal\",\"auth\"])},global.__minium_handle_mock_map_modal=function(_){return global.__minium_handle_mock_modal(_,[\"map\"])},global.__minium_handle_mock_auth_modal=function(_){return global.__minium_handle_mock_modal(_,[\"auth\"])},global.__minium_mock_native_modal=function(_){_.type=\"modal\",global.__minium_mock_native_modal_list.push(_)},global.__minium_mock_map_modal=function(_){_.type=\"map\",global.__minium_mock_native_modal_list.push(_)},global.__minium_mock_auth_modal=function(_){_.type=\"auth\",global.__minium_mock_native_modal_list.push(_)},!1)}","args":[]}}
DEBUG 2023-08-18 17:27:59,177 connection.py _on_message     652 RECV < {"id":"96894534-ee07-4c44-b237-7b3cc4774dd3","result":{"result":false}}
DEBUG 2023-08-18 17:27:59,189 connection.py _safely_send    417 SEND > {"id":"6dafc0cb-8b37-4550-a873-b6e4ad6f7a5f","method":"App.mockWxMethod","params":{"method":"showActionSheet","functionDeclaration":"function miniActionSheet(e){return new Promise((n=>{let t={},o=e.itemList;for(let e=0;e<o.length;e++)t[o[e]]=function(){let t={errMsg:\"showActionSheet:ok\",tapIndex:e};return n(t),t};return t[\"\u53d6\u6d88\"]=function(){let e={errMsg:\"showActionSheet:fail cancel\"};return n(e),e},console.warn(\"[minium] mock wx.showActionSheet, you can use `native.handle_action_sheet` to handle it\"),global.__minium_mock_native_modal(t)}))}","args":[]}}
DEBUG 2023-08-18 17:27:59,214 connection.py _on_message     652 RECV < {"id":"6dafc0cb-8b37-4550-a873-b6e4ad6f7a5f","result":{}}
DEBUG 2023-08-18 17:27:59,217 connection.py _safely_send    417 SEND > {"id":"da81635e-eed6-4c2e-9ead-789b8afd9e83","method":"App.getCurrentPage","params":{}}
DEBUG 2023-08-18 17:27:59,458 connection.py _on_message     652 RECV < {"id":"da81635e-eed6-4c2e-9ead-789b8afd9e83","result":{"pageId":1,"path":"pages/index/index","query":{}}}
DEBUG 2023-08-18 17:27:59,461 connection.py _safely_send    417 SEND > {"id":"9da2f7fb-7da2-4e88-9d03-71197c0393ce","method":"App.callWxMethod","params":{"method":"getSetting","args":[]}}
DEBUG 2023-08-18 17:27:59,804 connection.py _on_message     652 RECV < {"id":"9da2f7fb-7da2-4e88-9d03-71197c0393ce","result":{"result":{"errMsg":"getSetting:ok","authSetting":{"scope.userLocation":true,"scope.address":true,"scope.invoice":true,"scope.invoiceTitle":true,"scope.userInfo":true}}}}
DEBUG 2023-08-18 17:27:59,807 connection.py _safely_send    417 SEND > {"id":"ca461a8d-722d-4695-86cf-4c65fe11464d","method":"App.callFunction","params":{"functionDeclaration":"function mockNetwork(){if(!global[\"__minium_request_network_mocked\"]){function e(i,s){if(typeof i!=typeof s)return!1;switch(typeof i){case\"string\":return!!new RegExp(i).exec(s);case\"number\":return i===s;case\"object\":if(i instanceof Array){if(i.length!=s.length)return!1;for(var c=0;c<i.length;c++)if(!e(i[c],s[c]))return!1;return!0}for(var t in i)if(\"success\"!=t&&\"fail\"!=t&&\"complete\"!=t&&\"_miniMockType\"!=t){if(void 0===s[t])return!1;if(!e(i[t],s[t]))return!1}return!0}return!1}Object.defineProperty(global,\"__minium_request_network_mocked\",{value:!0,writable:!1}),global[\"__minium_request_network_mock_rule\"]||(global[\"__minium_request_network_mock_rule\"]=[]),global[\"__minium_requestTask\"]=class{constructor(e,i,s){this.success=e,this.fail=i,this.callback=s,this.chunkCallback=[],this.headersReceivedCallback=[],this.progressUpdateCallback=[],this.fd=setTimeout((()=>{this.headersReceivedCallback.forEach((e=>{this.success&&e({header:this.success.header})})),this.chunkCallback.forEach((e=>{this.success&&e(this.success.data)})),this.progressUpdateCallback.forEach((e=>{this.success&&e({progress:100,totalBytesWritten:100,totalBytesExpectedToWrite:100})})),s(this.success||this.fail)}))}abort(){clearTimeout(this.fd)}offChunkReceived(e){var i=this.chunkCallback.indexOf(e);-1!==i&&this.chunkCallback.splice(i,1)}offHeadersReceived(e){var i=this.headersReceivedCallback.indexOf(e);-1!==i&&this.headersReceivedCallback.splice(i,1)}onChunkReceived(e){this.chunkCallback.push(e)}onHeadersReceived(e){this.headersReceivedCallback.push(e)}onProgressUpdate(e){this.progressUpdateCallback.push(e)}};var i=wx._MINI_WX_PROXY_||wx,s=i[\"request\"];Object.defineProperty(i,\"request\",{configurable:!0,get:()=>function(i){for(var c=0;c<global[\"__minium_request_network_mock_rule\"].length;c++){var t=global[\"__minium_request_network_mock_rule\"][c];if(e(t,i)){if(1===t._miniMockType&&([t]=global[\"__minium_request_network_mock_rule\"].splice(c,1)),console.log(\"@@@@rule match\",t),i.__miniumMocked=!0,t.success)return new global[\"__minium_requestTask\"](t.success,void 0,(e=>{i.success&&i.success(e),i.complete&&i.complete(e)}));if(t.fail)return new global[\"__minium_requestTask\"](void 0,t.fail,(e=>{i.fail&&i.fail(e),i.complete&&i.complete(e)}));if(1===t._miniMockType)return}}return s(i)}})}}","args":[]}}
DEBUG 2023-08-18 17:27:59,812 connection.py _on_message     652 RECV < {"id":"ca461a8d-722d-4695-86cf-4c65fe11464d","result":{}}
DEBUG 2023-08-18 17:27:59,812 connection.py _safely_send    417 SEND > {"id":"68b16048-7a1f-4471-835f-41d747f45fa7","method":"App.enableLog","params":{}}
DEBUG 2023-08-18 17:27:59,817 connection.py _on_message     652 RECV < {"id":"68b16048-7a1f-4471-835f-41d747f45fa7","result":{}}
DEBUG 2023-08-18 17:27:59,819 connection.py _safely_send    417 SEND > {"id":"ed85205e-617e-4971-8287-fb3c2c76993c","method":"App.callFunction","params":{"functionDeclaration":"function getAppConfig(){if(0===arguments.length)return __wxConfig;{const n={};return Array.from(arguments).forEach((r=>{n[r]=__wxConfig[r]})),n}}","args":["accountInfo"]}}
DEBUG 2023-08-18 17:27:59,821 connection.py _on_message     652 RECV < {"id":"ed85205e-617e-4971-8287-fb3c2c76993c","result":{"result":{"accountInfo":{"appId":"wxad3951dd54b8c965","nickname":"路路游旅游一卡通","icon":"http://wx.qlogo.cn/mmhead/Q3auHgzwzM5SiaKDQIYkrts0TvBSibiardxjFichw4gncxLiaUYhJOHQ2RQ/0"}}}}
DEBUG 2023-08-18 17:27:59,822 connection.py _safely_send    417 SEND > {"id":"07e25bf2-3d21-46d8-9496-8dd48e8ebd40","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
DEBUG 2023-08-18 17:27:59,827 connection.py _on_message     650 RECV < {"id":"07e25bf2-3d21-46d8-9496-8dd48e8ebd40","result":{"result":{"model":"iPhone 6/7/8 Plus","pixelRatio":3,"windowWidth":414,"windowHeight":736,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":414,"screenHeight":736,"SDKVersion":"2.30.4","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":100,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,...
INFO  2023-08-18 17:27:59,828 minitest.py init_miniprogram 159 end init miniprogram
INFO  2023-08-18 17:27:59,834 minitest.py _miniSetUp      340 =========Current case: test_liangyou=========
INFO  2023-08-18 17:27:59,834 minitest.py _miniSetUp      343 package info: D:.路路游小程序.tests.test_login, case info: TestShouye_1.test_liangyou
INFO  2023-08-18 17:27:59,835 basenative.py wrapper         24  call BaseNative.check_connection
INFO  2023-08-18 17:27:59,836 basenative.py wrapper         28  call BaseNative.check_connection end
INFO  2023-08-18 17:27:59,837 minitest.py capture         686 capture setup.png
INFO  2023-08-18 17:27:59,837 basenative.py wrapper         24  call IdeNative.screen_shot
DEBUG 2023-08-18 17:27:59,838 connection.py _safely_send    417 SEND > {"id":"dd6d79a2-0503-451e-b1df-f70f5f9b86a9","method":"App.captureScreenshot","params":{}}
DEBUG 2023-08-18 17:28:00,362 connection.py _on_message     650 RECV < {"id":"dd6d79a2-0503-451e-b1df-f70f5f9b86a9","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAZ4AAALgCAIAAAAr3oZ0AAAAAXNSR0IArs4c6QAAIABJREFUeJx0vVmWJLmOJCoCqkf1yt7Germ9gkxXQt6HACDNIsuqTl4PG1SpIAbBSP5//+//vu8bAsnMVOZaKxj7feNZe+/nefbektZakgBExN577x0R63kAZCaCKVFBMFOkSAKZ2v4JuZSUUgIAKSOCpATSf4cEyTeh/yczf35WZpIEBCiVUgJY8UiSKCkiAAIkCe7EJiNEIPIVQCgAIFKxBQGQRDIiAOy9AxH0egTAt/Z31qL/joiIkJQpQCR/f7XW8q+k9AL6n3qeR1Iv3k8tgET4cVJbEokIfn4H/uFay39L2jsjuNbKTPTLu+Yb+db3p/0e55r+CUAlSHoTfWv/V8pYAJiZa/28v68fSpKwyZwvz2NKiHgg9hpWb6...
INFO  2023-08-18 17:28:00,369 basenative.py wrapper         28  call IdeNative.screen_shot end
INFO  2023-08-18 17:28:00,370 minitest.py _miniSetUp      393 =========case: test_liangyou start=========
DEBUG 2023-08-18 17:28:01,694 connection.py _on_message     652 RECV < {"method":"App.logAdded","params":{"type":"log","args":[{"hasUpdate":false}]}}
DEBUG 2023-08-18 17:28:03,373 connection.py _safely_send    417 SEND > {"id":"b739d868-6baf-4b4e-bf99-fc95f49fa5c9","method":"Page.getElementsByXpath","params":{"selector":"/view/biz-index-head/view/view","pageId":1}}
DEBUG 2023-08-18 17:28:03,383 connection.py _on_message     652 RECV < {"id":"b739d868-6baf-4b4e-bf99-fc95f49fa5c9","result":{"elements":[{"elementId":"eaaae986-2fb6-4ab1-b8d1-7cc02485eeb2","tagName":"view"}]}}
DEBUG 2023-08-18 17:28:03,384 connection.py _safely_send    417 SEND > {"id":"d492448e-5bd3-43af-9043-663b0fa2d5bb","method":"Element.getStyles","params":{"names":["pointer-events"],"elementId":"eaaae986-2fb6-4ab1-b8d1-7cc02485eeb2","pageId":1}}
DEBUG 2023-08-18 17:28:03,399 connection.py _on_message     652 RECV < {"id":"d492448e-5bd3-43af-9043-663b0fa2d5bb","result":{"styles":["auto"]}}
DEBUG 2023-08-18 17:28:03,400 connection.py _safely_send    417 SEND > {"id":"4d130f53-b300-4f5c-8dcf-b930e34a3a77","method":"Element.tap","params":{"elementId":"eaaae986-2fb6-4ab1-b8d1-7cc02485eeb2","pageId":1}}
DEBUG 2023-08-18 17:28:03,548 connection.py _on_message     652 RECV < {"id":"4d130f53-b300-4f5c-8dcf-b930e34a3a77","result":{}}
DEBUG 2023-08-18 17:28:03,699 connection.py _on_message     652 RECV < {"method":"App.logAdded","params":{"type":"warn","args":["[Component] property \"data\" of \"components/lee-select-city/lee-latter-list\" received type-uncompatible value: expected <Array> but got non-array value. Used empty array instead."]}}
DEBUG 2023-08-18 17:28:03,701 connection.py _on_message     652 RECV < {"method":"App.logAdded","params":{"type":"warn","args":["[Component] property \"selected\" of \"components/lee-select-city/lee-latter-list\" received type-uncompatible value: expected <Object> but got non-object value. Used null instead."]}}
DEBUG 2023-08-18 17:28:03,704 connection.py _on_message     652 RECV < {"method":"App.logAdded","params":{"type":"warn","args":["[Component] property \"data\" of \"components/lee-select-city/lee-latter-list\" received type-uncompatible value: expected <Array> but got non-array value. Used empty array instead."]}}
DEBUG 2023-08-18 17:28:03,705 connection.py _on_message     652 RECV < {"method":"App.logAdded","params":{"type":"warn","args":["[Component] property \"selected\" of \"components/lee-select-city/lee-latter-list\" received type-uncompatible value: expected <Object> but got non-object value. Used null instead."]}}
DEBUG 2023-08-18 17:28:03,736 connection.py _on_message     652 RECV < {"method":"App.logAdded","params":{"type":"warn","args":["[Component] property \"selected\" of \"components/lee-select-city/lee-latter-list\" received type-uncompatible value: expected <Object> but got non-object value. Used null instead."]}}
DEBUG 2023-08-18 17:28:03,739 connection.py _on_message     652 RECV < {"method":"App.logAdded","params":{"type":"warn","args":["[Component] property \"selected\" of \"components/lee-select-city/lee-latter-list\" received type-uncompatible value: expected <Object> but got non-object value. Used null instead."]}}
DEBUG 2023-08-18 17:28:03,869 connection.py _on_message     650 RECV < {"method":"App.exceptionThrown","params":{"message":"_this.setLocationData is not a function","stack":"TypeError: _this.setLocationData is not a function\n    at Object.success (http://127.0.0.1:14855/appservice/pages/common/selected_city.js?t=wechat&s=1692350861952&v=9645cfe03f84cc02692ef5cb9c6738fb:182:31)\n    at Object.handleData (http://127.0.0.1:14855/appservice/common/vendor.js?t=wechat&s=1692350861952&v=89b5c89f382fa501a7bab0cabe2e6de7:12607:15)\n    at options.success (http://127.0.0.1:14855/app...
DEBUG 2023-08-18 17:28:04,115 connection.py _on_message     652 RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":2,"path":"pages/common/selected_city","query":{},"openType":"navigateTo","__ts__":1692350884095},1692350884098]}}
INFO  2023-08-18 17:28:04,118 app.py     _on_route_changed 845 Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 2, 'path': 'pages/common/selected_city', 'query': {}, 'openType': 'navigateTo', '__ts__': 1692350884095}, 1692350884098]}
DEBUG 2023-08-18 17:28:06,566 connection.py _safely_send    417 SEND > {"id":"4fed39ae-ff1d-413c-a3e9-c87663cbbb04","method":"Page.getElementsByXpath","params":{"selector":"/lee-select-city/view/view/view/scroll-view[1]/view/view[2]","pageId":2}}
DEBUG 2023-08-18 17:28:06,574 connection.py _on_message     652 RECV < {"id":"4fed39ae-ff1d-413c-a3e9-c87663cbbb04","result":{"elements":[{"elementId":"4ecb5237-97e0-4501-b696-22f1d402090d","tagName":"view"}]}}
DEBUG 2023-08-18 17:28:06,576 connection.py _safely_send    417 SEND > {"id":"f4173ba9-00bf-493d-ad81-4ea6843b2bbd","method":"Element.getStyles","params":{"names":["pointer-events"],"elementId":"4ecb5237-97e0-4501-b696-22f1d402090d","pageId":2}}
DEBUG 2023-08-18 17:28:06,584 connection.py _on_message     652 RECV < {"id":"f4173ba9-00bf-493d-ad81-4ea6843b2bbd","result":{"styles":["auto"]}}
DEBUG 2023-08-18 17:28:06,586 connection.py _safely_send    417 SEND > {"id":"3cc48286-8867-4267-825b-9cfd7b4f07fa","method":"Element.tap","params":{"elementId":"4ecb5237-97e0-4501-b696-22f1d402090d","pageId":2}}
DEBUG 2023-08-18 17:28:06,597 connection.py _on_message     652 RECV < {"id":"3cc48286-8867-4267-825b-9cfd7b4f07fa","result":{}}
DEBUG 2023-08-18 17:28:09,619 connection.py _safely_send    417 SEND > {"id":"aaaa9ea0-7bc7-4db5-bb92-1cc6a84cae02","method":"Page.getElementsByXpath","params":{"selector":"/lee-select-city/view/view/view/scroll-view[1]/view/lee-latter-list/view/view[1]/view[2]/view[1]","pageId":2}}
DEBUG 2023-08-18 17:28:09,625 connection.py _on_message     652 RECV < {"id":"aaaa9ea0-7bc7-4db5-bb92-1cc6a84cae02","result":{"elements":[{"elementId":"61beff23-64ae-4f87-ae4a-9250f6cd746c","tagName":"view"}]}}
DEBUG 2023-08-18 17:28:09,628 connection.py _safely_send    417 SEND > {"id":"40b2670d-ac6b-41c3-814c-2ff776a26549","method":"Element.getStyles","params":{"names":["pointer-events"],"elementId":"61beff23-64ae-4f87-ae4a-9250f6cd746c","pageId":2}}
DEBUG 2023-08-18 17:28:09,634 connection.py _on_message     652 RECV < {"id":"40b2670d-ac6b-41c3-814c-2ff776a26549","result":{"styles":["auto"]}}
DEBUG 2023-08-18 17:28:09,635 connection.py _safely_send    417 SEND > {"id":"98640c68-d63c-4c5a-a54a-2a45eaeb8bde","method":"Element.tap","params":{"elementId":"61beff23-64ae-4f87-ae4a-9250f6cd746c","pageId":2}}
DEBUG 2023-08-18 17:28:09,652 connection.py _on_message     652 RECV < {"id":"98640c68-d63c-4c5a-a54a-2a45eaeb8bde","result":{}}
DEBUG 2023-08-18 17:28:12,669 connection.py _safely_send    417 SEND > {"id":"4194a792-4af7-4123-9faf-5539b4a0b24c","method":"Page.getElementsByXpath","params":{"selector":"/lee-select-city/view/view[2]/view/scroll-view[2]/view/lee-latter-list/view/view[1]/view[2]/view","pageId":2}}
DEBUG 2023-08-18 17:28:12,676 connection.py _on_message     652 RECV < {"id":"4194a792-4af7-4123-9faf-5539b4a0b24c","result":{"elements":[{"elementId":"91958883-7810-4310-b639-02bc5433a7e2","tagName":"view"}]}}
DEBUG 2023-08-18 17:28:12,679 connection.py _safely_send    417 SEND > {"id":"751b0201-fa75-45dc-ba6c-81b9fea39f4f","method":"Element.getStyles","params":{"names":["pointer-events"],"elementId":"91958883-7810-4310-b639-02bc5433a7e2","pageId":2}}
DEBUG 2023-08-18 17:28:12,683 connection.py _on_message     652 RECV < {"id":"751b0201-fa75-45dc-ba6c-81b9fea39f4f","result":{"styles":["auto"]}}
DEBUG 2023-08-18 17:28:12,684 connection.py _safely_send    417 SEND > {"id":"60da9919-a85a-47c4-8697-2ecf8e517694","method":"Element.tap","params":{"elementId":"91958883-7810-4310-b639-02bc5433a7e2","pageId":2}}
DEBUG 2023-08-18 17:28:12,699 connection.py _on_message     650 RECV < {"method":"App.logAdded","params":{"type":"log","args":[{"simple":["安徽省","安庆市"],"selected":[{"children":[{"name":"全省","latter":""},{"name":"六安市","latter":"L"},{"name":"宿州市","latter":"S"},{"name":"宣城市","latter":"X"},{"name":"池州市","latter":"C"},{"name":"亳州市","latter":"B"},{"name":"阜阳市","latter":"F"},{"name":"淮北市","latter":"H"},{"name":"马鞍山市","latter":"M"},{"name":"黄山市","latter":"H"},{"name":"蚌埠市","latter":"B"},{"name":"铜陵市","latter":"T"},{"name":"滁州市","latter":"C"},{"name":"安庆市","latter":"A"},{"name":"芜湖市"...
DEBUG 2023-08-18 17:28:12,714 connection.py _on_message     652 RECV < {"id":"60da9919-a85a-47c4-8697-2ecf8e517694","result":{}}
DEBUG 2023-08-18 17:28:15,742 connection.py _safely_send    417 SEND > {"id":"d006e978-5824-47e2-86cd-48f0a9ce211e","method":"Page.getElementsByXpath","params":{"selector":"/lee-select-city/view/view[2]/view/scroll-view[2]/view/lee-latter-list/view/view[1]/view[2]/view","pageId":2}}
DEBUG 2023-08-18 17:28:15,750 connection.py _on_message     652 RECV < {"id":"d006e978-5824-47e2-86cd-48f0a9ce211e","result":{"elements":[{"elementId":"91958883-7810-4310-b639-02bc5433a7e2","tagName":"view"}]}}
DEBUG 2023-08-18 17:28:15,751 connection.py _safely_send    417 SEND > {"id":"8a471854-7a66-4e23-ad18-ca73b51dd453","method":"Element.getStyles","params":{"names":["pointer-events"],"elementId":"91958883-7810-4310-b639-02bc5433a7e2","pageId":2}}
DEBUG 2023-08-18 17:28:15,756 connection.py _on_message     652 RECV < {"id":"8a471854-7a66-4e23-ad18-ca73b51dd453","result":{"styles":["auto"]}}
DEBUG 2023-08-18 17:28:15,757 connection.py _safely_send    417 SEND > {"id":"ae2d8855-4d54-4780-b8c5-757218a60110","method":"Element.tap","params":{"elementId":"91958883-7810-4310-b639-02bc5433a7e2","pageId":2}}
DEBUG 2023-08-18 17:28:15,768 connection.py _on_message     650 RECV < {"method":"App.logAdded","params":{"type":"log","args":[{"simple":["安徽省","安庆市"],"selected":[{"children":[{"name":"全省","latter":""},{"name":"六安市","latter":"L"},{"name":"宿州市","latter":"S"},{"name":"宣城市","latter":"X"},{"name":"池州市","latter":"C"},{"name":"亳州市","latter":"B"},{"name":"阜阳市","latter":"F"},{"name":"淮北市","latter":"H"},{"name":"马鞍山市","latter":"M"},{"name":"黄山市","latter":"H"},{"name":"蚌埠市","latter":"B"},{"name":"铜陵市","latter":"T"},{"name":"滁州市","latter":"C"},{"name":"安庆市","latter":"A"},{"name":"芜湖市"...
DEBUG 2023-08-18 17:28:15,780 connection.py _on_message     652 RECV < {"id":"ae2d8855-4d54-4780-b8c5-757218a60110","result":{}}
DEBUG 2023-08-18 17:28:18,806 minitest.py _miniTearDown   589 =========Current case Down: test_liangyou=========
INFO  2023-08-18 17:28:18,818 minitest.py capture         686 capture teardown.png
INFO  2023-08-18 17:28:18,823 basenative.py wrapper         24  call IdeNative.screen_shot
DEBUG 2023-08-18 17:28:18,835 connection.py _safely_send    417 SEND > {"id":"e1ce821f-e5ba-4566-a132-d06660724250","method":"App.captureScreenshot","params":{}}
DEBUG 2023-08-18 17:28:18,946 connection.py _on_message     650 RECV < {"id":"e1ce821f-e5ba-4566-a132-d06660724250","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAZ4AAAKgCAIAAAAkhowYAAAAAXNSR0IArs4c6QAAIABJREFUeJzt3W9sU2ee6PGHq9AYmqTOABNCU6jdaJYypnSMG0YJQtMpm3FRarph2b2aIZOKDpH2Rf6sbl5Q1Q0kWFpplas68Wh3G6ZVPbCrVrS5zZkopGk7gyISCcZjCpiWlSCegNs0M9CchhacslLui9O6xk5C/hji/Ph+XvkcHx8/fvPV85xzAovGx8cVAMjyv+Z7AACQeqQNgECkDYBApA2AQKQNgECkDYBApA2AQKQNgECkDYBApA2AQKQNgECkDYBApA2AQKQNgECkDYBApA2AQKQNgECkDYBApA2AQKQNgECkDYBApA2AQKQNgECkDYBApA2AQKQNgECkDYBApA2AQKQNgEDzk7arWq2j9cy8fDWAe8H8pG2Zq+...
INFO  2023-08-18 17:28:18,948 basenative.py wrapper         28  call IdeNative.screen_shot end
INFO  2023-08-18 17:28:18,949 basenative.py wrapper         24  call BaseNative.get_start_up
INFO  2023-08-18 17:28:18,949 basenative.py wrapper         28  call BaseNative.get_start_up end
INFO  2023-08-18 19:02:22,348 minitest.py init_miniprogram 144 start init miniprogram
INFO  2023-08-18 19:02:22,350 basenative.py wrapper         24  call IdeNative.start_wechat
INFO  2023-08-18 19:02:22,350 basenative.py wrapper         28  call IdeNative.start_wechat end
INFO  2023-08-18 19:02:22,351 wx_minium.py launch_dev_tool 565 Starting dev tool and launch MiniProgram project ...
INFO  2023-08-18 19:02:22,353 minium_object.py _do_shell       83  de shell: cli.bat auto --project "D:\software\mini-data\c-luluyou\unpackage\dist\dev\mp-weixin" --auto-port 52237
INFO  2023-08-18 19:02:29,436 minium_object.py _do_shell       101 err:
- initialize

× IDE may already started at port 52237, trying to connect

√ IDE server started successfully, listening on http://127.0.0.1:62949
- preparing
- Fetching AppID (wxad3951dd54b8c965) permissions
√ Using AppID: wxad3951dd54b8c965
√ auto

INFO  2023-08-18 19:02:29,437 minium_object.py _do_shell       102 out:

INFO  2023-08-18 19:02:39,442 wx_minium.py connect_dev_tool 661 Trying to connect Dev tool ...
INFO  2023-08-18 19:02:39,644 connection.py _connect        342 connect to WebChatTools successfully
DEBUG 2023-08-18 19:02:39,645 connection.py _safely_send    417 SEND > {"id":"eb5756a0-6aaf-4991-b4d1-20ac776ba008","method":"Tool.getInfo","params":{}}
DEBUG 2023-08-18 19:02:39,677 connection.py _on_message     652 RECV < {"id":"eb5756a0-6aaf-4991-b4d1-20ac776ba008","result":{"version":"1.06.2306020","SDKVersion":"2.30.4"}}
DEBUG 2023-08-18 19:02:39,681 connection.py _safely_send    417 SEND > {"id":"1239bcab-e73b-47cb-a671-d2e5f0d6a114","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
DEBUG 2023-08-18 19:02:50,430 connection.py _on_message     652 RECV < {"method":"App.initialized","params":{"from":"devtools"}}
DEBUG 2023-08-18 19:02:50,439 connection.py _on_message     650 RECV < {"id":"1239bcab-e73b-47cb-a671-d2e5f0d6a114","result":{"result":{"model":"iPhone 12/13 Pro Max","pixelRatio":3,"windowWidth":428,"windowHeight":926,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":428,"screenHeight":926,"SDKVersion":"2.30.4","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":100,"statusBarHeight":47,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":tr...
DEBUG 2023-08-18 19:02:50,440 connection.py remove          283 remove key which is not in observers
DEBUG 2023-08-18 19:02:50,441 connection.py _safely_send    417 SEND > {"id":"d62db4ec-b922-46ed-a020-d9abd97ca32e","method":"App.addBinding","params":{"name":"onAppRouteDone"}}
DEBUG 2023-08-18 19:02:50,446 connection.py _on_message     652 RECV < {"id":"d62db4ec-b922-46ed-a020-d9abd97ca32e","result":{}}
DEBUG 2023-08-18 19:02:50,449 connection.py _safely_send    417 SEND > {"id":"6aa69bd7-c4f3-49e6-8c55-93a679553bf1","method":"App.callFunction","params":{"functionDeclaration":"function () {\n    if (!global.__minium_onAppRouteDone) {\n        wx.onAppRouteDone(function (options) {\n            onAppRouteDone(options, Date.now())\n        })\n        global.__minium_onAppRouteDone = true\n    }\n}","args":[]}}
DEBUG 2023-08-18 19:02:50,455 connection.py _on_message     652 RECV < {"id":"6aa69bd7-c4f3-49e6-8c55-93a679553bf1","result":{}}
DEBUG 2023-08-18 19:02:50,457 connection.py _safely_send    417 SEND > {"id":"7f24ccf1-ae1d-444e-af8b-4eac0f586504","method":"App.callFunction","params":{"functionDeclaration":"function miniumRequestStack(){if(!global.__minium_request_stack){global.__minium_request_stack=new Map,global.__minium_wait_util=function(e=0,t=20){var _=(getCurrentPages().pop()||{}).__wxWebviewId__;return new Promise((r=>{var a=10*t,i=setInterval((()=>{a--;var t=global.__minium_request_stack.has(_)?global.__minium_request_stack.get(_).size:0;console.debug(\"[minitest] current stack size: \",t),t<=e?(clearInterval(i),r(!0)):a<0&&(clearInterval(i),r(!1))}),100)}))};var e=wx._MINI_WX_PROXY_||wx,t=e.request;return Object.defineProperty(e,\"request\",{configurable:!0,get:()=>function(e){if(\"https://weapp.tencent.com/jscov_driver/CollectCovTimer\"==e.url)return t(e);var _,r=(getCurrentPages().pop()||{}).__wxWebviewId__;global.__minium_request_stack.has(r)?_=global.__minium_request_stack.get(r):(_=new Map,global.__minium_request_stack.set(r,_));var a,i=e.complete;e.complete=e=>{_.delete(a),0===_.size&&global.__minium_request_stack.delete(r),i&&i(e)};var n=t(e);return a=n&&n.uniqueId||Math.random(),_.set(a,Date.now()),n}}),!0}return!1}","args":[]}}
DEBUG 2023-08-18 19:02:50,463 connection.py _on_message     652 RECV < {"id":"7f24ccf1-ae1d-444e-af8b-4eac0f586504","result":{"result":true}}
DEBUG 2023-08-18 19:02:50,467 connection.py _safely_send    417 SEND > {"id":"095ad319-0080-4aed-b041-a16f956a0e2d","method":"App.callFunction","params":{"functionDeclaration":"function checkInject(){var i=!1;return global.__minium?i=!0:(global.__minium={},i=!1),{injected:i,isThirdApp:!!wx._MINI_WX_PROXY_}}","args":[]}}
DEBUG 2023-08-18 19:02:50,470 connection.py _on_message     652 RECV < {"id":"095ad319-0080-4aed-b041-a16f956a0e2d","result":{"result":{"injected":false,"isThirdApp":false}}}
DEBUG 2023-08-18 19:02:50,471 connection.py _safely_send    417 SEND > {"id":"35ae34da-3b47-4d1a-a639-4886ea5ebf49","method":"App.callFunction","params":{"functionDeclaration":"function(){return {\"pages\": __wxConfig.pages, \"tabBar\": __wxConfig.tabBar && __wxConfig.tabBar.list} }","args":[]}}
DEBUG 2023-08-18 19:02:50,475 connection.py _on_message     650 RECV < {"id":"35ae34da-3b47-4d1a-a639-4886ea5ebf49","result":{"result":{"pages":["pages/index/index","pages/plan/plan_index","pages/plan/article","pages/my/code-details","pages/my/my_rights","pages/my/rights_list","pages/common/rights_code","pages/common/bag","pages/common/bag_detail","pages/common/buy_ok","pages/common/bag_choice","pages/my/collection","pages/scenic/scenic-list","pages/common/selected_city","pages/my/feedback","pages/my/feedback-input","pages/my/my","pages/my/contact","pages/common/agreement",...
DEBUG 2023-08-18 19:02:50,476 connection.py _safely_send    417 SEND > {"id":"e0c2dc50-5028-44d4-8a17-cf820a7d0f5e","method":"App.callWxMethod","params":{"method":"getAccountInfoSync","args":[]}}
DEBUG 2023-08-18 19:02:50,518 connection.py _on_message     652 RECV < {"id":"e0c2dc50-5028-44d4-8a17-cf820a7d0f5e","result":{"result":{"miniProgram":{"appId":"wxad3951dd54b8c965","envVersion":"develop","version":""}}}}
DEBUG 2023-08-18 19:02:50,520 connection.py _safely_send    417 SEND > {"id":"4c534b90-f562-46d2-94cb-eea837450125","method":"Tool.getInfo","params":{}}
DEBUG 2023-08-18 19:02:50,536 connection.py _on_message     652 RECV < {"id":"4c534b90-f562-46d2-94cb-eea837450125","result":{"version":"1.06.2306020","SDKVersion":"2.30.4"}}
DEBUG 2023-08-18 19:02:50,541 connection.py _safely_send    417 SEND > {"id":"d89f435a-e0e7-4c33-b982-8544c38e69a7","method":"App.callFunction","params":{"functionDeclaration":"function ideMockModal(){return!!global.__minium_mock_native_modal||(global.__minium_auth_setting={},global.__minium_mock_native_modal_list=[],global.__minium_handle_mock_modal=function(_,l){let m=[];for(;global.__minium_mock_native_modal_list.length>0;){let i=global.__minium_mock_native_modal_list.pop();if(-1===l.indexOf(i.type)||!(_ in i)){m.unshift(i);continue}let o=i[_];if(global.__minium_mock_native_modal_list.push(...m),\"function\"!=typeof o)throw`${o} is not callable`;return o(),!0}return console.warn(`can't find [${l}][${_}]`),global.__minium_mock_native_modal_list.push(...m),!1},global.__minium_get_all_modal=function(){let _=[];global.__minium_mock_native_modal_list.forEach((l=>{_.push({type:l.type,texts:Object.keys(l).filter((_=>\"type\"!==_))})}))},global.__minium_handle_mock_native_modal=function(_){return global.__minium_handle_mock_modal(_,[\"modal\",\"auth\"])},global.__minium_handle_mock_map_modal=function(_){return global.__minium_handle_mock_modal(_,[\"map\"])},global.__minium_handle_mock_auth_modal=function(_){return global.__minium_handle_mock_modal(_,[\"auth\"])},global.__minium_mock_native_modal=function(_){_.type=\"modal\",global.__minium_mock_native_modal_list.push(_)},global.__minium_mock_map_modal=function(_){_.type=\"map\",global.__minium_mock_native_modal_list.push(_)},global.__minium_mock_auth_modal=function(_){_.type=\"auth\",global.__minium_mock_native_modal_list.push(_)},!1)}","args":[]}}
DEBUG 2023-08-18 19:02:50,606 connection.py _on_message     652 RECV < {"id":"d89f435a-e0e7-4c33-b982-8544c38e69a7","result":{"result":false}}
DEBUG 2023-08-18 19:02:50,610 connection.py _safely_send    417 SEND > {"id":"00f017f5-7b85-4ee3-bf4a-77ca23ef00e5","method":"App.mockWxMethod","params":{"method":"showActionSheet","functionDeclaration":"function miniActionSheet(e){return new Promise((n=>{let t={},o=e.itemList;for(let e=0;e<o.length;e++)t[o[e]]=function(){let t={errMsg:\"showActionSheet:ok\",tapIndex:e};return n(t),t};return t[\"\u53d6\u6d88\"]=function(){let e={errMsg:\"showActionSheet:fail cancel\"};return n(e),e},console.warn(\"[minium] mock wx.showActionSheet, you can use `native.handle_action_sheet` to handle it\"),global.__minium_mock_native_modal(t)}))}","args":[]}}
DEBUG 2023-08-18 19:02:50,620 connection.py _on_message     652 RECV < {"id":"00f017f5-7b85-4ee3-bf4a-77ca23ef00e5","result":{}}
DEBUG 2023-08-18 19:02:50,622 connection.py _safely_send    417 SEND > {"id":"99575902-1df7-41f1-a2b6-d2b371c05a86","method":"App.getCurrentPage","params":{}}
DEBUG 2023-08-18 19:02:50,624 connection.py _on_message     652 RECV < {"id":"99575902-1df7-41f1-a2b6-d2b371c05a86","result":{"pageId":1,"path":"pages/index/index","query":{}}}
DEBUG 2023-08-18 19:02:50,626 connection.py _safely_send    417 SEND > {"id":"5a8d8d9e-2da9-4600-894b-c168a7db4d16","method":"App.callWxMethod","params":{"method":"getSetting","args":[]}}
DEBUG 2023-08-18 19:02:50,976 connection.py _on_message     652 RECV < {"id":"5a8d8d9e-2da9-4600-894b-c168a7db4d16","result":{"result":{"errMsg":"getSetting:ok","authSetting":{"scope.userLocation":true,"scope.address":true,"scope.invoice":true,"scope.invoiceTitle":true,"scope.userInfo":true}}}}
DEBUG 2023-08-18 19:02:50,990 connection.py _safely_send    417 SEND > {"id":"1e5876c5-5233-472c-a076-01c3b0866e32","method":"App.callFunction","params":{"functionDeclaration":"function mockNetwork(){if(!global[\"__minium_request_network_mocked\"]){function e(i,s){if(typeof i!=typeof s)return!1;switch(typeof i){case\"string\":return!!new RegExp(i).exec(s);case\"number\":return i===s;case\"object\":if(i instanceof Array){if(i.length!=s.length)return!1;for(var c=0;c<i.length;c++)if(!e(i[c],s[c]))return!1;return!0}for(var t in i)if(\"success\"!=t&&\"fail\"!=t&&\"complete\"!=t&&\"_miniMockType\"!=t){if(void 0===s[t])return!1;if(!e(i[t],s[t]))return!1}return!0}return!1}Object.defineProperty(global,\"__minium_request_network_mocked\",{value:!0,writable:!1}),global[\"__minium_request_network_mock_rule\"]||(global[\"__minium_request_network_mock_rule\"]=[]),global[\"__minium_requestTask\"]=class{constructor(e,i,s){this.success=e,this.fail=i,this.callback=s,this.chunkCallback=[],this.headersReceivedCallback=[],this.progressUpdateCallback=[],this.fd=setTimeout((()=>{this.headersReceivedCallback.forEach((e=>{this.success&&e({header:this.success.header})})),this.chunkCallback.forEach((e=>{this.success&&e(this.success.data)})),this.progressUpdateCallback.forEach((e=>{this.success&&e({progress:100,totalBytesWritten:100,totalBytesExpectedToWrite:100})})),s(this.success||this.fail)}))}abort(){clearTimeout(this.fd)}offChunkReceived(e){var i=this.chunkCallback.indexOf(e);-1!==i&&this.chunkCallback.splice(i,1)}offHeadersReceived(e){var i=this.headersReceivedCallback.indexOf(e);-1!==i&&this.headersReceivedCallback.splice(i,1)}onChunkReceived(e){this.chunkCallback.push(e)}onHeadersReceived(e){this.headersReceivedCallback.push(e)}onProgressUpdate(e){this.progressUpdateCallback.push(e)}};var i=wx._MINI_WX_PROXY_||wx,s=i[\"request\"];Object.defineProperty(i,\"request\",{configurable:!0,get:()=>function(i){for(var c=0;c<global[\"__minium_request_network_mock_rule\"].length;c++){var t=global[\"__minium_request_network_mock_rule\"][c];if(e(t,i)){if(1===t._miniMockType&&([t]=global[\"__minium_request_network_mock_rule\"].splice(c,1)),console.log(\"@@@@rule match\",t),i.__miniumMocked=!0,t.success)return new global[\"__minium_requestTask\"](t.success,void 0,(e=>{i.success&&i.success(e),i.complete&&i.complete(e)}));if(t.fail)return new global[\"__minium_requestTask\"](void 0,t.fail,(e=>{i.fail&&i.fail(e),i.complete&&i.complete(e)}));if(1===t._miniMockType)return}}return s(i)}})}}","args":[]}}
DEBUG 2023-08-18 19:02:51,001 connection.py _on_message     652 RECV < {"id":"1e5876c5-5233-472c-a076-01c3b0866e32","result":{}}
DEBUG 2023-08-18 19:02:51,002 connection.py _safely_send    417 SEND > {"id":"847a6d92-cd1a-43d1-9ea2-c213f1e3aade","method":"App.enableLog","params":{}}
DEBUG 2023-08-18 19:02:51,005 connection.py _on_message     652 RECV < {"id":"847a6d92-cd1a-43d1-9ea2-c213f1e3aade","result":{}}
DEBUG 2023-08-18 19:02:51,025 connection.py _safely_send    417 SEND > {"id":"dc82159f-543e-4c12-b4ef-bc498c2b2a4a","method":"App.callFunction","params":{"functionDeclaration":"function getAppConfig(){if(0===arguments.length)return __wxConfig;{const n={};return Array.from(arguments).forEach((r=>{n[r]=__wxConfig[r]})),n}}","args":["accountInfo"]}}
DEBUG 2023-08-18 19:02:51,037 connection.py _on_message     652 RECV < {"id":"dc82159f-543e-4c12-b4ef-bc498c2b2a4a","result":{"result":{"accountInfo":{"appId":"wxad3951dd54b8c965","nickname":"路路游旅游一卡通","icon":"http://wx.qlogo.cn/mmhead/Q3auHgzwzM5SiaKDQIYkrts0TvBSibiardxjFichw4gncxLiaUYhJOHQ2RQ/0"}}}}
DEBUG 2023-08-18 19:02:51,038 connection.py _safely_send    417 SEND > {"id":"daa4e628-0638-4cfe-8bcb-4241a6481e0c","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
DEBUG 2023-08-18 19:02:51,042 connection.py _on_message     650 RECV < {"id":"daa4e628-0638-4cfe-8bcb-4241a6481e0c","result":{"result":{"model":"iPhone 12/13 Pro Max","pixelRatio":3,"windowWidth":428,"windowHeight":926,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":428,"screenHeight":926,"SDKVersion":"2.30.4","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":100,"statusBarHeight":47,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":tr...
INFO  2023-08-18 19:02:51,043 minitest.py init_miniprogram 159 end init miniprogram
INFO  2023-08-18 19:02:51,108 minitest.py _miniSetUp      340 =========Current case: test_handle_modal=========
INFO  2023-08-18 19:02:51,159 minitest.py _miniSetUp      343 package info: D:.路路游小程序.tests.test_login, case info: TestShouye_1.test_handle_modal
INFO  2023-08-18 19:02:51,161 basenative.py wrapper         24  call BaseNative.check_connection
INFO  2023-08-18 19:02:51,162 basenative.py wrapper         28  call BaseNative.check_connection end
INFO  2023-08-18 19:02:51,178 minitest.py capture         686 capture setup.png
INFO  2023-08-18 19:02:51,179 basenative.py wrapper         24  call IdeNative.screen_shot
DEBUG 2023-08-18 19:02:51,180 connection.py _safely_send    417 SEND > {"id":"ed081cd1-a229-4ac2-ab70-8a44dc5e66eb","method":"App.captureScreenshot","params":{}}
DEBUG 2023-08-18 19:02:51,944 connection.py _on_message     650 RECV < {"id":"ed081cd1-a229-4ac2-ab70-8a44dc5e66eb","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAawAAAOeCAIAAADQh7N0AAAAAXNSR0IArs4c6QAAIABJREFUeJyMvUvaI7uOJGigdLLGPa891ap6s72FGw7rAcwA0BXnfqXMG0e/5HIn8TAYQZCM//P//b/Pk0AEgiTJz/kiguRhBhChzyMCQP1LgH4BgC8Lv+rzev88zzkHAJkIRkRmfj6fzOzLADADQN+wXwE9cK70gwDUDfbjqlXnnAfM1aRu1esp3Yu65gROXJ/3+0/8wwTBCMQJAAkmsh534qO2JfUsP52RmVk9AAI4ESfikAkQyOktdeeW6xbvepP7zxLI5/P5k4mIElaLSNckSQQiM8859dUIk6jWIgJhcd+yiohzTmbWDatH33i30P0A4rzaTxIgov4/65ZgZDITVpIMqbXcHQzi+JPneao9AJLJSAYiDjOQcSLOQU...
INFO  2023-08-18 19:02:51,951 basenative.py wrapper         28  call IdeNative.screen_shot end
INFO  2023-08-18 19:02:51,952 minitest.py _miniSetUp      393 =========case: test_handle_modal start=========
INFO  2023-08-18 19:02:51,953 app.py     redirect_to     603 RedirectTo: pages/common/selected_city
DEBUG 2023-08-18 19:02:51,955 connection.py _safely_send    417 ASYNC_SEND > {"id":"f60799b0-8290-4823-afb6-cec6b75510e1","method":"App.callWxMethod","params":{"method":"redirectTo","args":[{"url":"pages/common/selected_city"}]}}
DEBUG 2023-08-18 19:02:51,966 connection.py _on_message     652 RECV < {"id":"f60799b0-8290-4823-afb6-cec6b75510e1","error":{"message":"page \"pages/index/pages/common/selected_city\" is not found"}}
ERROR 2023-08-18 19:02:51,968 connection.py _on_message     660 [f60799b0-8290-4823-afb6-cec6b75510e1]: page "pages/index/pages/common/selected_city" is not found
INFO  2023-08-18 19:02:51,969 connection.py _handle_async_msg 693 received async msg: f60799b0-8290-4823-afb6-cec6b75510e1
DEBUG 2023-08-18 19:02:51,970 minitest.py _miniTearDown   589 =========Current case Down: test_handle_modal=========
INFO  2023-08-18 19:02:51,971 minitest.py capture         686 capture teardown.png
INFO  2023-08-18 19:02:51,972 basenative.py wrapper         24  call IdeNative.screen_shot
DEBUG 2023-08-18 19:02:51,972 connection.py _safely_send    417 SEND > {"id":"b1075f19-de41-46ab-8084-09fdde9ab18e","method":"App.captureScreenshot","params":{}}
DEBUG 2023-08-18 19:02:52,293 connection.py _on_message     650 RECV < {"id":"b1075f19-de41-46ab-8084-09fdde9ab18e","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAawAAAOeCAIAAADQh7N0AAAAAXNSR0IArs4c6QAAIABJREFUeJzsvWlwHMl5551Hnd1VfV+4DwIkQXJ4gMPhDEece0aSZY0kjy1LXkV4PzhkKdYRG34jtH4j1uuItSJ21yv7w+6GwtaGvLHvhm1Za2t0jWSN5qTm4Aw5w5sESOImzkaj7+66M98PRUIgAILoBhroJvIXCAbYqM7Kysr81/Pk82QW/H8pBQ0I3O4KVMr6K0zv/KyzWLjuwisquXasv8IMRq2JU8qZ212JKmjEIVRRnSsVwfUXC+pDBBlbQI3aedv7z+ZiAcDp212JKmjEUVRRnSvVtYrY3tarEyF+4KnpXX5gbh8EwASAs7e7HlXTiFK4Tio1G2tRbO14YIZQ/bPpd/zBu3c2ABzZ7kpUgXtrH7z74QIrv7T1+8...
INFO  2023-08-18 19:02:52,298 basenative.py wrapper         28  call IdeNative.screen_shot end
INFO  2023-08-18 19:02:52,300 basenative.py wrapper         24  call BaseNative.get_start_up
INFO  2023-08-18 19:02:52,301 basenative.py wrapper         28  call BaseNative.get_start_up end
ERROR 2023-08-18 19:02:52,493 assertbase.py _get_stack_info 341 <bound method TestShouye_1.setUp of <tests.test_login.TestShouye_1 testMethod=test_handle_modal>>
Traceback (most recent call last):
  File "D:\software\python-3.10.10\lib\site-packages\minium\framework\libs\unittest\case.py", line 265, in testPartExecutor
    yield
  File "D:\software\python-3.10.10\lib\site-packages\minium\framework\libs\unittest\case.py", line 344, in run
    self._callSetUp()
  File "D:\software\python-3.10.10\lib\unittest\case.py", line 546, in _callSetUp
    self.setUp()
  File "D:\路路游小程序\tests\test_login.py", line 53, in setUp
    self.app.redirect_to("pages/common/selected_city")
  File "D:\software\python-3.10.10\lib\site-packages\minium\miniprogram\base_driver\minium_log.py", line 172, in wrapper
    result = func(*args, **kwargs)
  File "D:\software\python-3.10.10\lib\site-packages\minium\utils\utils.py", line 82, in wrapper
    ret = func(*args, **kwargs)
  File "D:\software\python-3.10.10\lib\site-packages\minium\miniprogram\base_driver\app.py", line 604, in redirect_to
    page = self._change_route_async("redirectTo", url, is_wait_url_change)
  File "D:\software\python-3.10.10\lib\site-packages\minium\miniprogram\base_driver\app.py", line 818, in _change_route_async
    cmd.get_open_result(wait_timeout)
  File "D:\software\python-3.10.10\lib\site-packages\minium\miniprogram\base_driver\app.py", line 126, in get_open_result
    return self._open_callback.get_result()
  File "D:\software\python-3.10.10\lib\site-packages\minium\miniprogram\base_driver\callback.py", line 126, in get_result
    return self._waiter.result()
minium.framework.exception.MiniCommandError: page "pages/index/pages/common/selected_city" is not found
DEBUG 2023-08-18 19:02:52,511 connection.py _on_message     652 RECV < {"method":"App.logAdded","params":{"type":"log","args":[{"hasUpdate":false}]}}
INFO  2023-08-18 19:02:52,814 minitest.py _miniSetUp      340 =========Current case: test_liangyou=========
INFO  2023-08-18 19:02:52,815 minitest.py _miniSetUp      343 package info: D:.路路游小程序.tests.test_login, case info: TestShouye_1.test_liangyou
INFO  2023-08-18 19:02:52,815 basenative.py wrapper         24  call BaseNative.check_connection
INFO  2023-08-18 19:02:52,816 basenative.py wrapper         28  call BaseNative.check_connection end
INFO  2023-08-18 19:02:52,817 minitest.py capture         686 capture setup.png
INFO  2023-08-18 19:02:52,817 basenative.py wrapper         24  call IdeNative.screen_shot
DEBUG 2023-08-18 19:02:52,818 connection.py _safely_send    417 SEND > {"id":"22b4c167-ea84-4c8b-9ecd-924e3a581a56","method":"App.captureScreenshot","params":{}}
DEBUG 2023-08-18 19:02:53,116 connection.py _on_message     650 RECV < {"id":"22b4c167-ea84-4c8b-9ecd-924e3a581a56","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAawAAAOeCAIAAADQh7N0AAAAAXNSR0IArs4c6QAAIABJREFUeJzsvVlwXEea35vLWavOqX3FDhDgLq6iFqrZotSSepveRjM9E3aHx08TdkRHOOZG2HEf7oPj3gjbD54H2+GIex/GcW/E2J72TKvVPepFrYXq1kKR4iKuAEnsxFoo1F5nP5n34ZBoEABBVAEFVBH5CwRDqjqVJ0+ezP/5vswvvwP/d0pBCwJ3ugK1svEK04d/GywWbrjwmkpuHBuvMIPRaJKUctZOV6IOWnEI1VTnWkVw48WC5hBBxjbQoHbe8f6ztdgAcMZOV6IOWnEU1VTnWnWtJna29ZpEiJ96GnqXn5rbBwGwAOCcna5H3bSiFG6QWs3GRhTbOJ6aIdT8bPkdf/runQMAR3a6EnXg3dqn7354wNovbeO+c5...
INFO  2023-08-18 19:02:53,121 basenative.py wrapper         28  call IdeNative.screen_shot end
INFO  2023-08-18 19:02:53,121 minitest.py _miniSetUp      393 =========case: test_liangyou start=========
INFO  2023-08-18 19:02:53,122 app.py     redirect_to     603 RedirectTo: pages/common/selected_city
DEBUG 2023-08-18 19:02:53,123 connection.py _safely_send    417 ASYNC_SEND > {"id":"ef270f5b-d2d1-4ccf-983f-909f3868e123","method":"App.callWxMethod","params":{"method":"redirectTo","args":[{"url":"pages/common/selected_city"}]}}
DEBUG 2023-08-18 19:02:53,130 connection.py _on_message     652 RECV < {"id":"ef270f5b-d2d1-4ccf-983f-909f3868e123","error":{"message":"page \"pages/index/pages/common/selected_city\" is not found"}}
ERROR 2023-08-18 19:02:53,132 connection.py _on_message     660 [ef270f5b-d2d1-4ccf-983f-909f3868e123]: page "pages/index/pages/common/selected_city" is not found
INFO  2023-08-18 19:02:53,133 connection.py _handle_async_msg 693 received async msg: ef270f5b-d2d1-4ccf-983f-909f3868e123
DEBUG 2023-08-18 19:02:53,135 minitest.py _miniTearDown   589 =========Current case Down: test_liangyou=========
INFO  2023-08-18 19:02:53,136 minitest.py capture         686 capture teardown.png
INFO  2023-08-18 19:02:53,136 basenative.py wrapper         24  call IdeNative.screen_shot
DEBUG 2023-08-18 19:02:53,137 connection.py _safely_send    417 SEND > {"id":"e93c5f90-5f98-475e-9182-45e6853d77f2","method":"App.captureScreenshot","params":{}}
DEBUG 2023-08-18 19:02:53,552 connection.py _on_message     650 RECV < {"id":"e93c5f90-5f98-475e-9182-45e6853d77f2","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAawAAAOeCAIAAADQh7N0AAAAAXNSR0IArs4c6QAAIABJREFUeJzsvUmQHMeZ5+tL7BmR+1Z7FVCFnVgJkiAFcRFFSaONaqrVbRq1aU49M2ZtNtbvMPYO7zD2ntlMH6YPM2N9eIce0zPrHrWmW9TSlFpcRYkLSAAEiL0A1I5as7Jyz9jD/R0CKBVqQ2VWZVUmyn9WBiMzIz08PNz/8X3un38B/09KQQsCd7oCtbLxCtMHfxssFm648JpKbhwbrzCD0WhSlHL2TleiDlpxCNVU51pFcOPFguYQQcY20KB23vH+s7U4AHDmTleiDlpxFNVU51p1rSZ2tvWaRIgfexp6lx+b2wcBsAHg3J2uR920ohRukFrNxkYU2zgemyHU/Gz5HX/87p0LAEd2uhJ14N/ax+9++MDaL23jvnOT8L...
INFO  2023-08-18 19:02:53,556 basenative.py wrapper         28  call IdeNative.screen_shot end
INFO  2023-08-18 19:02:53,557 basenative.py wrapper         24  call BaseNative.get_start_up
INFO  2023-08-18 19:02:53,557 basenative.py wrapper         28  call BaseNative.get_start_up end
ERROR 2023-08-18 19:02:53,562 assertbase.py _get_stack_info 341 <bound method TestShouye_1.setUp of <tests.test_login.TestShouye_1 testMethod=test_liangyou>>
Traceback (most recent call last):
  File "D:\software\python-3.10.10\lib\site-packages\minium\framework\libs\unittest\case.py", line 265, in testPartExecutor
    yield
  File "D:\software\python-3.10.10\lib\site-packages\minium\framework\libs\unittest\case.py", line 344, in run
    self._callSetUp()
  File "D:\software\python-3.10.10\lib\unittest\case.py", line 546, in _callSetUp
    self.setUp()
  File "D:\路路游小程序\tests\test_login.py", line 53, in setUp
    self.app.redirect_to("pages/common/selected_city")
  File "D:\software\python-3.10.10\lib\site-packages\minium\miniprogram\base_driver\minium_log.py", line 172, in wrapper
    result = func(*args, **kwargs)
  File "D:\software\python-3.10.10\lib\site-packages\minium\utils\utils.py", line 82, in wrapper
    ret = func(*args, **kwargs)
  File "D:\software\python-3.10.10\lib\site-packages\minium\miniprogram\base_driver\app.py", line 604, in redirect_to
    page = self._change_route_async("redirectTo", url, is_wait_url_change)
  File "D:\software\python-3.10.10\lib\site-packages\minium\miniprogram\base_driver\app.py", line 818, in _change_route_async
    cmd.get_open_result(wait_timeout)
  File "D:\software\python-3.10.10\lib\site-packages\minium\miniprogram\base_driver\app.py", line 126, in get_open_result
    return self._open_callback.get_result()
  File "D:\software\python-3.10.10\lib\site-packages\minium\miniprogram\base_driver\callback.py", line 126, in get_result
    return self._waiter.result()
minium.framework.exception.MiniCommandError: page "pages/index/pages/common/selected_city" is not found
INFO  2023-08-18 19:07:15,039 minitest.py init_miniprogram 144 start init miniprogram
INFO  2023-08-18 19:07:15,042 basenative.py wrapper         24  call IdeNative.start_wechat
INFO  2023-08-18 19:07:15,042 basenative.py wrapper         28  call IdeNative.start_wechat end
INFO  2023-08-18 19:07:15,044 wx_minium.py launch_dev_tool 565 Starting dev tool and launch MiniProgram project ...
INFO  2023-08-18 19:07:15,045 minium_object.py _do_shell       83  de shell: cli.bat auto --project "D:\software\mini-data\c-luluyou\unpackage\dist\dev\mp-weixin" --auto-port 9421
INFO  2023-08-18 19:07:21,422 minium_object.py _do_shell       101 err:
- initialize

× IDE may already started at port 62949, trying to connect

√ IDE server started successfully, listening on http://127.0.0.1:65030
- preparing
- Fetching AppID (wxad3951dd54b8c965) permissions
√ Using AppID: wxad3951dd54b8c965
√ auto

INFO  2023-08-18 19:07:21,423 minium_object.py _do_shell       102 out:

INFO  2023-08-18 19:07:31,427 wx_minium.py connect_dev_tool 661 Trying to connect Dev tool ...
INFO  2023-08-18 19:07:31,508 connection.py _connect        342 connect to WebChatTools successfully
DEBUG 2023-08-18 19:07:31,513 connection.py _safely_send    417 SEND > {"id":"f019a519-fce5-4b2b-8e8a-7e7eae85422b","method":"Tool.getInfo","params":{}}
DEBUG 2023-08-18 19:07:31,599 connection.py _on_message     652 RECV < {"id":"f019a519-fce5-4b2b-8e8a-7e7eae85422b","result":{"version":"1.06.2306020","SDKVersion":"2.30.4"}}
DEBUG 2023-08-18 19:07:31,601 connection.py _safely_send    417 SEND > {"id":"e8d537ac-6188-4222-b3ed-b64b7c0ce1f7","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
DEBUG 2023-08-18 19:07:42,509 connection.py _on_message     652 RECV < {"method":"App.initialized","params":{"from":"devtools"}}
DEBUG 2023-08-18 19:07:42,527 connection.py _on_message     650 RECV < {"id":"e8d537ac-6188-4222-b3ed-b64b7c0ce1f7","result":{"result":{"model":"iPhone 12/13 Pro Max","pixelRatio":3,"windowWidth":428,"windowHeight":926,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":428,"screenHeight":926,"SDKVersion":"2.30.4","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":100,"statusBarHeight":47,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":tr...
DEBUG 2023-08-18 19:07:42,536 connection.py remove          283 remove key which is not in observers
DEBUG 2023-08-18 19:07:42,537 connection.py _safely_send    417 SEND > {"id":"7ee2de24-eba8-4d1b-a869-8810bb9f0dfa","method":"App.addBinding","params":{"name":"onAppRouteDone"}}
DEBUG 2023-08-18 19:07:42,554 connection.py _on_message     652 RECV < {"id":"7ee2de24-eba8-4d1b-a869-8810bb9f0dfa","result":{}}
DEBUG 2023-08-18 19:07:42,557 connection.py _safely_send    417 SEND > {"id":"609a8b83-1e03-4d01-a9c2-98df618b1924","method":"App.callFunction","params":{"functionDeclaration":"function () {\n    if (!global.__minium_onAppRouteDone) {\n        wx.onAppRouteDone(function (options) {\n            onAppRouteDone(options, Date.now())\n        })\n        global.__minium_onAppRouteDone = true\n    }\n}","args":[]}}
DEBUG 2023-08-18 19:07:42,572 connection.py _on_message     652 RECV < {"id":"609a8b83-1e03-4d01-a9c2-98df618b1924","result":{}}
DEBUG 2023-08-18 19:07:42,585 connection.py _safely_send    417 SEND > {"id":"39863d89-d5a7-4e77-84f7-0da8f34f1960","method":"App.callFunction","params":{"functionDeclaration":"function miniumRequestStack(){if(!global.__minium_request_stack){global.__minium_request_stack=new Map,global.__minium_wait_util=function(e=0,t=20){var _=(getCurrentPages().pop()||{}).__wxWebviewId__;return new Promise((r=>{var a=10*t,i=setInterval((()=>{a--;var t=global.__minium_request_stack.has(_)?global.__minium_request_stack.get(_).size:0;console.debug(\"[minitest] current stack size: \",t),t<=e?(clearInterval(i),r(!0)):a<0&&(clearInterval(i),r(!1))}),100)}))};var e=wx._MINI_WX_PROXY_||wx,t=e.request;return Object.defineProperty(e,\"request\",{configurable:!0,get:()=>function(e){if(\"https://weapp.tencent.com/jscov_driver/CollectCovTimer\"==e.url)return t(e);var _,r=(getCurrentPages().pop()||{}).__wxWebviewId__;global.__minium_request_stack.has(r)?_=global.__minium_request_stack.get(r):(_=new Map,global.__minium_request_stack.set(r,_));var a,i=e.complete;e.complete=e=>{_.delete(a),0===_.size&&global.__minium_request_stack.delete(r),i&&i(e)};var n=t(e);return a=n&&n.uniqueId||Math.random(),_.set(a,Date.now()),n}}),!0}return!1}","args":[]}}
DEBUG 2023-08-18 19:07:42,611 connection.py _on_message     652 RECV < {"id":"39863d89-d5a7-4e77-84f7-0da8f34f1960","result":{"result":true}}
DEBUG 2023-08-18 19:07:42,624 connection.py _safely_send    417 SEND > {"id":"18a16902-9033-4661-9f0d-7e45f19f6a8c","method":"App.callFunction","params":{"functionDeclaration":"function checkInject(){var i=!1;return global.__minium?i=!0:(global.__minium={},i=!1),{injected:i,isThirdApp:!!wx._MINI_WX_PROXY_}}","args":[]}}
DEBUG 2023-08-18 19:07:42,641 connection.py _on_message     652 RECV < {"id":"18a16902-9033-4661-9f0d-7e45f19f6a8c","result":{"result":{"injected":false,"isThirdApp":false}}}
DEBUG 2023-08-18 19:07:42,644 connection.py _safely_send    417 SEND > {"id":"fbd009dc-f397-4dd2-acb1-3846ab21328f","method":"App.callFunction","params":{"functionDeclaration":"function(){return {\"pages\": __wxConfig.pages, \"tabBar\": __wxConfig.tabBar && __wxConfig.tabBar.list} }","args":[]}}
DEBUG 2023-08-18 19:07:42,710 connection.py _on_message     650 RECV < {"id":"fbd009dc-f397-4dd2-acb1-3846ab21328f","result":{"result":{"pages":["pages/index/index","pages/plan/plan_index","pages/plan/article","pages/my/code-details","pages/my/my_rights","pages/my/rights_list","pages/common/rights_code","pages/common/bag","pages/common/bag_detail","pages/common/buy_ok","pages/common/bag_choice","pages/my/collection","pages/scenic/scenic-list","pages/common/selected_city","pages/my/feedback","pages/my/feedback-input","pages/my/my","pages/my/contact","pages/common/agreement",...
DEBUG 2023-08-18 19:07:42,713 connection.py _safely_send    417 SEND > {"id":"e02b988c-5a3a-44fd-8dd5-7c175164e7f7","method":"App.callWxMethod","params":{"method":"getAccountInfoSync","args":[]}}
DEBUG 2023-08-18 19:07:42,849 connection.py _on_message     652 RECV < {"id":"e02b988c-5a3a-44fd-8dd5-7c175164e7f7","result":{"result":{"miniProgram":{"appId":"wxad3951dd54b8c965","envVersion":"develop","version":""}}}}
DEBUG 2023-08-18 19:07:42,857 connection.py _safely_send    417 SEND > {"id":"e5d8aa05-897a-4483-92dc-b5af7c2984fe","method":"Tool.getInfo","params":{}}
DEBUG 2023-08-18 19:07:42,878 connection.py _on_message     652 RECV < {"id":"e5d8aa05-897a-4483-92dc-b5af7c2984fe","result":{"version":"1.06.2306020","SDKVersion":"2.30.4"}}
DEBUG 2023-08-18 19:07:42,913 connection.py _safely_send    417 SEND > {"id":"afd74920-83ef-4290-b3cd-6b9b9669f730","method":"App.callFunction","params":{"functionDeclaration":"function ideMockModal(){return!!global.__minium_mock_native_modal||(global.__minium_auth_setting={},global.__minium_mock_native_modal_list=[],global.__minium_handle_mock_modal=function(_,l){let m=[];for(;global.__minium_mock_native_modal_list.length>0;){let i=global.__minium_mock_native_modal_list.pop();if(-1===l.indexOf(i.type)||!(_ in i)){m.unshift(i);continue}let o=i[_];if(global.__minium_mock_native_modal_list.push(...m),\"function\"!=typeof o)throw`${o} is not callable`;return o(),!0}return console.warn(`can't find [${l}][${_}]`),global.__minium_mock_native_modal_list.push(...m),!1},global.__minium_get_all_modal=function(){let _=[];global.__minium_mock_native_modal_list.forEach((l=>{_.push({type:l.type,texts:Object.keys(l).filter((_=>\"type\"!==_))})}))},global.__minium_handle_mock_native_modal=function(_){return global.__minium_handle_mock_modal(_,[\"modal\",\"auth\"])},global.__minium_handle_mock_map_modal=function(_){return global.__minium_handle_mock_modal(_,[\"map\"])},global.__minium_handle_mock_auth_modal=function(_){return global.__minium_handle_mock_modal(_,[\"auth\"])},global.__minium_mock_native_modal=function(_){_.type=\"modal\",global.__minium_mock_native_modal_list.push(_)},global.__minium_mock_map_modal=function(_){_.type=\"map\",global.__minium_mock_native_modal_list.push(_)},global.__minium_mock_auth_modal=function(_){_.type=\"auth\",global.__minium_mock_native_modal_list.push(_)},!1)}","args":[]}}
DEBUG 2023-08-18 19:07:42,930 connection.py _on_message     652 RECV < {"id":"afd74920-83ef-4290-b3cd-6b9b9669f730","result":{"result":false}}
DEBUG 2023-08-18 19:07:42,935 connection.py _safely_send    417 SEND > {"id":"3c7ebee2-c157-42fb-a082-a4c1aa5fa102","method":"App.mockWxMethod","params":{"method":"showActionSheet","functionDeclaration":"function miniActionSheet(e){return new Promise((n=>{let t={},o=e.itemList;for(let e=0;e<o.length;e++)t[o[e]]=function(){let t={errMsg:\"showActionSheet:ok\",tapIndex:e};return n(t),t};return t[\"\u53d6\u6d88\"]=function(){let e={errMsg:\"showActionSheet:fail cancel\"};return n(e),e},console.warn(\"[minium] mock wx.showActionSheet, you can use `native.handle_action_sheet` to handle it\"),global.__minium_mock_native_modal(t)}))}","args":[]}}
DEBUG 2023-08-18 19:07:42,941 connection.py _on_message     652 RECV < {"id":"3c7ebee2-c157-42fb-a082-a4c1aa5fa102","result":{}}
DEBUG 2023-08-18 19:07:42,944 connection.py _safely_send    417 SEND > {"id":"ca8ce477-ab66-4855-b7c9-d9472efaef2f","method":"App.getCurrentPage","params":{}}
DEBUG 2023-08-18 19:07:42,951 connection.py _on_message     652 RECV < {"id":"ca8ce477-ab66-4855-b7c9-d9472efaef2f","result":{"pageId":1,"path":"pages/index/index","query":{}}}
DEBUG 2023-08-18 19:07:42,955 connection.py _safely_send    417 SEND > {"id":"978e7551-51c7-4ac2-8f74-e4f1cc51f89c","method":"App.callWxMethod","params":{"method":"getSetting","args":[]}}
DEBUG 2023-08-18 19:07:43,321 connection.py _on_message     652 RECV < {"id":"978e7551-51c7-4ac2-8f74-e4f1cc51f89c","result":{"result":{"errMsg":"getSetting:ok","authSetting":{"scope.userLocation":true,"scope.address":true,"scope.invoice":true,"scope.invoiceTitle":true,"scope.userInfo":true}}}}
DEBUG 2023-08-18 19:07:43,323 connection.py _safely_send    417 SEND > {"id":"244caf09-70ee-4540-9619-37e60a32cf49","method":"App.callFunction","params":{"functionDeclaration":"function mockNetwork(){if(!global[\"__minium_request_network_mocked\"]){function e(i,s){if(typeof i!=typeof s)return!1;switch(typeof i){case\"string\":return!!new RegExp(i).exec(s);case\"number\":return i===s;case\"object\":if(i instanceof Array){if(i.length!=s.length)return!1;for(var c=0;c<i.length;c++)if(!e(i[c],s[c]))return!1;return!0}for(var t in i)if(\"success\"!=t&&\"fail\"!=t&&\"complete\"!=t&&\"_miniMockType\"!=t){if(void 0===s[t])return!1;if(!e(i[t],s[t]))return!1}return!0}return!1}Object.defineProperty(global,\"__minium_request_network_mocked\",{value:!0,writable:!1}),global[\"__minium_request_network_mock_rule\"]||(global[\"__minium_request_network_mock_rule\"]=[]),global[\"__minium_requestTask\"]=class{constructor(e,i,s){this.success=e,this.fail=i,this.callback=s,this.chunkCallback=[],this.headersReceivedCallback=[],this.progressUpdateCallback=[],this.fd=setTimeout((()=>{this.headersReceivedCallback.forEach((e=>{this.success&&e({header:this.success.header})})),this.chunkCallback.forEach((e=>{this.success&&e(this.success.data)})),this.progressUpdateCallback.forEach((e=>{this.success&&e({progress:100,totalBytesWritten:100,totalBytesExpectedToWrite:100})})),s(this.success||this.fail)}))}abort(){clearTimeout(this.fd)}offChunkReceived(e){var i=this.chunkCallback.indexOf(e);-1!==i&&this.chunkCallback.splice(i,1)}offHeadersReceived(e){var i=this.headersReceivedCallback.indexOf(e);-1!==i&&this.headersReceivedCallback.splice(i,1)}onChunkReceived(e){this.chunkCallback.push(e)}onHeadersReceived(e){this.headersReceivedCallback.push(e)}onProgressUpdate(e){this.progressUpdateCallback.push(e)}};var i=wx._MINI_WX_PROXY_||wx,s=i[\"request\"];Object.defineProperty(i,\"request\",{configurable:!0,get:()=>function(i){for(var c=0;c<global[\"__minium_request_network_mock_rule\"].length;c++){var t=global[\"__minium_request_network_mock_rule\"][c];if(e(t,i)){if(1===t._miniMockType&&([t]=global[\"__minium_request_network_mock_rule\"].splice(c,1)),console.log(\"@@@@rule match\",t),i.__miniumMocked=!0,t.success)return new global[\"__minium_requestTask\"](t.success,void 0,(e=>{i.success&&i.success(e),i.complete&&i.complete(e)}));if(t.fail)return new global[\"__minium_requestTask\"](void 0,t.fail,(e=>{i.fail&&i.fail(e),i.complete&&i.complete(e)}));if(1===t._miniMockType)return}}return s(i)}})}}","args":[]}}
DEBUG 2023-08-18 19:07:43,328 connection.py _on_message     652 RECV < {"id":"244caf09-70ee-4540-9619-37e60a32cf49","result":{}}
DEBUG 2023-08-18 19:07:43,330 connection.py _safely_send    417 SEND > {"id":"b5ae3286-25dc-47d3-9899-87170dbfba65","method":"App.enableLog","params":{}}
DEBUG 2023-08-18 19:07:43,337 connection.py _on_message     652 RECV < {"id":"b5ae3286-25dc-47d3-9899-87170dbfba65","result":{}}
DEBUG 2023-08-18 19:07:43,340 connection.py _safely_send    417 SEND > {"id":"0b5b26a9-32ab-4210-91f3-ac47aa2dc2e4","method":"App.callFunction","params":{"functionDeclaration":"function getAppConfig(){if(0===arguments.length)return __wxConfig;{const n={};return Array.from(arguments).forEach((r=>{n[r]=__wxConfig[r]})),n}}","args":["accountInfo"]}}
DEBUG 2023-08-18 19:07:43,365 connection.py _on_message     652 RECV < {"id":"0b5b26a9-32ab-4210-91f3-ac47aa2dc2e4","result":{"result":{"accountInfo":{"appId":"wxad3951dd54b8c965","nickname":"路路游旅游一卡通","icon":"http://wx.qlogo.cn/mmhead/Q3auHgzwzM5SiaKDQIYkrts0TvBSibiardxjFichw4gncxLiaUYhJOHQ2RQ/0"}}}}
DEBUG 2023-08-18 19:07:43,368 connection.py _safely_send    417 SEND > {"id":"c2d216a6-a291-47a4-aeb4-23e4e3afce76","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
DEBUG 2023-08-18 19:07:43,384 connection.py _on_message     650 RECV < {"id":"c2d216a6-a291-47a4-aeb4-23e4e3afce76","result":{"result":{"model":"iPhone 12/13 Pro Max","pixelRatio":3,"windowWidth":428,"windowHeight":926,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":428,"screenHeight":926,"SDKVersion":"2.30.4","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":100,"statusBarHeight":47,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":tr...
INFO  2023-08-18 19:07:43,386 minitest.py init_miniprogram 159 end init miniprogram
INFO  2023-08-18 19:07:43,393 minitest.py _miniSetUp      340 =========Current case: test_handle_modal=========
INFO  2023-08-18 19:07:43,397 minitest.py _miniSetUp      343 package info: D:.路路游小程序.tests.test_login, case info: TestShouye_1.test_handle_modal
INFO  2023-08-18 19:07:43,397 basenative.py wrapper         24  call BaseNative.check_connection
INFO  2023-08-18 19:07:43,398 basenative.py wrapper         28  call BaseNative.check_connection end
INFO  2023-08-18 19:07:43,401 minitest.py capture         686 capture setup.png
INFO  2023-08-18 19:07:43,402 basenative.py wrapper         24  call IdeNative.screen_shot
DEBUG 2023-08-18 19:07:43,403 connection.py _safely_send    417 SEND > {"id":"9234342b-45bd-4a44-958a-3a6ede25c02e","method":"App.captureScreenshot","params":{}}
DEBUG 2023-08-18 19:07:45,341 connection.py _on_message     650 RECV < {"id":"9234342b-45bd-4a44-958a-3a6ede25c02e","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAawAAAOeCAIAAADQh7N0AAAAAXNSR0IArs4c6QAAIABJREFUeJyMvUvaI7uOJGigdLLGPa891ap6s72FGw7rAcwA0BXnfqXMG0e/5HIn8TAYQZCM//P//b/Pk0AEgiTJz/kiguRhBhChzyMCQP1LgH4BgC8Lv+rzev88zzkHAJkIRkRmfj6fzOzLADADQN+wXwE9cK70gwDUDfbjqlXnnAfM1aRu1esp3Yu65gROXJ/3+0/8wwTBCMQJAAkmsh534qO2JfUsP52RmVk9AAI4ESfikAkQyOktdeeW6xbvepP7zxLI5/P5k4mIElaLSNckSQQiM8859dUIk6jWIgJhcd+yiohzTmbWDatH33i30P0A4rzaTxIgov4/65ZgZDITVpIMqbXcHQzi+JPneao9AJLJSAYiDjOQcSLOQU...
INFO  2023-08-18 19:07:45,348 basenative.py wrapper         28  call IdeNative.screen_shot end
INFO  2023-08-18 19:07:45,352 minitest.py _miniSetUp      393 =========case: test_handle_modal start=========
INFO  2023-08-18 19:07:45,353 app.py     redirect_to     603 RedirectTo: pages/common/selected_city
DEBUG 2023-08-18 19:07:45,356 connection.py _safely_send    417 ASYNC_SEND > {"id":"524110d1-8cb6-4888-9b16-822367f1a281","method":"App.callWxMethod","params":{"method":"redirectTo","args":[{"url":"pages/common/selected_city"}]}}
DEBUG 2023-08-18 19:07:45,371 connection.py _on_message     652 RECV < {"id":"524110d1-8cb6-4888-9b16-822367f1a281","error":{"message":"page \"pages/index/pages/common/selected_city\" is not found"}}
ERROR 2023-08-18 19:07:45,372 connection.py _on_message     660 [524110d1-8cb6-4888-9b16-822367f1a281]: page "pages/index/pages/common/selected_city" is not found
INFO  2023-08-18 19:07:45,373 connection.py _handle_async_msg 693 received async msg: 524110d1-8cb6-4888-9b16-822367f1a281
DEBUG 2023-08-18 19:07:45,376 minitest.py _miniTearDown   589 =========Current case Down: test_handle_modal=========
INFO  2023-08-18 19:07:45,379 minitest.py capture         686 capture teardown.png
INFO  2023-08-18 19:07:45,380 basenative.py wrapper         24  call IdeNative.screen_shot
DEBUG 2023-08-18 19:07:45,382 connection.py _safely_send    417 SEND > {"id":"b1ae6489-697f-4970-b12d-c40e9ea6c436","method":"App.captureScreenshot","params":{}}
DEBUG 2023-08-18 19:07:47,223 connection.py _on_message     650 RECV < {"id":"b1ae6489-697f-4970-b12d-c40e9ea6c436","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAawAAAOeCAIAAADQh7N0AAAAAXNSR0IArs4c6QAAIABJREFUeJzsvVmQXEd635vL2euc2rfeu4Fu7MRKcB0M1+EMPRI1I0ojhT0RY7/IdngiHLoPivtwn64ibD9Y4bAdjtB9sHxvjGSLloaziEMNh+sMF5AAARB7A+gdvVZX115nP5n34QA9jd7QVd3VXYXOX3QgyKpTefLkyfyf78v88jvw/6QUtCBwpytQKxuvML3/t8Fi4YYLr6nkxrHxCjMYjSZFKWfvdCXqoBWHUE11rlUEN14saA4RZGwDDWrnHe8/W4sDAGfudCXqoBVHUU11rlXXamJnW69JhPiRp6F3+ZG5fRAAGwDO3el61E0rSuEGqdVsbESxjeORGULNz5bf8Ufv3rkAcGSnK1EH/q199O6HD6z90jbuOzcJj+...
INFO  2023-08-18 19:07:47,228 basenative.py wrapper         28  call IdeNative.screen_shot end
INFO  2023-08-18 19:07:47,229 basenative.py wrapper         24  call BaseNative.get_start_up
INFO  2023-08-18 19:07:47,230 basenative.py wrapper         28  call BaseNative.get_start_up end
ERROR 2023-08-18 19:07:47,343 assertbase.py _get_stack_info 341 <bound method TestShouye_1.setUp of <tests.test_login.TestShouye_1 testMethod=test_handle_modal>>
Traceback (most recent call last):
  File "D:\software\python-3.10.10\lib\site-packages\minium\framework\libs\unittest\case.py", line 265, in testPartExecutor
    yield
  File "D:\software\python-3.10.10\lib\site-packages\minium\framework\libs\unittest\case.py", line 344, in run
    self._callSetUp()
  File "D:\software\python-3.10.10\lib\unittest\case.py", line 546, in _callSetUp
    self.setUp()
  File "D:\路路游小程序\tests\test_login.py", line 67, in setUp
    self.app.redirect_to("pages/common/selected_city")
  File "D:\software\python-3.10.10\lib\site-packages\minium\miniprogram\base_driver\minium_log.py", line 172, in wrapper
    result = func(*args, **kwargs)
  File "D:\software\python-3.10.10\lib\site-packages\minium\utils\utils.py", line 82, in wrapper
    ret = func(*args, **kwargs)
  File "D:\software\python-3.10.10\lib\site-packages\minium\miniprogram\base_driver\app.py", line 604, in redirect_to
    page = self._change_route_async("redirectTo", url, is_wait_url_change)
  File "D:\software\python-3.10.10\lib\site-packages\minium\miniprogram\base_driver\app.py", line 818, in _change_route_async
    cmd.get_open_result(wait_timeout)
  File "D:\software\python-3.10.10\lib\site-packages\minium\miniprogram\base_driver\app.py", line 126, in get_open_result
    return self._open_callback.get_result()
  File "D:\software\python-3.10.10\lib\site-packages\minium\miniprogram\base_driver\callback.py", line 126, in get_result
    return self._waiter.result()
minium.framework.exception.MiniCommandError: page "pages/index/pages/common/selected_city" is not found
INFO  2023-08-18 19:07:48,823 minitest.py _miniSetUp      340 =========Current case: test_handle_modal_01=========
INFO  2023-08-18 19:07:48,824 minitest.py _miniSetUp      343 package info: D:.路路游小程序.tests.test_login, case info: TestShouye_1.test_handle_modal_01
INFO  2023-08-18 19:07:48,824 basenative.py wrapper         24  call BaseNative.check_connection
INFO  2023-08-18 19:07:48,825 basenative.py wrapper         28  call BaseNative.check_connection end
INFO  2023-08-18 19:07:48,826 minitest.py capture         686 capture setup.png
INFO  2023-08-18 19:07:48,827 basenative.py wrapper         24  call IdeNative.screen_shot
DEBUG 2023-08-18 19:07:48,836 connection.py _safely_send    417 SEND > {"id":"ea33b76b-c7a8-4579-863a-4502586db431","method":"App.captureScreenshot","params":{}}
DEBUG 2023-08-18 19:07:50,760 connection.py _on_message     650 RECV < {"id":"ea33b76b-c7a8-4579-863a-4502586db431","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAawAAAOeCAIAAADQh7N0AAAAAXNSR0IArs4c6QAAIABJREFUeJzsvVlwXMl555vLWavOqX3DDpAA9+babLIXqtmtVrdkWS3JLcsOu2OkeXHMhBwx4Xnw3If7dG/EzDyMHmYmFH3vg0fXE/bIGlutxS1ZrV6lXtjNfQdIYieWAlCo/dTZM+/DISEQAEFUAQVUEfkLBoOsOpUnT57M//m+zC+/A/8PSkETAre6AtWy9grT+3/WWCxcc+FVlVw/1l5hBqPeJCnlrK2uRA004xCqqs7ViuDaiwWNIYKMTaBO7bzl/WdjsQHgjK2uRA004yiqqs7V6lpVbG3rNYgQP/bU9S4/NrcPAmABwDlbXY+aaUYpXCPVmo31KLZ+PDZDqPHZ8Dv++N07BwCObHUlasC7tY/f/fCA1V/a2n3nBu...
INFO  2023-08-18 19:07:50,766 basenative.py wrapper         28  call IdeNative.screen_shot end
INFO  2023-08-18 19:07:50,768 minitest.py _miniSetUp      393 =========case: test_handle_modal_01 start=========
INFO  2023-08-18 19:07:50,769 app.py     redirect_to     603 RedirectTo: pages/common/selected_city
DEBUG 2023-08-18 19:07:50,771 connection.py _safely_send    417 ASYNC_SEND > {"id":"68c5f977-0aa9-429a-a180-2266dcbe12ef","method":"App.callWxMethod","params":{"method":"redirectTo","args":[{"url":"pages/common/selected_city"}]}}
DEBUG 2023-08-18 19:07:50,780 connection.py _on_message     652 RECV < {"id":"68c5f977-0aa9-429a-a180-2266dcbe12ef","error":{"message":"page \"pages/index/pages/common/selected_city\" is not found"}}
ERROR 2023-08-18 19:07:50,784 connection.py _on_message     660 [68c5f977-0aa9-429a-a180-2266dcbe12ef]: page "pages/index/pages/common/selected_city" is not found
INFO  2023-08-18 19:07:50,785 connection.py _handle_async_msg 693 received async msg: 68c5f977-0aa9-429a-a180-2266dcbe12ef
DEBUG 2023-08-18 19:07:50,789 minitest.py _miniTearDown   589 =========Current case Down: test_handle_modal_01=========
INFO  2023-08-18 19:07:50,791 minitest.py capture         686 capture teardown.png
INFO  2023-08-18 19:07:50,793 basenative.py wrapper         24  call IdeNative.screen_shot
DEBUG 2023-08-18 19:07:50,796 connection.py _safely_send    417 SEND > {"id":"5f851afb-6828-487a-b542-c698df4670a6","method":"App.captureScreenshot","params":{}}
DEBUG 2023-08-18 19:07:51,586 connection.py _on_message     650 RECV < {"id":"5f851afb-6828-487a-b542-c698df4670a6","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAawAAAOeCAIAAADQh7N0AAAAAXNSR0IArs4c6QAAIABJREFUeJzsvWeMXNl94HvCzXUrx86B3WQ3cxhO4AwnaYJk2SONlby7ArQfbGODgYUejMXD4mE/vAes/cEWYFmL994CEqSF7WetrNFIHskaTdYEDvMwdpOdm527crr5nPfhkq1md7PZVezqrmKfHwiCrLp17rnnnvO//3T+F/7vlIIGBG53Bypl4x2md/5ssFm44cYrarl2bLzDDEatiVPKmdvdiSpoxCVUUZ8rFYIbbxbUhxBkbAE1Gudtnz+biwUAp293J6qgEVdRRX2uVK5VxPaOXp0I4oeemt7lh+b2QQBMADh7u/tRNY0oCjdIpWpjLZqtHQ/NEqp/Nv2OP3z3zgaAI9vdiSpwb+3Ddz9cYOWXtnHbuU54WO9d/V...
INFO  2023-08-18 19:07:51,591 basenative.py wrapper         28  call IdeNative.screen_shot end
INFO  2023-08-18 19:07:51,593 basenative.py wrapper         24  call BaseNative.get_start_up
INFO  2023-08-18 19:07:51,593 basenative.py wrapper         28  call BaseNative.get_start_up end
ERROR 2023-08-18 19:07:51,603 assertbase.py _get_stack_info 341 <bound method TestShouye_1.setUp of <tests.test_login.TestShouye_1 testMethod=test_handle_modal_01>>
Traceback (most recent call last):
  File "D:\software\python-3.10.10\lib\site-packages\minium\framework\libs\unittest\case.py", line 265, in testPartExecutor
    yield
  File "D:\software\python-3.10.10\lib\site-packages\minium\framework\libs\unittest\case.py", line 344, in run
    self._callSetUp()
  File "D:\software\python-3.10.10\lib\unittest\case.py", line 546, in _callSetUp
    self.setUp()
  File "D:\路路游小程序\tests\test_login.py", line 67, in setUp
    self.app.redirect_to("pages/common/selected_city")
  File "D:\software\python-3.10.10\lib\site-packages\minium\miniprogram\base_driver\minium_log.py", line 172, in wrapper
    result = func(*args, **kwargs)
  File "D:\software\python-3.10.10\lib\site-packages\minium\utils\utils.py", line 82, in wrapper
    ret = func(*args, **kwargs)
  File "D:\software\python-3.10.10\lib\site-packages\minium\miniprogram\base_driver\app.py", line 604, in redirect_to
    page = self._change_route_async("redirectTo", url, is_wait_url_change)
  File "D:\software\python-3.10.10\lib\site-packages\minium\miniprogram\base_driver\app.py", line 818, in _change_route_async
    cmd.get_open_result(wait_timeout)
  File "D:\software\python-3.10.10\lib\site-packages\minium\miniprogram\base_driver\app.py", line 126, in get_open_result
    return self._open_callback.get_result()
  File "D:\software\python-3.10.10\lib\site-packages\minium\miniprogram\base_driver\callback.py", line 126, in get_result
    return self._waiter.result()
minium.framework.exception.MiniCommandError: page "pages/index/pages/common/selected_city" is not found
INFO  2023-08-18 19:07:52,035 minitest.py _miniSetUp      340 =========Current case: test_liangyou=========
INFO  2023-08-18 19:07:52,036 minitest.py _miniSetUp      343 package info: D:.路路游小程序.tests.test_login, case info: TestShouye_1.test_liangyou
INFO  2023-08-18 19:07:52,037 basenative.py wrapper         24  call BaseNative.check_connection
INFO  2023-08-18 19:07:52,038 basenative.py wrapper         28  call BaseNative.check_connection end
INFO  2023-08-18 19:07:52,039 minitest.py capture         686 capture setup.png
INFO  2023-08-18 19:07:52,040 basenative.py wrapper         24  call IdeNative.screen_shot
DEBUG 2023-08-18 19:07:52,041 connection.py _safely_send    417 SEND > {"id":"68a60b4b-65c2-4806-b9fa-bff65556f3a0","method":"App.captureScreenshot","params":{}}
DEBUG 2023-08-18 19:07:54,053 connection.py _on_message     650 RECV < {"id":"68a60b4b-65c2-4806-b9fa-bff65556f3a0","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAawAAAOeCAIAAADQh7N0AAAAAXNSR0IArs4c6QAAIABJREFUeJx0/e1yZEmyJAaqmnkEMqubw6WQIzKvyGfap6OsCHd3hLPDuV2VCcRxU90fZn4CdYdEZ6OQSCDiHP9QV1X7OPxf/5//2//nP19JpkE7bKJokyARESQB+HyIrEgBe++qqirb758BYq2IQAQzSEraVXvva+9duySBYXHeDiHRTiDJRUQwAhEOGixLFKwAaFOCZEOSpCqVYKlsnfc3gL4ekiT78khGREQGIubrSDIzAwwyIz4ejz9+PDPIxFqxVjyCK7CIFfhYK4zMyBW5Aqmq+uvX779+fX59Xbu8y69rvz5/79cLLkhWWUUoiQATsSIeKz6Sz+Qz8aCCCiBDkbWWnxnPFc+FB/0IPRPPxHPlWngsP5LP4Epk6E...
INFO  2023-08-18 19:07:54,059 basenative.py wrapper         28  call IdeNative.screen_shot end
INFO  2023-08-18 19:07:54,060 minitest.py _miniSetUp      393 =========case: test_liangyou start=========
INFO  2023-08-18 19:07:54,061 app.py     redirect_to     603 RedirectTo: pages/common/selected_city
DEBUG 2023-08-18 19:07:54,062 connection.py _safely_send    417 ASYNC_SEND > {"id":"d2a10aaf-ab03-47bc-8840-6d32b010dfbb","method":"App.callWxMethod","params":{"method":"redirectTo","args":[{"url":"pages/common/selected_city"}]}}
DEBUG 2023-08-18 19:07:54,069 connection.py _on_message     652 RECV < {"id":"d2a10aaf-ab03-47bc-8840-6d32b010dfbb","error":{"message":"page \"pages/index/pages/common/selected_city\" is not found"}}
ERROR 2023-08-18 19:07:54,070 connection.py _on_message     660 [d2a10aaf-ab03-47bc-8840-6d32b010dfbb]: page "pages/index/pages/common/selected_city" is not found
INFO  2023-08-18 19:07:54,072 connection.py _handle_async_msg 693 received async msg: d2a10aaf-ab03-47bc-8840-6d32b010dfbb
DEBUG 2023-08-18 19:07:54,073 minitest.py _miniTearDown   589 =========Current case Down: test_liangyou=========
INFO  2023-08-18 19:07:54,075 minitest.py capture         686 capture teardown.png
INFO  2023-08-18 19:07:54,075 basenative.py wrapper         24  call IdeNative.screen_shot
DEBUG 2023-08-18 19:07:54,076 connection.py _safely_send    417 SEND > {"id":"23686d15-8af4-45e7-b472-d830d829711c","method":"App.captureScreenshot","params":{}}
DEBUG 2023-08-18 19:07:56,353 connection.py _on_message     650 RECV < {"id":"23686d15-8af4-45e7-b472-d830d829711c","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAawAAAOeCAIAAADQh7N0AAAAAXNSR0IArs4c6QAAIABJREFUeJx8vdtyJFuuJOYOrEiy9u6ZI2ke5qv0VfpMvUlmGpPGRkene1eRGbEA1wOAyKw+I2WzabVJZkbEigWHw3EJ/s//y/96mDlggElUEkklSTPWC4DmFWZJCyki9t6ZiXlJEuBr0YxuMAOQmTtiR1z72nunlKApqTqcLGWSA066wUhzGWFMMBXJhGSQSUghU0JmZsROZSillHKOLwB1znXykkiaGWlmZjCb/3AzNzPQzYz84+Pj87HMaY61fDmX8TAsw2F8uFNYy3y5LYJ57evnr++fP7/OK3Zq7zyv6/z+3ufTIGVkBBQGGeGgw5bZY9lj8eF8OBbCKKeM6Z5r6bH8Y9nhOiwP6mPhMDyOtVYejsP5cC6DWy7TQX...
INFO  2023-08-18 19:07:56,362 basenative.py wrapper         28  call IdeNative.screen_shot end
INFO  2023-08-18 19:07:56,366 basenative.py wrapper         24  call BaseNative.get_start_up
INFO  2023-08-18 19:07:56,368 basenative.py wrapper         28  call BaseNative.get_start_up end
ERROR 2023-08-18 19:07:56,372 assertbase.py _get_stack_info 341 <bound method TestShouye_1.setUp of <tests.test_login.TestShouye_1 testMethod=test_liangyou>>
Traceback (most recent call last):
  File "D:\software\python-3.10.10\lib\site-packages\minium\framework\libs\unittest\case.py", line 265, in testPartExecutor
    yield
  File "D:\software\python-3.10.10\lib\site-packages\minium\framework\libs\unittest\case.py", line 344, in run
    self._callSetUp()
  File "D:\software\python-3.10.10\lib\unittest\case.py", line 546, in _callSetUp
    self.setUp()
  File "D:\路路游小程序\tests\test_login.py", line 67, in setUp
    self.app.redirect_to("pages/common/selected_city")
  File "D:\software\python-3.10.10\lib\site-packages\minium\miniprogram\base_driver\minium_log.py", line 172, in wrapper
    result = func(*args, **kwargs)
  File "D:\software\python-3.10.10\lib\site-packages\minium\utils\utils.py", line 82, in wrapper
    ret = func(*args, **kwargs)
  File "D:\software\python-3.10.10\lib\site-packages\minium\miniprogram\base_driver\app.py", line 604, in redirect_to
    page = self._change_route_async("redirectTo", url, is_wait_url_change)
  File "D:\software\python-3.10.10\lib\site-packages\minium\miniprogram\base_driver\app.py", line 818, in _change_route_async
    cmd.get_open_result(wait_timeout)
  File "D:\software\python-3.10.10\lib\site-packages\minium\miniprogram\base_driver\app.py", line 126, in get_open_result
    return self._open_callback.get_result()
  File "D:\software\python-3.10.10\lib\site-packages\minium\miniprogram\base_driver\callback.py", line 126, in get_result
    return self._waiter.result()
minium.framework.exception.MiniCommandError: page "pages/index/pages/common/selected_city" is not found
