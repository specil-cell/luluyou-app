INFO  2023-08-23 15:44:45,650 minitest.py _miniSetUp      340 =========Current case: test_handle_modal_01=========
INFO  2023-08-23 15:44:45,651 minitest.py _miniSetUp      343 package info: D:.路路游小程序.tests.test_login, case info: TestShouYe_1.test_handle_modal_01
INFO  2023-08-23 15:44:45,651 basenative.py wrapper         24  call BaseNative.check_connection
INFO  2023-08-23 15:44:45,652 basenative.py wrapper         28  call BaseNative.check_connection end
INFO  2023-08-23 15:44:45,653 minitest.py capture         686 capture setup.png
INFO  2023-08-23 15:44:45,653 basenative.py wrapper         24  call IdeNative.screen_shot
DEBUG 2023-08-23 15:44:45,655 connection.py _safely_send    417 SEND > {"id":"edc11370-e337-4094-a1a5-867e45377662","method":"App.captureScreenshot","params":{}}
DEBUG 2023-08-23 15:44:47,282 connection.py _on_message     650 RECV < {"id":"edc11370-e337-4094-a1a5-867e45377662","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAawAAAOeCAIAAADQh7N0AAAAAXNSR0IArs4c6QAAIABJREFUeJx8vdtyJFuuJOYOrEiy9u6ZI2ke5qv0VfpMvUlmGpPGRkene1eRGbEA1wOAyKw+I2WzabVJZkbEigWHw3EJ/s//y/96mDlggElUEkklSTPWC4DmFWZJCyki9t6ZiXlJEuBr0YxuMAOQmTtiR1z72nunlKApqTqcLGWSA066wUhzGWFMMBXJhGSQSUghU0JmZsROZSillHKOLwB1znXykkiaGWlmZjCb/3AzNzPQzYz84+Pj87HMaY61fDmX8TAsw2F8uFNYy3y5LYJ57evnr++fP7/OK3Zq7zyv6/z+3ufTIGVkBBQGGeGgw5bZY9lj8eF8OBbCKKeM6Z5r6bH8Y9nhOiwP6mPhMDyOtVYejsP5cC6DWy7TQX...
INFO  2023-08-23 15:44:47,306 basenative.py wrapper         28  call IdeNative.screen_shot end
INFO  2023-08-23 15:44:47,307 minitest.py _miniSetUp      393 =========case: test_handle_modal_01 start=========
DEBUG 2023-08-23 15:44:47,308 connection.py _safely_send    417 SEND > {"id":"c1296ce3-079f-4f96-bd1a-aa4a0be8a2ba","method":"App.addBinding","params":{"name":"showModal_super_callback"}}
DEBUG 2023-08-23 15:44:47,310 connection.py _on_message     652 RECV < {"id":"c1296ce3-079f-4f96-bd1a-aa4a0be8a2ba","result":{}}
DEBUG 2023-08-23 15:44:47,312 connection.py _safely_send    417 SEND > {"id":"9a5eb306-8233-49b4-91f3-7e074674f6c7","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethod(){var e,_=wx._MINI_WX_PROXY_||wx;_.showModal_MiniumOrigin?e=_.showModal_MiniumOrigin:(e=_.showModal,Object.defineProperty(_,\"showModal_MiniumOrigin\",{configurable:!0,get:()=>e})),Object.defineProperty(_,\"showModal\",{configurable:!0,get:()=>function(..._){var t,n=_[0],$=!1;if(\"showModal\".endsWith(\"Sync\")||n&&(n.success||n.fail||n.complete)||($=!0),\"undefined\"!=typeof showModal_super_before&&showModal_super_before(..._),\"undefined\"!=typeof showModal_super_callback)if($)t=e(..._).then((function(e){return showModal_super_callback(e),e})).catch((function(e){throw showModal_super_callback(e),e}));else{if(n){var o=n.complete;n.complete=function(e){showModal_super_callback(e),o&&o(e)}}t=e(..._)}else t=e(..._);return\"undefined\"!=typeof showModal_super_after&&showModal_super_after(t),t}})}","args":[]}}
DEBUG 2023-08-23 15:44:47,315 connection.py _on_message     652 RECV < {"id":"9a5eb306-8233-49b4-91f3-7e074674f6c7","result":{}}
DEBUG 2023-08-23 15:44:47,316 connection.py _safely_send    417 SEND > {"id":"f09c9605-f31b-4776-b2d5-fdd52c27930f","method":"App.getCurrentPage","params":{}}
DEBUG 2023-08-23 15:44:47,320 connection.py _on_message     652 RECV < {"id":"f09c9605-f31b-4776-b2d5-fdd52c27930f","result":{"pageId":10,"path":"pages/index/index","query":{}}}
INFO  2023-08-23 15:44:47,322 page.py    _get_elements_by_css 557 try to get elements: text="当前为测试模拟环境，请勿进行真实业务行为!"
DEBUG 2023-08-23 15:44:47,323 connection.py _safely_send    417 SEND > {"id":"86e6b039-19af-4646-a55d-ecc2f8f14730","method":"Page.getElements","params":{"selector":"text=\"\u5f53\u524d\u4e3a\u6d4b\u8bd5\u6a21\u62df\u73af\u5883\uff0c\u8bf7\u52ff\u8fdb\u884c\u771f\u5b9e\u4e1a\u52a1\u884c\u4e3a!\"","pageId":10}}
DEBUG 2023-08-23 15:44:47,331 connection.py _on_message     650 RECV < {"id":"86e6b039-19af-4646-a55d-ecc2f8f14730","result":{"elements":[{"elementId":"871137f6-99f9-4d2e-86e6-6cfe729c92c1","tagName":"text"},{"elementId":"a6ba9f27-86ba-452c-b6af-afafcecfbae4","tagName":"text"},{"elementId":"40353157-39c7-4bf4-ad34-a3b108d672b4","tagName":"text"},{"elementId":"74b8264e-4795-4ab9-b4c2-515a2f258042","tagName":"text"},{"elementId":"e5b1b089-d694-4a7b-a598-0d11132cc220","tagName":"text"},{"elementId":"0d75b9c8-40ba-45fc-83fa-e018c04f1362","tagName":"text"},{"elementId":"22132ed0...
INFO  2023-08-23 15:44:47,334 page.py    _get_elements_by_css 564 find elements success: [<minium.miniprogram.base_driver.element.BaseElement object at 0x000001A6585557B0>]
DEBUG 2023-08-23 15:44:47,334 connection.py _safely_send    417 SEND > {"id":"72b837d6-2c79-4663-b017-2e03a16590ba","method":"Element.tap","params":{"elementId":"871137f6-99f9-4d2e-86e6-6cfe729c92c1","pageId":10}}
DEBUG 2023-08-23 15:44:47,428 connection.py _on_message     652 RECV < {"id":"72b837d6-2c79-4663-b017-2e03a16590ba","result":{}}
DEBUG 2023-08-23 15:44:48,011 connection.py _on_message     652 RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":74,"path":"pages/common/selected_city","query":{},"openType":"navigateTo","__ts__":1692776687993},1692776687995]}}
INFO  2023-08-23 15:44:48,016 app.py     _on_route_changed 845 Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 74, 'path': 'pages/common/selected_city', 'query': {}, 'openType': 'navigateTo', '__ts__': 1692776687993}, 1692776687995]}
DEBUG 2023-08-23 15:44:48,212 connection.py _on_message     650 RECV < {"method":"App.exceptionThrown","params":{"message":"_this.setLocationData is not a function","stack":"TypeError: _this.setLocationData is not a function\n    at Object.success (http://127.0.0.1:29252/appservice/pages/common/selected_city.js?t=wechat&s=1692762371060&v=9645cfe03f84cc02692ef5cb9c6738fb:182:31)\n    at Object.handleData (http://127.0.0.1:29252/appservice/common/vendor.js?t=wechat&s=1692762371060&v=89b5c89f382fa501a7bab0cabe2e6de7:12607:15)\n    at options.success (http://127.0.0.1:29252/app...
INFO  2023-08-23 15:44:49,437 basenative.py wrapper         24  call IdeNative.handle_modal
INFO  2023-08-23 15:44:49,438 basenative.py wrapper         24  call IdeNative.send
DEBUG 2023-08-23 15:44:49,439 connection.py _safely_send    417 SEND > {"id":"6d6c1dc5-4c7a-4cba-9e74-b12ebfde4d3f","method":"Tool.native","params":{"method":"confirmModal","data":null}}
DEBUG 2023-08-23 15:44:49,442 connection.py _on_message     652 RECV < {"id":"6d6c1dc5-4c7a-4cba-9e74-b12ebfde4d3f","result":{"error":{"message":"confirmModal failed"}}}
WARNI 2023-08-23 15:44:49,443 idenative.py send            65  handle confirmModal error: confirmModal failed
INFO  2023-08-23 15:44:49,444 basenative.py wrapper         28  call IdeNative.send end
INFO  2023-08-23 15:44:49,444 basenative.py wrapper         27  IdeNative.handle_modal return {'id': '6d6c1dc5-4c7a-4cba-9e74-b12ebfde4d3f', 'result': {'error': {'message': 'confirmModal failed'}}}
INFO  2023-08-23 15:44:49,445 basenative.py wrapper         28  call IdeNative.handle_modal end
DEBUG 2023-08-23 15:44:49,445 connection.py _safely_send    417 SEND > {"id":"20f0b89e-e9e7-4204-ad6d-120679d01a14","method":"Page.getElementsByXpath","params":{"selector":"/view/biz-index-head/view/view","pageId":74}}
DEBUG 2023-08-23 15:44:49,455 connection.py _on_message     652 RECV < {"id":"20f0b89e-e9e7-4204-ad6d-120679d01a14","result":{"elements":[]}}
DEBUG 2023-08-23 15:44:51,458 connection.py _safely_send    417 SEND > {"id":"53362ed6-b4a3-4e5a-a140-21a82cb2f623","method":"Page.getElementsByXpath","params":{"selector":"/lee-select-city/view/view/view/scroll-view[1]/view/view[2]","pageId":74}}
DEBUG 2023-08-23 15:44:51,467 connection.py _on_message     652 RECV < {"id":"53362ed6-b4a3-4e5a-a140-21a82cb2f623","result":{"elements":[{"elementId":"e5543727-7f01-476b-85bc-fe2f092aac88","tagName":"view"}]}}
DEBUG 2023-08-23 15:44:51,467 connection.py _safely_send    417 SEND > {"id":"b87acec4-94dc-4acc-a912-8251c6cd3e89","method":"Element.getStyles","params":{"names":["pointer-events"],"elementId":"e5543727-7f01-476b-85bc-fe2f092aac88","pageId":74}}
DEBUG 2023-08-23 15:44:51,473 connection.py _on_message     652 RECV < {"id":"b87acec4-94dc-4acc-a912-8251c6cd3e89","result":{"styles":["auto"]}}
DEBUG 2023-08-23 15:44:51,475 connection.py _safely_send    417 SEND > {"id":"4fb84d8f-ab14-4db1-8565-d9f9a54495fc","method":"Element.tap","params":{"elementId":"e5543727-7f01-476b-85bc-fe2f092aac88","pageId":74}}
DEBUG 2023-08-23 15:44:51,510 connection.py _on_message     652 RECV < {"id":"4fb84d8f-ab14-4db1-8565-d9f9a54495fc","result":{}}
DEBUG 2023-08-23 15:44:54,526 connection.py _safely_send    417 SEND > {"id":"418c7392-ec21-47d2-a206-fef067bae426","method":"Page.getElementsByXpath","params":{"selector":"/lee-select-city/view/view/view/scroll-view[1]/view/lee-latter-list/view/view[1]/view[2]/view[1]","pageId":74}}
DEBUG 2023-08-23 15:44:54,532 connection.py _on_message     652 RECV < {"id":"418c7392-ec21-47d2-a206-fef067bae426","result":{"elements":[{"elementId":"e016e206-c1e4-42ac-adaf-e580da9b941a","tagName":"view"}]}}
DEBUG 2023-08-23 15:44:54,534 connection.py _safely_send    417 SEND > {"id":"a4997aae-3d88-4de3-8b1d-19745b912950","method":"Element.getStyles","params":{"names":["pointer-events"],"elementId":"e016e206-c1e4-42ac-adaf-e580da9b941a","pageId":74}}
DEBUG 2023-08-23 15:44:54,538 connection.py _on_message     652 RECV < {"id":"a4997aae-3d88-4de3-8b1d-19745b912950","result":{"styles":["auto"]}}
DEBUG 2023-08-23 15:44:54,539 connection.py _safely_send    417 SEND > {"id":"7a5fe890-9395-488d-aa52-44e05617c584","method":"Element.tap","params":{"elementId":"e016e206-c1e4-42ac-adaf-e580da9b941a","pageId":74}}
DEBUG 2023-08-23 15:44:54,554 connection.py _on_message     652 RECV < {"id":"7a5fe890-9395-488d-aa52-44e05617c584","result":{}}
DEBUG 2023-08-23 15:44:57,573 connection.py _safely_send    417 SEND > {"id":"9a08be22-35a4-4e2c-8030-e3efff0c6e25","method":"Page.getElementsByXpath","params":{"selector":"/lee-select-city/view/view[2]/view/scroll-view[2]/view/lee-latter-list/view/view[1]/view[2]/view","pageId":74}}
DEBUG 2023-08-23 15:44:57,583 connection.py _on_message     652 RECV < {"id":"9a08be22-35a4-4e2c-8030-e3efff0c6e25","result":{"elements":[{"elementId":"a25fd4f2-8196-458f-8d1d-9cf046d5a8e1","tagName":"view"}]}}
DEBUG 2023-08-23 15:44:57,584 connection.py _safely_send    417 SEND > {"id":"d1d5b4f3-f61e-46ea-83c5-e82318af9e98","method":"Element.getStyles","params":{"names":["pointer-events"],"elementId":"a25fd4f2-8196-458f-8d1d-9cf046d5a8e1","pageId":74}}
DEBUG 2023-08-23 15:44:57,592 connection.py _on_message     652 RECV < {"id":"d1d5b4f3-f61e-46ea-83c5-e82318af9e98","result":{"styles":["auto"]}}
DEBUG 2023-08-23 15:44:57,592 connection.py _safely_send    417 SEND > {"id":"c0cf97e0-2db1-49ee-8298-944d75446bef","method":"Element.tap","params":{"elementId":"a25fd4f2-8196-458f-8d1d-9cf046d5a8e1","pageId":74}}
DEBUG 2023-08-23 15:44:57,634 connection.py _on_message     652 RECV < {"id":"c0cf97e0-2db1-49ee-8298-944d75446bef","result":{}}
DEBUG 2023-08-23 15:45:00,658 minitest.py _miniTearDown   589 =========Current case Down: test_handle_modal_01=========
INFO  2023-08-23 15:45:00,660 minitest.py capture         686 capture teardown.png
INFO  2023-08-23 15:45:00,660 basenative.py wrapper         24  call IdeNative.screen_shot
DEBUG 2023-08-23 15:45:00,661 connection.py _safely_send    417 SEND > {"id":"69aaee00-6837-4057-ae92-dc3aaa2ccf5d","method":"App.captureScreenshot","params":{}}
DEBUG 2023-08-23 15:45:00,813 connection.py _on_message     650 RECV < {"id":"69aaee00-6837-4057-ae92-dc3aaa2ccf5d","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAawAAANDCAIAAAB+J7yFAAAAAXNSR0IArs4c6QAAIABJREFUeJzs3VlsHedh//3ZZ86+L9x5SIqbqJWyZS2WFadxEjuJEwco2rhL3AZN8b7ogqItUAQFAhRoLtrLtMA/CVK0yZtmqWs7dh3bsaRItixbokRxFUVxEdez7/tsz3sxySn/kmxLFC3Rmt/nypwzq4F888zMc45pQggFAGBKhBDmfp8DAMD9hAgCgKkhggBgaoggAJgaIggApoYIAoCpIYIAYGqIIACYGiIIAKaGCAKAqSGCAGBqiCAAmBoiCACmhggCgKkhggBgatydblBR63VdERneyokfxQkBANxLdzwS1Imu6ZpO6R/F2QAA3GM0flkaAEwLvywNAGaHCAKAqSGCAGBqiCAAmBoiCACmhggCgKkhggBgaoggAJ...
INFO  2023-08-23 15:45:00,815 basenative.py wrapper         28  call IdeNative.screen_shot end
INFO  2023-08-23 15:45:00,816 basenative.py wrapper         24  call BaseNative.get_start_up
INFO  2023-08-23 15:45:00,816 basenative.py wrapper         28  call BaseNative.get_start_up end
