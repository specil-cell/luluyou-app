INFO  2023-08-23 14:58:06,959 minitest.py _miniSetUp      340 =========Current case: test_handle_modal_01=========
INFO  2023-08-23 14:58:06,959 minitest.py _miniSetUp      343 package info: D:.路路游小程序.tests.test_login, case info: TestShouye_1.test_handle_modal_01
INFO  2023-08-23 14:58:06,960 basenative.py wrapper         24  call BaseNative.check_connection
INFO  2023-08-23 14:58:06,960 basenative.py wrapper         28  call BaseNative.check_connection end
INFO  2023-08-23 14:58:06,961 minitest.py capture         686 capture setup.png
INFO  2023-08-23 14:58:06,962 basenative.py wrapper         24  call IdeNative.screen_shot
DEBUG 2023-08-23 14:58:06,962 connection.py _safely_send    417 SEND > {"id":"a553e5f3-c7d5-445b-b118-3d59a0bb410a","method":"App.captureScreenshot","params":{}}
DEBUG 2023-08-23 14:58:08,582 connection.py _on_message     650 RECV < {"id":"a553e5f3-c7d5-445b-b118-3d59a0bb410a","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAawAAAOeCAIAAADQh7N0AAAAAXNSR0IArs4c6QAAIABJREFUeJx8vdtyJFuuJOYOrEiy9u6ZI2ke5qv0VfpMvUlmGpPGRkene1eRGbEA1wOAyKw+I2WzabVJZkbEigWHw3EJ/s//y/96mDlggElUEkklSTPWC4DmFWZJCyki9t6ZiXlJEuBr0YxuMAOQmTtiR1z72nunlKApqTqcLGWSA066wUhzGWFMMBXJhGSQSUghU0JmZsROZSillHKOLwB1znXykkiaGWlmZjCb/3AzNzPQzYz84+Pj87HMaY61fDmX8TAsw2F8uFNYy3y5LYJ57evnr++fP7/OK3Zq7zyv6/z+3ufTIGVkBBQGGeGgw5bZY9lj8eF8OBbCKKeM6Z5r6bH8Y9nhOiwP6mPhMDyOtVYejsP5cC6DWy7TQX...
INFO  2023-08-23 14:58:08,586 basenative.py wrapper         28  call IdeNative.screen_shot end
INFO  2023-08-23 14:58:08,587 minitest.py _miniSetUp      393 =========case: test_handle_modal_01 start=========
DEBUG 2023-08-23 14:58:08,589 connection.py _safely_send    417 SEND > {"id":"bc715d4e-b024-483c-ae0c-76244349cfe8","method":"App.addBinding","params":{"name":"showModal_super_callback"}}
DEBUG 2023-08-23 14:58:08,593 connection.py _on_message     652 RECV < {"id":"bc715d4e-b024-483c-ae0c-76244349cfe8","result":{}}
DEBUG 2023-08-23 14:58:08,594 connection.py _safely_send    417 SEND > {"id":"4e30f800-b16e-422d-bf83-04117b0f141e","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethod(){var e,_=wx._MINI_WX_PROXY_||wx;_.showModal_MiniumOrigin?e=_.showModal_MiniumOrigin:(e=_.showModal,Object.defineProperty(_,\"showModal_MiniumOrigin\",{configurable:!0,get:()=>e})),Object.defineProperty(_,\"showModal\",{configurable:!0,get:()=>function(..._){var t,n=_[0],$=!1;if(\"showModal\".endsWith(\"Sync\")||n&&(n.success||n.fail||n.complete)||($=!0),\"undefined\"!=typeof showModal_super_before&&showModal_super_before(..._),\"undefined\"!=typeof showModal_super_callback)if($)t=e(..._).then((function(e){return showModal_super_callback(e),e})).catch((function(e){throw showModal_super_callback(e),e}));else{if(n){var o=n.complete;n.complete=function(e){showModal_super_callback(e),o&&o(e)}}t=e(..._)}else t=e(..._);return\"undefined\"!=typeof showModal_super_after&&showModal_super_after(t),t}})}","args":[]}}
DEBUG 2023-08-23 14:58:08,643 connection.py _on_message     652 RECV < {"id":"4e30f800-b16e-422d-bf83-04117b0f141e","result":{}}
DEBUG 2023-08-23 14:58:08,645 connection.py _safely_send    417 SEND > {"id":"65e461c9-19bd-47b9-b4e1-fc130d803686","method":"App.getCurrentPage","params":{}}
DEBUG 2023-08-23 14:58:08,647 connection.py _on_message     652 RECV < {"id":"65e461c9-19bd-47b9-b4e1-fc130d803686","result":{"pageId":10,"path":"pages/index/index","query":{}}}
INFO  2023-08-23 14:58:08,649 page.py    _get_elements_by_css 557 try to get elements: text="当前为测试模拟环境，请勿进行真实业务行为!"
DEBUG 2023-08-23 14:58:08,650 connection.py _safely_send    417 SEND > {"id":"9feb89c3-253c-4ce9-8e8e-2ac0a79cabf2","method":"Page.getElements","params":{"selector":"text=\"\u5f53\u524d\u4e3a\u6d4b\u8bd5\u6a21\u62df\u73af\u5883\uff0c\u8bf7\u52ff\u8fdb\u884c\u771f\u5b9e\u4e1a\u52a1\u884c\u4e3a!\"","pageId":10}}
DEBUG 2023-08-23 14:58:08,660 connection.py _on_message     650 RECV < {"id":"9feb89c3-253c-4ce9-8e8e-2ac0a79cabf2","result":{"elements":[{"elementId":"871137f6-99f9-4d2e-86e6-6cfe729c92c1","tagName":"text"},{"elementId":"a6ba9f27-86ba-452c-b6af-afafcecfbae4","tagName":"text"},{"elementId":"40353157-39c7-4bf4-ad34-a3b108d672b4","tagName":"text"},{"elementId":"74b8264e-4795-4ab9-b4c2-515a2f258042","tagName":"text"},{"elementId":"e5b1b089-d694-4a7b-a598-0d11132cc220","tagName":"text"},{"elementId":"0d75b9c8-40ba-45fc-83fa-e018c04f1362","tagName":"text"},{"elementId":"22132ed0...
INFO  2023-08-23 14:58:08,662 page.py    _get_elements_by_css 564 find elements success: [<minium.miniprogram.base_driver.element.BaseElement object at 0x0000017740FF4640>]
DEBUG 2023-08-23 14:58:08,662 connection.py _safely_send    417 SEND > {"id":"3831686f-b02c-406b-a69e-835796a4c965","method":"Element.tap","params":{"elementId":"871137f6-99f9-4d2e-86e6-6cfe729c92c1","pageId":10}}
DEBUG 2023-08-23 14:58:08,755 connection.py _on_message     652 RECV < {"id":"3831686f-b02c-406b-a69e-835796a4c965","result":{}}
DEBUG 2023-08-23 14:58:09,329 connection.py _on_message     652 RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":36,"path":"pages/common/selected_city","query":{},"openType":"navigateTo","__ts__":1692773889304},1692773889308]}}
INFO  2023-08-23 14:58:09,333 app.py     _on_route_changed 845 Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 36, 'path': 'pages/common/selected_city', 'query': {}, 'openType': 'navigateTo', '__ts__': 1692773889304}, 1692773889308]}
DEBUG 2023-08-23 14:58:09,533 connection.py _on_message     650 RECV < {"method":"App.exceptionThrown","params":{"message":"_this.setLocationData is not a function","stack":"TypeError: _this.setLocationData is not a function\n    at Object.success (http://127.0.0.1:29252/appservice/pages/common/selected_city.js?t=wechat&s=1692762371060&v=9645cfe03f84cc02692ef5cb9c6738fb:182:31)\n    at Object.handleData (http://127.0.0.1:29252/appservice/common/vendor.js?t=wechat&s=1692762371060&v=89b5c89f382fa501a7bab0cabe2e6de7:12607:15)\n    at options.success (http://127.0.0.1:29252/app...
INFO  2023-08-23 14:58:10,765 basenative.py wrapper         24  call IdeNative.handle_modal
INFO  2023-08-23 14:58:10,767 basenative.py wrapper         24  call IdeNative.send
DEBUG 2023-08-23 14:58:10,768 connection.py _safely_send    417 SEND > {"id":"8a3e6f0d-ade3-48d4-8d59-aa3699287ddc","method":"Tool.native","params":{"method":"confirmModal","data":null}}
DEBUG 2023-08-23 14:58:10,772 connection.py _on_message     652 RECV < {"id":"8a3e6f0d-ade3-48d4-8d59-aa3699287ddc","result":{"error":{"message":"confirmModal failed"}}}
WARNI 2023-08-23 14:58:10,774 idenative.py send            65  handle confirmModal error: confirmModal failed
INFO  2023-08-23 14:58:10,775 basenative.py wrapper         28  call IdeNative.send end
INFO  2023-08-23 14:58:10,775 basenative.py wrapper         27  IdeNative.handle_modal return {'id': '8a3e6f0d-ade3-48d4-8d59-aa3699287ddc', 'result': {'error': {'message': 'confirmModal failed'}}}
INFO  2023-08-23 14:58:10,776 basenative.py wrapper         28  call IdeNative.handle_modal end
DEBUG 2023-08-23 14:58:10,777 connection.py _safely_send    417 SEND > {"id":"aed86b27-118d-4dc1-8e93-d59686babd53","method":"Page.getElementsByXpath","params":{"selector":"/view/biz-index-head/view/view","pageId":36}}
DEBUG 2023-08-23 14:58:10,787 connection.py _on_message     652 RECV < {"id":"aed86b27-118d-4dc1-8e93-d59686babd53","result":{"elements":[]}}
DEBUG 2023-08-23 14:58:12,802 connection.py _safely_send    417 SEND > {"id":"dd32228d-33a1-44c0-bbdd-1d91026cb1ad","method":"Page.getElementsByXpath","params":{"selector":"/lee-select-city/view/view/view/scroll-view[1]/view/view[2]","pageId":36}}
DEBUG 2023-08-23 14:58:12,832 connection.py _on_message     652 RECV < {"id":"dd32228d-33a1-44c0-bbdd-1d91026cb1ad","result":{"elements":[{"elementId":"db809dff-20be-47d5-bffc-ea67497f868d","tagName":"view"}]}}
DEBUG 2023-08-23 14:58:12,834 connection.py _safely_send    417 SEND > {"id":"1de28b0a-17f2-4a5e-882e-c27bad84ceba","method":"Element.getStyles","params":{"names":["pointer-events"],"elementId":"db809dff-20be-47d5-bffc-ea67497f868d","pageId":36}}
DEBUG 2023-08-23 14:58:12,838 connection.py _on_message     652 RECV < {"id":"1de28b0a-17f2-4a5e-882e-c27bad84ceba","result":{"styles":["auto"]}}
DEBUG 2023-08-23 14:58:12,840 connection.py _safely_send    417 SEND > {"id":"eeaf27a5-2b0a-4e02-8b6f-f6767bff13e9","method":"Element.tap","params":{"elementId":"db809dff-20be-47d5-bffc-ea67497f868d","pageId":36}}
DEBUG 2023-08-23 14:58:12,853 connection.py _on_message     652 RECV < {"id":"eeaf27a5-2b0a-4e02-8b6f-f6767bff13e9","result":{}}
DEBUG 2023-08-23 14:58:15,871 connection.py _safely_send    417 SEND > {"id":"ca1a444a-bd82-4744-be7d-fc8b773cc965","method":"Page.getElementsByXpath","params":{"selector":"/lee-select-city/view/view/view/scroll-view[1]/view/lee-latter-list/view/view[1]/view[2]/view[1]","pageId":36}}
DEBUG 2023-08-23 14:58:15,880 connection.py _on_message     652 RECV < {"id":"ca1a444a-bd82-4744-be7d-fc8b773cc965","result":{"elements":[{"elementId":"c37636a2-4d34-4ff0-b123-734716edf62d","tagName":"view"}]}}
DEBUG 2023-08-23 14:58:15,881 connection.py _safely_send    417 SEND > {"id":"f5e4045c-2716-4035-a3d5-1ab6c6be30b1","method":"Element.getStyles","params":{"names":["pointer-events"],"elementId":"c37636a2-4d34-4ff0-b123-734716edf62d","pageId":36}}
DEBUG 2023-08-23 14:58:15,887 connection.py _on_message     652 RECV < {"id":"f5e4045c-2716-4035-a3d5-1ab6c6be30b1","result":{"styles":["auto"]}}
DEBUG 2023-08-23 14:58:15,890 connection.py _safely_send    417 SEND > {"id":"1d1cb1db-febb-4196-93a7-f3d8b7fc8d78","method":"Element.tap","params":{"elementId":"c37636a2-4d34-4ff0-b123-734716edf62d","pageId":36}}
DEBUG 2023-08-23 14:58:15,914 connection.py _on_message     652 RECV < {"id":"1d1cb1db-febb-4196-93a7-f3d8b7fc8d78","result":{}}
DEBUG 2023-08-23 14:58:18,934 connection.py _safely_send    417 SEND > {"id":"c631ec27-f662-4159-af31-434f37d032a3","method":"Page.getElementsByXpath","params":{"selector":"/lee-select-city/view/view[2]/view/scroll-view[2]/view/lee-latter-list/view/view[1]/view[2]/view","pageId":36}}
DEBUG 2023-08-23 14:58:18,944 connection.py _on_message     652 RECV < {"id":"c631ec27-f662-4159-af31-434f37d032a3","result":{"elements":[{"elementId":"ce6a6390-f996-4675-a36c-5149ce993a0d","tagName":"view"}]}}
DEBUG 2023-08-23 14:58:18,946 connection.py _safely_send    417 SEND > {"id":"9b4105d9-e1e5-44b2-b300-afc5b08ebae7","method":"Element.getStyles","params":{"names":["pointer-events"],"elementId":"ce6a6390-f996-4675-a36c-5149ce993a0d","pageId":36}}
DEBUG 2023-08-23 14:58:18,952 connection.py _on_message     652 RECV < {"id":"9b4105d9-e1e5-44b2-b300-afc5b08ebae7","result":{"styles":["auto"]}}
DEBUG 2023-08-23 14:58:18,954 connection.py _safely_send    417 SEND > {"id":"99dd9e8f-1df1-4188-9098-6086859efb97","method":"Element.tap","params":{"elementId":"ce6a6390-f996-4675-a36c-5149ce993a0d","pageId":36}}
DEBUG 2023-08-23 14:58:18,999 connection.py _on_message     652 RECV < {"id":"99dd9e8f-1df1-4188-9098-6086859efb97","result":{}}
DEBUG 2023-08-23 14:58:22,008 minitest.py _miniTearDown   589 =========Current case Down: test_handle_modal_01=========
INFO  2023-08-23 14:58:22,009 minitest.py capture         686 capture teardown.png
INFO  2023-08-23 14:58:22,009 basenative.py wrapper         24  call IdeNative.screen_shot
DEBUG 2023-08-23 14:58:22,010 connection.py _safely_send    417 SEND > {"id":"9d11fa00-3f17-48b6-9f04-dbfd11f79c53","method":"App.captureScreenshot","params":{}}
DEBUG 2023-08-23 14:58:22,152 connection.py _on_message     650 RECV < {"id":"9d11fa00-3f17-48b6-9f04-dbfd11f79c53","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAawAAANDCAIAAAB+J7yFAAAAAXNSR0IArs4c6QAAIABJREFUeJzs3VlsHedh//3ZZ86+L9x5SIqbqJWyZS2WFadxEjuJEwco2rhL3AZN8b7ogqItUAQFAhRoLtrLtMA/CVK0yZtmqWs7dh3bsaRItixbokRxFUVxEdez7/tsz3sxySn/kmxLFC3Rmt/nypwzq4F888zMc45pQggFAGBKhBDmfp8DAMD9hAgCgKkhggBgaoggAJgaIggApoYIAoCpIYIAYGqIIACYGiIIAKaGCAKAqSGCAGBqiCAAmBoiCACmhggCgKkhggBgatydblBR63VdERneyokfxQkBANxLdzwS1Imu6ZpO6R/F2QAA3GM0flkaAEwLvywNAGaHCAKAqSGCAGBqiCAAmBoiCACmhggCgKkhggBgaoggAJ...
INFO  2023-08-23 14:58:22,154 basenative.py wrapper         28  call IdeNative.screen_shot end
INFO  2023-08-23 14:58:22,155 basenative.py wrapper         24  call BaseNative.get_start_up
INFO  2023-08-23 14:58:22,156 basenative.py wrapper         28  call BaseNative.get_start_up end
