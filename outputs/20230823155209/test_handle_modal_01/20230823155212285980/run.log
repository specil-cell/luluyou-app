INFO  2023-08-23 15:52:12,307 minitest.py _miniSetUp      340 =========Current case: test_handle_modal_01=========
INFO  2023-08-23 15:52:12,309 minitest.py _miniSetUp      343 package info: D:.路路游小程序.tests.test_login, case info: TestShouYe_1.test_handle_modal_01
INFO  2023-08-23 15:52:12,310 basenative.py wrapper         24  call BaseNative.check_connection
INFO  2023-08-23 15:52:12,313 basenative.py wrapper         28  call BaseNative.check_connection end
INFO  2023-08-23 15:52:12,314 minitest.py capture         686 capture setup.png
INFO  2023-08-23 15:52:12,315 basenative.py wrapper         24  call IdeNative.screen_shot
DEBUG 2023-08-23 15:52:12,315 connection.py _safely_send    417 SEND > {"id":"5322fb1c-d659-40dc-8464-e64c9cc6864d","method":"App.captureScreenshot","params":{}}
DEBUG 2023-08-23 15:52:13,130 connection.py _on_message     650 RECV < {"id":"5322fb1c-d659-40dc-8464-e64c9cc6864d","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAawAAAOeCAIAAADQh7N0AAAAAXNSR0IArs4c6QAAIABJREFUeJy0vfmTJbeRJvi5AxHvyPuok3WweImiRN3drb7mtP1p969ds5k1W5ux3Rnr3ukZ2ahbUpOiSPFmFYusI+98RwTc9wcHEIh4L6uk7umQKpn5XgQCcPjxucPhoP3xHhEREQAlKBGYFACgQFBdiigUgN0zuFhQfqqqIkJEzExETMSqDBCgqqpqXyG1r6pi36y0bK8jBfW/jJ/nzqhqkKu+VaiSEscbV38y4MCr48oDAgRQFG/LnTW6tSpKZIO194rE/pCCFV7BxQjsKWtHFEoEMEAKzRPR64AqQUDd0PLj9n0mkfdeRPJX9lOYhZ32ZgnWVYVCrf3EAKq5BWa2SSQiURUoiIQQSP1oNN6cEvNisWzbVjTeGWdWIa...
INFO  2023-08-23 15:52:13,134 basenative.py wrapper         28  call IdeNative.screen_shot end
INFO  2023-08-23 15:52:13,134 minitest.py _miniSetUp      393 =========case: test_handle_modal_01 start=========
DEBUG 2023-08-23 15:52:13,136 connection.py _safely_send    417 SEND > {"id":"033f3d8e-cd36-4b61-b224-9e9cd9657e84","method":"App.addBinding","params":{"name":"showModal_super_callback"}}
DEBUG 2023-08-23 15:52:13,140 connection.py _on_message     652 RECV < {"id":"033f3d8e-cd36-4b61-b224-9e9cd9657e84","result":{}}
DEBUG 2023-08-23 15:52:13,142 connection.py _safely_send    417 SEND > {"id":"f74847ff-507e-4349-ae04-af2d69bce46b","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethod(){var e,_=wx._MINI_WX_PROXY_||wx;_.showModal_MiniumOrigin?e=_.showModal_MiniumOrigin:(e=_.showModal,Object.defineProperty(_,\"showModal_MiniumOrigin\",{configurable:!0,get:()=>e})),Object.defineProperty(_,\"showModal\",{configurable:!0,get:()=>function(..._){var t,n=_[0],$=!1;if(\"showModal\".endsWith(\"Sync\")||n&&(n.success||n.fail||n.complete)||($=!0),\"undefined\"!=typeof showModal_super_before&&showModal_super_before(..._),\"undefined\"!=typeof showModal_super_callback)if($)t=e(..._).then((function(e){return showModal_super_callback(e),e})).catch((function(e){throw showModal_super_callback(e),e}));else{if(n){var o=n.complete;n.complete=function(e){showModal_super_callback(e),o&&o(e)}}t=e(..._)}else t=e(..._);return\"undefined\"!=typeof showModal_super_after&&showModal_super_after(t),t}})}","args":[]}}
DEBUG 2023-08-23 15:52:13,146 connection.py _on_message     652 RECV < {"id":"f74847ff-507e-4349-ae04-af2d69bce46b","result":{}}
DEBUG 2023-08-23 15:52:13,147 connection.py _safely_send    417 SEND > {"id":"bcb96f65-beb1-411c-81b3-83b4afeb3ad4","method":"App.getCurrentPage","params":{}}
DEBUG 2023-08-23 15:52:13,151 connection.py _on_message     652 RECV < {"id":"bcb96f65-beb1-411c-81b3-83b4afeb3ad4","result":{"pageId":83,"path":"pages/search/search","query":{"type":"2"}}}
INFO  2023-08-23 15:52:13,154 page.py    _get_elements_by_css 557 try to get elements: text="当前为测试模拟环境，请勿进行真实业务行为!"
DEBUG 2023-08-23 15:52:13,155 connection.py _safely_send    417 SEND > {"id":"e78f98cd-3128-4291-9dd5-393b438a9963","method":"Page.getElements","params":{"selector":"text=\"\u5f53\u524d\u4e3a\u6d4b\u8bd5\u6a21\u62df\u73af\u5883\uff0c\u8bf7\u52ff\u8fdb\u884c\u771f\u5b9e\u4e1a\u52a1\u884c\u4e3a!\"","pageId":83}}
DEBUG 2023-08-23 15:52:13,163 connection.py _on_message     652 RECV < {"id":"e78f98cd-3128-4291-9dd5-393b438a9963","result":{"elements":[{"elementId":"120c77a7-5d82-4528-bc7a-5a24b4b2a672","tagName":"text"},{"elementId":"2cc3adf6-8e2c-4f61-b8a4-754a63bafc60","tagName":"text"}]}}
INFO  2023-08-23 15:52:13,164 page.py    _get_elements_by_css 564 find elements success: [<minium.miniprogram.base_driver.element.BaseElement object at 0x0000014D5FD66B00>]
DEBUG 2023-08-23 15:52:13,166 connection.py _safely_send    417 SEND > {"id":"8373efea-3bd9-48a7-aaae-02c7c28b4360","method":"Element.tap","params":{"elementId":"120c77a7-5d82-4528-bc7a-5a24b4b2a672","pageId":83}}
DEBUG 2023-08-23 15:52:13,382 connection.py _on_message     652 RECV < {"id":"8373efea-3bd9-48a7-aaae-02c7c28b4360","result":{}}
DEBUG 2023-08-23 15:52:14,211 connection.py _on_message     652 RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":86,"path":"pages/trip/spot-detail","query":{"spotId":"a705468ad4674dea805f051c5e27c9e6","activityId":"6d4c3aed7bc9402d871788bb4d0adda6","appointId":"9273321a2703426dbab0c04e4ca0ca64"},"openType":"navigateTo","__ts__":1692777134177},1692777134179]}}
INFO  2023-08-23 15:52:14,220 app.py     _on_route_changed 845 Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 86, 'path': 'pages/trip/spot-detail', 'query': {'spotId': 'a705468ad4674dea805f051c5e27c9e6', 'activityId': '6d4c3aed7bc9402d871788bb4d0adda6', 'appointId': '9273321a2703426dbab0c04e4ca0ca64'}, 'openType': 'navigateTo', '__ts__': 1692777134177}, 1692777134179]}
INFO  2023-08-23 15:52:15,418 basenative.py wrapper         24  call IdeNative.handle_modal
INFO  2023-08-23 15:52:15,419 basenative.py wrapper         24  call IdeNative.send
DEBUG 2023-08-23 15:52:15,421 connection.py _safely_send    417 SEND > {"id":"578399e3-171c-454d-91fc-0d7eba97454b","method":"Tool.native","params":{"method":"confirmModal","data":null}}
DEBUG 2023-08-23 15:52:15,424 connection.py _on_message     652 RECV < {"id":"578399e3-171c-454d-91fc-0d7eba97454b","result":{"error":{"message":"confirmModal failed"}}}
WARNI 2023-08-23 15:52:15,428 idenative.py send            65  handle confirmModal error: confirmModal failed
INFO  2023-08-23 15:52:15,429 basenative.py wrapper         28  call IdeNative.send end
INFO  2023-08-23 15:52:15,430 basenative.py wrapper         27  IdeNative.handle_modal return {'id': '578399e3-171c-454d-91fc-0d7eba97454b', 'result': {'error': {'message': 'confirmModal failed'}}}
INFO  2023-08-23 15:52:15,431 basenative.py wrapper         28  call IdeNative.handle_modal end
DEBUG 2023-08-23 15:52:15,432 connection.py _safely_send    417 SEND > {"id":"68d987b1-7037-4533-8a15-85dbf252c91d","method":"Page.getElementsByXpath","params":{"selector":"/view/biz-index-head/view/view","pageId":86}}
DEBUG 2023-08-23 15:52:15,483 connection.py _on_message     652 RECV < {"id":"68d987b1-7037-4533-8a15-85dbf252c91d","error":{"message":"page destroyed"}}
ERROR 2023-08-23 15:52:15,484 connection.py _on_message     660 [68d987b1-7037-4533-8a15-85dbf252c91d]: page destroyed
DEBUG 2023-08-23 15:52:15,487 connection.py _safely_send    417 SEND > {"id":"4d738666-fece-428c-a2ed-2d4c438b7096","method":"Page.getElementsByXpath","params":{"selector":"/view/biz-index-head/view/view","pageId":86}}
DEBUG 2023-08-23 15:52:15,501 connection.py _on_message     652 RECV < {"id":"4d738666-fece-428c-a2ed-2d4c438b7096","error":{"message":"page destroyed"}}
ERROR 2023-08-23 15:52:15,503 connection.py _on_message     660 [4d738666-fece-428c-a2ed-2d4c438b7096]: page destroyed
DEBUG 2023-08-23 15:52:15,521 minitest.py _miniTearDown   589 =========Current case Down: test_handle_modal_01=========
INFO  2023-08-23 15:52:15,534 minitest.py capture         686 capture teardown.png
INFO  2023-08-23 15:52:15,538 basenative.py wrapper         24  call IdeNative.screen_shot
DEBUG 2023-08-23 15:52:15,544 connection.py _safely_send    417 SEND > {"id":"c61bfead-8fca-4f91-9132-58d58539eb2d","method":"App.captureScreenshot","params":{}}
DEBUG 2023-08-23 15:52:15,663 connection.py _on_message     650 RECV < {"id":"c61bfead-8fca-4f91-9132-58d58539eb2d","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAawAAANDCAIAAAB+J7yFAAAAAXNSR0IArs4c6QAAIABJREFUeJzt3elvXOd96PFzZt85C5fhIi6iSJEURVmyJTmWl8SyEztwgRsgBYw6bm8b5D8o7rsC9z9oX3VBWxQoboo6QHrbFDeoETt2vMSW4sjWQomUxH2b4c7Zl7PcF8/NXIbaxREp+ff9vBC4DM+cocgvn3OeZ87oxWJRAwCpHPu9AwCwn4ggANGIIADRiCAA0YggANGIIADRiCAA0YggANGIIADRiCAA0YggANGIIADRiCAA0YggANGIIADRXHXclm3btX8B7D3btg3Tmk+tGYa53/tSZw6H7vd5ErGI1+N26Hodt1yfCNq/ry7bBPCgLNsuFMvv/J9PNrP5/d6XOnM69GDAl2yKjRzuPtzT3hAO1GvLdYugaZoUEN...
INFO  2023-08-23 15:52:15,666 basenative.py wrapper         28  call IdeNative.screen_shot end
INFO  2023-08-23 15:52:15,668 basenative.py wrapper         24  call BaseNative.get_start_up
INFO  2023-08-23 15:52:15,669 basenative.py wrapper         28  call BaseNative.get_start_up end
DEBUG 2023-08-23 15:52:15,718 connection.py _on_message     652 RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":83,"path":"pages/search/search","query":{"type":"2"},"openType":"navigateBack","__ts__":1692777135683},1692777135684]}}
INFO  2023-08-23 15:52:15,722 app.py     _on_route_changed 845 Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 83, 'path': 'pages/search/search', 'query': {'type': '2'}, 'openType': 'navigateBack', '__ts__': 1692777135683}, 1692777135684]}
ERROR 2023-08-23 15:52:15,743 assertbase.py _get_stack_info 341 <bound method TestShouYe_1.test_handle_modal_01 of <tests.test_login.TestShouYe_1 testMethod=test_handle_modal_01>>
Traceback (most recent call last):
  File "D:\software\python-3.10.10\lib\site-packages\minium\miniprogram\base_driver\app.py", line 214, in wrapper
    return func(*args, **kwargs)
  File "D:\software\python-3.10.10\lib\site-packages\minium\miniprogram\base_driver\minium_log.py", line 172, in wrapper
    result = func(*args, **kwargs)
  File "D:\software\python-3.10.10\lib\site-packages\minium\miniprogram\base_driver\page.py", line 373, in get_elements
    return self.get_elements_by_xpath(
  File "D:\software\python-3.10.10\lib\site-packages\minium\miniprogram\base_driver\minium_log.py", line 172, in wrapper
    result = func(*args, **kwargs)
  File "D:\software\python-3.10.10\lib\site-packages\minium\miniprogram\base_driver\page.py", line 441, in get_elements_by_xpath
    return search_elements()
  File "D:\software\python-3.10.10\lib\site-packages\minium\utils\utils.py", line 56, in wrapper
    r = func(*args, **kwargs)
  File "D:\software\python-3.10.10\lib\site-packages\minium\miniprogram\base_driver\page.py", line 439, in search_elements
    return self._get_elements_by_xpath(xpath, index=index)
  File "D:\software\python-3.10.10\lib\site-packages\minium\utils\utils.py", line 82, in wrapper
    ret = func(*args, **kwargs)
  File "D:\software\python-3.10.10\lib\site-packages\minium\miniprogram\base_driver\page.py", line 658, in _get_elements_by_xpath
    ret = self._send("Page.getElementsByXpath", {"selector": xpath})
  File "D:\software\python-3.10.10\lib\site-packages\minium\miniprogram\base_driver\page.py", line 488, in _send
    self.connection.send(method, params)
  File "D:\software\python-3.10.10\lib\site-packages\minium\miniprogram\base_driver\connection.py", line 447, in send
    return self._receive_response(cmd)
  File "D:\software\python-3.10.10\lib\site-packages\minium\miniprogram\base_driver\connection.py", line 473, in _receive_response
    raise response
minium.framework.exception.PageDestroyed: page destroyed

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\software\python-3.10.10\lib\site-packages\minium\framework\libs\unittest\case.py", line 265, in testPartExecutor
    yield
  File "D:\software\python-3.10.10\lib\site-packages\minium\framework\libs\unittest\case.py", line 350, in run
    self._callTestMethod(testMethod)
  File "D:\software\python-3.10.10\lib\unittest\case.py", line 549, in _callTestMethod
    method()
  File "D:\路路游小程序\tests\test_login.py", line 34, in test_handle_modal_01
    elements = self.page.get_elements('/page/view/biz-index-head/view/view')
  File "D:\software\python-3.10.10\lib\site-packages\minium\miniprogram\base_driver\app.py", line 217, in wrapper
    return attr(*args, **kwargs)
  File "D:\software\python-3.10.10\lib\site-packages\minium\miniprogram\base_driver\minium_log.py", line 172, in wrapper
    result = func(*args, **kwargs)
  File "D:\software\python-3.10.10\lib\site-packages\minium\miniprogram\base_driver\page.py", line 373, in get_elements
    return self.get_elements_by_xpath(
  File "D:\software\python-3.10.10\lib\site-packages\minium\miniprogram\base_driver\minium_log.py", line 172, in wrapper
    result = func(*args, **kwargs)
  File "D:\software\python-3.10.10\lib\site-packages\minium\miniprogram\base_driver\page.py", line 441, in get_elements_by_xpath
    return search_elements()
  File "D:\software\python-3.10.10\lib\site-packages\minium\utils\utils.py", line 56, in wrapper
    r = func(*args, **kwargs)
  File "D:\software\python-3.10.10\lib\site-packages\minium\miniprogram\base_driver\page.py", line 439, in search_elements
    return self._get_elements_by_xpath(xpath, index=index)
  File "D:\software\python-3.10.10\lib\site-packages\minium\utils\utils.py", line 82, in wrapper
    ret = func(*args, **kwargs)
  File "D:\software\python-3.10.10\lib\site-packages\minium\miniprogram\base_driver\page.py", line 658, in _get_elements_by_xpath
    ret = self._send("Page.getElementsByXpath", {"selector": xpath})
  File "D:\software\python-3.10.10\lib\site-packages\minium\miniprogram\base_driver\page.py", line 488, in _send
    self.connection.send(method, params)
  File "D:\software\python-3.10.10\lib\site-packages\minium\miniprogram\base_driver\connection.py", line 447, in send
    return self._receive_response(cmd)
  File "D:\software\python-3.10.10\lib\site-packages\minium\miniprogram\base_driver\connection.py", line 473, in _receive_response
    raise response
minium.framework.exception.PageDestroyed: page destroyed
