INFO  2023-08-23 17:20:11,009 minitest.py _miniSetUp      340 =========Current case: test_handle_modal_01=========
INFO  2023-08-23 17:20:11,011 minitest.py _miniSetUp      343 package info: D:.路路游小程序.tests.test_login, case info: TestShouYe_1.test_handle_modal_01
INFO  2023-08-23 17:20:11,012 basenative.py wrapper         24  call BaseNative.check_connection
INFO  2023-08-23 17:20:11,014 basenative.py wrapper         28  call BaseNative.check_connection end
INFO  2023-08-23 17:20:11,017 minitest.py capture         686 capture setup.png
INFO  2023-08-23 17:20:11,018 basenative.py wrapper         24  call IdeNative.screen_shot
DEBUG 2023-08-23 17:20:11,019 connection.py _safely_send    417 SEND > {"id":"0f649a31-eb2a-4543-93e4-7f061a5e45ea","method":"App.captureScreenshot","params":{}}
DEBUG 2023-08-23 17:20:12,599 connection.py _on_message     650 RECV < {"id":"0f649a31-eb2a-4543-93e4-7f061a5e45ea","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAawAAAOeCAIAAADQh7N0AAAAAXNSR0IArs4c6QAAIABJREFUeJx8vdtyJFuuJOYOrEiy9u6ZI2ke5qv0VfpMvUlmGpPGRkene1eRGbEA1wOAyKw+I2WzabVJZkbEigWHw3EJ/s//y/96mDlggElUEkklSTPWC4DmFWZJCyki9t6ZiXlJEuBr0YxuMAOQmTtiR1z72nunlKApqTqcLGWSA066wUhzGWFMMBXJhGSQSUghU0JmZsROZSillHKOLwB1znXykkiaGWlmZjCb/3AzNzPQzYz84+Pj87HMaY61fDmX8TAsw2F8uFNYy3y5LYJ57evnr++fP7/OK3Zq7zyv6/z+3ufTIGVkBBQGGeGgw5bZY9lj8eF8OBbCKKeM6Z5r6bH8Y9nhOiwP6mPhMDyOtVYejsP5cC6DWy7TQX...
INFO  2023-08-23 17:20:12,613 basenative.py wrapper         28  call IdeNative.screen_shot end
INFO  2023-08-23 17:20:12,618 minitest.py _miniSetUp      393 =========case: test_handle_modal_01 start=========
DEBUG 2023-08-23 17:20:12,634 connection.py _safely_send    417 SEND > {"id":"62e81e91-fdee-4cd5-b6bb-f2219580fcb4","method":"App.addBinding","params":{"name":"showModal_super_callback"}}
DEBUG 2023-08-23 17:20:12,657 connection.py _on_message     652 RECV < {"id":"62e81e91-fdee-4cd5-b6bb-f2219580fcb4","result":{}}
DEBUG 2023-08-23 17:20:12,664 connection.py _safely_send    417 SEND > {"id":"c8c9eefb-3f07-49de-94c1-b92421221d3d","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethod(){var e,_=wx._MINI_WX_PROXY_||wx;_.showModal_MiniumOrigin?e=_.showModal_MiniumOrigin:(e=_.showModal,Object.defineProperty(_,\"showModal_MiniumOrigin\",{configurable:!0,get:()=>e})),Object.defineProperty(_,\"showModal\",{configurable:!0,get:()=>function(..._){var t,n=_[0],$=!1;if(\"showModal\".endsWith(\"Sync\")||n&&(n.success||n.fail||n.complete)||($=!0),\"undefined\"!=typeof showModal_super_before&&showModal_super_before(..._),\"undefined\"!=typeof showModal_super_callback)if($)t=e(..._).then((function(e){return showModal_super_callback(e),e})).catch((function(e){throw showModal_super_callback(e),e}));else{if(n){var o=n.complete;n.complete=function(e){showModal_super_callback(e),o&&o(e)}}t=e(..._)}else t=e(..._);return\"undefined\"!=typeof showModal_super_after&&showModal_super_after(t),t}})}","args":[]}}
DEBUG 2023-08-23 17:20:12,676 connection.py _on_message     652 RECV < {"id":"c8c9eefb-3f07-49de-94c1-b92421221d3d","result":{}}
DEBUG 2023-08-23 17:20:12,681 connection.py _safely_send    417 SEND > {"id":"6b7b2550-31b3-4529-b679-17f4958870d7","method":"App.getCurrentPage","params":{}}
DEBUG 2023-08-23 17:20:12,700 connection.py _on_message     652 RECV < {"id":"6b7b2550-31b3-4529-b679-17f4958870d7","result":{"pageId":110,"path":"pages/index/index","query":{}}}
INFO  2023-08-23 17:20:12,709 page.py    _get_elements_by_css 557 try to get elements: text="当前为测试模拟环境，请勿进行真实业务行为!"
DEBUG 2023-08-23 17:20:12,712 connection.py _safely_send    417 SEND > {"id":"5b059afc-6761-480d-8bfd-e47acbd3092c","method":"Page.getElements","params":{"selector":"text=\"\u5f53\u524d\u4e3a\u6d4b\u8bd5\u6a21\u62df\u73af\u5883\uff0c\u8bf7\u52ff\u8fdb\u884c\u771f\u5b9e\u4e1a\u52a1\u884c\u4e3a!\"","pageId":110}}
DEBUG 2023-08-23 17:20:12,982 connection.py _on_message     650 RECV < {"id":"5b059afc-6761-480d-8bfd-e47acbd3092c","result":{"elements":[{"elementId":"59f2f558-8cef-4e43-a73d-c1a59c8d9767","tagName":"text"},{"elementId":"a9a751c5-de71-4c78-b4a8-c59c90e2ecd6","tagName":"text"},{"elementId":"ec5e4458-2c60-4c47-b780-d468440f9d11","tagName":"text"},{"elementId":"666181cb-a819-4eda-a218-faca5b796bd8","tagName":"text"},{"elementId":"c38c4073-6ce3-49bb-b673-4916c8139226","tagName":"text"},{"elementId":"244a9599-7928-41d2-9710-f42b1ed8824e","tagName":"text"},{"elementId":"2ba78168...
INFO  2023-08-23 17:20:12,986 page.py    _get_elements_by_css 564 find elements success: [<minium.miniprogram.base_driver.element.BaseElement object at 0x00000194EF7515D0>]
DEBUG 2023-08-23 17:20:12,991 connection.py _safely_send    417 SEND > {"id":"d3e0889b-190a-45fa-ba6d-83a239defbb0","method":"Element.tap","params":{"elementId":"59f2f558-8cef-4e43-a73d-c1a59c8d9767","pageId":110}}
DEBUG 2023-08-23 17:20:13,130 connection.py _on_message     652 RECV < {"id":"d3e0889b-190a-45fa-ba6d-83a239defbb0","result":{}}
DEBUG 2023-08-23 17:20:14,120 connection.py _on_message     652 RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":167,"path":"pages/common/selected_city","query":{},"openType":"navigateTo","__ts__":1692782414087},1692782414092]}}
INFO  2023-08-23 17:20:14,127 app.py     _on_route_changed 845 Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 167, 'path': 'pages/common/selected_city', 'query': {}, 'openType': 'navigateTo', '__ts__': 1692782414087}, 1692782414092]}
DEBUG 2023-08-23 17:20:14,189 connection.py _on_message     650 RECV < {"method":"App.exceptionThrown","params":{"message":"_this.setLocationData is not a function","stack":"TypeError: _this.setLocationData is not a function\n    at Object.success (http://127.0.0.1:29252/appservice/pages/common/selected_city.js?t=wechat&s=1692762371060&v=9645cfe03f84cc02692ef5cb9c6738fb:182:31)\n    at Object.handleData (http://127.0.0.1:29252/appservice/common/vendor.js?t=wechat&s=1692762371060&v=89b5c89f382fa501a7bab0cabe2e6de7:12607:15)\n    at options.success (http://127.0.0.1:29252/app...
INFO  2023-08-23 17:20:15,138 basenative.py wrapper         24  call IdeNative.handle_modal
INFO  2023-08-23 17:20:15,142 basenative.py wrapper         24  call IdeNative.send
DEBUG 2023-08-23 17:20:15,145 connection.py _safely_send    417 SEND > {"id":"9a62b079-144a-4f32-9f3b-9bebdff8ffe2","method":"Tool.native","params":{"method":"confirmModal","data":null}}
DEBUG 2023-08-23 17:20:15,148 connection.py _on_message     652 RECV < {"id":"9a62b079-144a-4f32-9f3b-9bebdff8ffe2","result":{"error":{"message":"confirmModal failed"}}}
WARNI 2023-08-23 17:20:15,150 idenative.py send            65  handle confirmModal error: confirmModal failed
INFO  2023-08-23 17:20:15,151 basenative.py wrapper         28  call IdeNative.send end
INFO  2023-08-23 17:20:15,152 basenative.py wrapper         27  IdeNative.handle_modal return {'id': '9a62b079-144a-4f32-9f3b-9bebdff8ffe2', 'result': {'error': {'message': 'confirmModal failed'}}}
INFO  2023-08-23 17:20:15,157 basenative.py wrapper         28  call IdeNative.handle_modal end
DEBUG 2023-08-23 17:20:15,160 connection.py _safely_send    417 SEND > {"id":"05928fe7-8585-43e4-a795-5dad6d6746ec","method":"Page.getElementsByXpath","params":{"selector":"/view/biz-index-head/view/view","pageId":167}}
DEBUG 2023-08-23 17:20:15,169 connection.py _on_message     652 RECV < {"id":"05928fe7-8585-43e4-a795-5dad6d6746ec","result":{"elements":[]}}
DEBUG 2023-08-23 17:20:17,177 connection.py _safely_send    417 SEND > {"id":"556c0878-dee3-4635-9dc9-1c68f79566b5","method":"Page.getElementsByXpath","params":{"selector":"/lee-select-city/view/view/view/scroll-view[1]/view/view[2]","pageId":167}}
DEBUG 2023-08-23 17:20:17,184 connection.py _on_message     652 RECV < {"id":"556c0878-dee3-4635-9dc9-1c68f79566b5","result":{"elements":[{"elementId":"262b5599-9a60-475c-9564-3a9aea4f2339","tagName":"view"}]}}
DEBUG 2023-08-23 17:20:17,186 connection.py _safely_send    417 SEND > {"id":"68761969-5ee4-4745-beb1-d8b613e949f9","method":"Element.getStyles","params":{"names":["pointer-events"],"elementId":"262b5599-9a60-475c-9564-3a9aea4f2339","pageId":167}}
DEBUG 2023-08-23 17:20:17,190 connection.py _on_message     652 RECV < {"id":"68761969-5ee4-4745-beb1-d8b613e949f9","result":{"styles":["auto"]}}
DEBUG 2023-08-23 17:20:17,192 connection.py _safely_send    417 SEND > {"id":"30edbb43-8434-40ca-a085-e3c485a420e9","method":"Element.tap","params":{"elementId":"262b5599-9a60-475c-9564-3a9aea4f2339","pageId":167}}
DEBUG 2023-08-23 17:20:17,201 connection.py _on_message     652 RECV < {"id":"30edbb43-8434-40ca-a085-e3c485a420e9","result":{}}
DEBUG 2023-08-23 17:20:20,208 connection.py _safely_send    417 SEND > {"id":"93107da4-ea57-4563-8f35-8474b4320396","method":"Page.getElementsByXpath","params":{"selector":"/lee-select-city/view/view/view/scroll-view[1]/view/lee-latter-list/view/view[1]/view[2]/view[1]","pageId":167}}
DEBUG 2023-08-23 17:20:20,214 connection.py _on_message     652 RECV < {"id":"93107da4-ea57-4563-8f35-8474b4320396","result":{"elements":[{"elementId":"967b97a9-082f-4487-b5c1-fdbe8ce9fcef","tagName":"view"}]}}
DEBUG 2023-08-23 17:20:20,217 connection.py _safely_send    417 SEND > {"id":"10e05044-323f-411e-8c72-54127ece2dc6","method":"Element.getStyles","params":{"names":["pointer-events"],"elementId":"967b97a9-082f-4487-b5c1-fdbe8ce9fcef","pageId":167}}
DEBUG 2023-08-23 17:20:20,221 connection.py _on_message     652 RECV < {"id":"10e05044-323f-411e-8c72-54127ece2dc6","result":{"styles":["auto"]}}
DEBUG 2023-08-23 17:20:20,222 connection.py _safely_send    417 SEND > {"id":"22b30a7a-7716-4087-9c49-389c61700143","method":"Element.tap","params":{"elementId":"967b97a9-082f-4487-b5c1-fdbe8ce9fcef","pageId":167}}
DEBUG 2023-08-23 17:20:20,237 connection.py _on_message     652 RECV < {"id":"22b30a7a-7716-4087-9c49-389c61700143","result":{}}
DEBUG 2023-08-23 17:20:23,248 connection.py _safely_send    417 SEND > {"id":"7fa49bfe-8180-4b07-b85c-3becc9e9c17d","method":"Page.getElementsByXpath","params":{"selector":"/lee-select-city/view/view[2]/view/scroll-view[2]/view/lee-latter-list/view/view[1]/view[2]/view","pageId":167}}
DEBUG 2023-08-23 17:20:23,255 connection.py _on_message     652 RECV < {"id":"7fa49bfe-8180-4b07-b85c-3becc9e9c17d","result":{"elements":[{"elementId":"7227a248-ab18-4186-89f4-0cec23b47341","tagName":"view"}]}}
DEBUG 2023-08-23 17:20:23,257 connection.py _safely_send    417 SEND > {"id":"7e8e8e2b-f99d-4c0e-8086-c2e64e0d0c10","method":"Element.getStyles","params":{"names":["pointer-events"],"elementId":"7227a248-ab18-4186-89f4-0cec23b47341","pageId":167}}
DEBUG 2023-08-23 17:20:23,261 connection.py _on_message     652 RECV < {"id":"7e8e8e2b-f99d-4c0e-8086-c2e64e0d0c10","result":{"styles":["auto"]}}
DEBUG 2023-08-23 17:20:23,262 connection.py _safely_send    417 SEND > {"id":"39b454ca-1b83-403f-937a-d4287b957ba0","method":"Element.tap","params":{"elementId":"7227a248-ab18-4186-89f4-0cec23b47341","pageId":167}}
DEBUG 2023-08-23 17:20:23,316 connection.py _on_message     652 RECV < {"id":"39b454ca-1b83-403f-937a-d4287b957ba0","result":{}}
DEBUG 2023-08-23 17:20:26,321 minitest.py _miniTearDown   589 =========Current case Down: test_handle_modal_01=========
INFO  2023-08-23 17:20:26,324 minitest.py capture         686 capture teardown.png
INFO  2023-08-23 17:20:26,324 basenative.py wrapper         24  call IdeNative.screen_shot
DEBUG 2023-08-23 17:20:26,326 connection.py _safely_send    417 SEND > {"id":"043f1a47-a31c-4765-8866-776d72b5e384","method":"App.captureScreenshot","params":{}}
DEBUG 2023-08-23 17:20:26,486 connection.py _on_message     650 RECV < {"id":"043f1a47-a31c-4765-8866-776d72b5e384","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAawAAANDCAIAAAB+J7yFAAAAAXNSR0IArs4c6QAAIABJREFUeJzs3VlsHedh//3ZZ86+L9x5SIqbqJWyZS2WFadxEjuJEwco2rhL3AZN8b7ogqItUAQFAhRoLtrLtMA/CVK0yZtmqWs7dh3bsaRItixbokRxFUVxEdez7/tsz3sxySn/kmxLFC3Rmt/nypwzq4F888zMc45pQggFAGBKhBDmfp8DAMD9hAgCgKkhggBgaoggAJgaIggApoYIAoCpIYIAYGqIIACYGiIIAKaGCAKAqSGCAGBqiCAAmBoiCACmhggCgKkhggBgatydblBR63VdERneyokfxQkBANxLdzwS1Imu6ZpO6R/F2QAA3GM0flkaAEwLvywNAGaHCAKAqSGCAGBqiCAAmBoiCACmhggCgKkhggBgaoggAJ...
INFO  2023-08-23 17:20:26,488 basenative.py wrapper         28  call IdeNative.screen_shot end
INFO  2023-08-23 17:20:26,489 basenative.py wrapper         24  call BaseNative.get_start_up
INFO  2023-08-23 17:20:26,489 basenative.py wrapper         28  call BaseNative.get_start_up end
