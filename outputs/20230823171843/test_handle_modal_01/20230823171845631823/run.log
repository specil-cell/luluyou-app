INFO  2023-08-23 17:18:45,634 minitest.py _miniSetUp      340 =========Current case: test_handle_modal_01=========
INFO  2023-08-23 17:18:45,635 minitest.py _miniSetUp      343 package info: D:.路路游小程序.tests.test_login, case info: TestShouYe_1.test_handle_modal_01
INFO  2023-08-23 17:18:45,635 basenative.py wrapper         24  call BaseNative.check_connection
INFO  2023-08-23 17:18:45,636 basenative.py wrapper         28  call BaseNative.check_connection end
INFO  2023-08-23 17:18:45,637 minitest.py capture         686 capture setup.png
INFO  2023-08-23 17:18:45,637 basenative.py wrapper         24  call IdeNative.screen_shot
DEBUG 2023-08-23 17:18:45,638 connection.py _safely_send    417 SEND > {"id":"539d0393-85d0-450d-a76b-fbc796184c12","method":"App.captureScreenshot","params":{}}
DEBUG 2023-08-23 17:18:46,204 connection.py _on_message     650 RECV < {"id":"539d0393-85d0-450d-a76b-fbc796184c12","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAawAAAOeCAIAAADQh7N0AAAAAXNSR0IArs4c6QAAIABJREFUeJzsvVmMHMmZ52mHn3HfEXkfzCSZJItnUVViiXWwJEpqta5St3ow6kbPYIAGBtPAoPdpgdmX3QZmXnofZoDBbGOwg1lgu7eFbpVK6lJJpTpVxSpW8b6ZZN7JPCMj4/bb3WwfnEwl82JEZEZmRKb9kCCSkR7m5uZmf/8+s88+h/8rpaAJgTtdgWqpvML0yU+FxcKKC6+q5PpReYUZjHqTpJQzd7oSNdCMQ6iqOlcrgpUXCxpDBBnbQJ3aecf7z9ZiAcDpO12JGmjGUVRVnavVtarY2dZrECHe9dT1Lu+a2wcBMAHg7J2uR800oxRWSLVmYz2KrR+7Zgg1Plt+x3ffvbMB4MhOV6IG3Fu7++6HC6z+0ir3nRuE3X...
INFO  2023-08-23 17:18:46,206 basenative.py wrapper         28  call IdeNative.screen_shot end
INFO  2023-08-23 17:18:46,207 minitest.py _miniSetUp      393 =========case: test_handle_modal_01 start=========
DEBUG 2023-08-23 17:18:46,208 connection.py _safely_send    417 SEND > {"id":"ee56cd2d-7d3f-42bd-8d11-0bfec3556fab","method":"App.addBinding","params":{"name":"showModal_super_callback"}}
DEBUG 2023-08-23 17:18:46,210 connection.py _on_message     652 RECV < {"id":"ee56cd2d-7d3f-42bd-8d11-0bfec3556fab","result":{}}
DEBUG 2023-08-23 17:18:46,211 connection.py _safely_send    417 SEND > {"id":"05f8257a-89c8-4b96-a202-3c80ac38b046","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethod(){var e,_=wx._MINI_WX_PROXY_||wx;_.showModal_MiniumOrigin?e=_.showModal_MiniumOrigin:(e=_.showModal,Object.defineProperty(_,\"showModal_MiniumOrigin\",{configurable:!0,get:()=>e})),Object.defineProperty(_,\"showModal\",{configurable:!0,get:()=>function(..._){var t,n=_[0],$=!1;if(\"showModal\".endsWith(\"Sync\")||n&&(n.success||n.fail||n.complete)||($=!0),\"undefined\"!=typeof showModal_super_before&&showModal_super_before(..._),\"undefined\"!=typeof showModal_super_callback)if($)t=e(..._).then((function(e){return showModal_super_callback(e),e})).catch((function(e){throw showModal_super_callback(e),e}));else{if(n){var o=n.complete;n.complete=function(e){showModal_super_callback(e),o&&o(e)}}t=e(..._)}else t=e(..._);return\"undefined\"!=typeof showModal_super_after&&showModal_super_after(t),t}})}","args":[]}}
DEBUG 2023-08-23 17:18:46,214 connection.py _on_message     652 RECV < {"id":"05f8257a-89c8-4b96-a202-3c80ac38b046","result":{}}
DEBUG 2023-08-23 17:18:46,215 connection.py _safely_send    417 SEND > {"id":"10833103-4c93-4ed1-b3e0-a655cd113926","method":"App.getCurrentPage","params":{}}
DEBUG 2023-08-23 17:18:46,222 connection.py _on_message     652 RECV < {"id":"10833103-4c93-4ed1-b3e0-a655cd113926","result":{"pageId":110,"path":"pages/index/index","query":{}}}
INFO  2023-08-23 17:18:46,224 page.py    _get_elements_by_css 557 try to get elements: text="当前为测试模拟环境，请勿进行真实业务行为!"
DEBUG 2023-08-23 17:18:46,225 connection.py _safely_send    417 SEND > {"id":"13d96cd9-9907-4610-9e52-a45823357b17","method":"Page.getElements","params":{"selector":"text=\"\u5f53\u524d\u4e3a\u6d4b\u8bd5\u6a21\u62df\u73af\u5883\uff0c\u8bf7\u52ff\u8fdb\u884c\u771f\u5b9e\u4e1a\u52a1\u884c\u4e3a!\"","pageId":110}}
DEBUG 2023-08-23 17:18:46,231 connection.py _on_message     650 RECV < {"id":"13d96cd9-9907-4610-9e52-a45823357b17","result":{"elements":[{"elementId":"59f2f558-8cef-4e43-a73d-c1a59c8d9767","tagName":"text"},{"elementId":"a9a751c5-de71-4c78-b4a8-c59c90e2ecd6","tagName":"text"},{"elementId":"ec5e4458-2c60-4c47-b780-d468440f9d11","tagName":"text"},{"elementId":"666181cb-a819-4eda-a218-faca5b796bd8","tagName":"text"},{"elementId":"c38c4073-6ce3-49bb-b673-4916c8139226","tagName":"text"},{"elementId":"244a9599-7928-41d2-9710-f42b1ed8824e","tagName":"text"},{"elementId":"2ba78168...
INFO  2023-08-23 17:18:46,232 page.py    _get_elements_by_css 564 find elements success: [<minium.miniprogram.base_driver.element.BaseElement object at 0x00000221A02CEAA0>]
DEBUG 2023-08-23 17:18:46,232 connection.py _safely_send    417 SEND > {"id":"cf3e011f-2f2f-4d86-a8b1-a5662045f582","method":"Element.tap","params":{"elementId":"59f2f558-8cef-4e43-a73d-c1a59c8d9767","pageId":110}}
DEBUG 2023-08-23 17:18:46,293 connection.py _on_message     652 RECV < {"id":"cf3e011f-2f2f-4d86-a8b1-a5662045f582","result":{}}
DEBUG 2023-08-23 17:18:46,831 connection.py _on_message     652 RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":163,"path":"pages/common/selected_city","query":{},"openType":"navigateTo","__ts__":1692782326814},1692782326818]}}
INFO  2023-08-23 17:18:46,837 app.py     _on_route_changed 845 Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 163, 'path': 'pages/common/selected_city', 'query': {}, 'openType': 'navigateTo', '__ts__': 1692782326814}, 1692782326818]}
DEBUG 2023-08-23 17:18:47,064 connection.py _on_message     650 RECV < {"method":"App.exceptionThrown","params":{"message":"_this.setLocationData is not a function","stack":"TypeError: _this.setLocationData is not a function\n    at Object.success (http://127.0.0.1:29252/appservice/pages/common/selected_city.js?t=wechat&s=1692762371060&v=9645cfe03f84cc02692ef5cb9c6738fb:182:31)\n    at Object.handleData (http://127.0.0.1:29252/appservice/common/vendor.js?t=wechat&s=1692762371060&v=89b5c89f382fa501a7bab0cabe2e6de7:12607:15)\n    at options.success (http://127.0.0.1:29252/app...
INFO  2023-08-23 17:18:48,306 basenative.py wrapper         24  call IdeNative.handle_modal
INFO  2023-08-23 17:18:48,306 basenative.py wrapper         24  call IdeNative.send
DEBUG 2023-08-23 17:18:48,307 connection.py _safely_send    417 SEND > {"id":"16d2c629-082e-4149-a23d-6cec6f322043","method":"Tool.native","params":{"method":"confirmModal","data":null}}
DEBUG 2023-08-23 17:18:48,309 connection.py _on_message     652 RECV < {"id":"16d2c629-082e-4149-a23d-6cec6f322043","result":{"error":{"message":"confirmModal failed"}}}
WARNI 2023-08-23 17:18:48,311 idenative.py send            65  handle confirmModal error: confirmModal failed
INFO  2023-08-23 17:18:48,311 basenative.py wrapper         28  call IdeNative.send end
INFO  2023-08-23 17:18:48,312 basenative.py wrapper         27  IdeNative.handle_modal return {'id': '16d2c629-082e-4149-a23d-6cec6f322043', 'result': {'error': {'message': 'confirmModal failed'}}}
INFO  2023-08-23 17:18:48,312 basenative.py wrapper         28  call IdeNative.handle_modal end
DEBUG 2023-08-23 17:18:48,313 connection.py _safely_send    417 SEND > {"id":"8ada3096-8c3a-40c6-81e1-ec8233da2f9c","method":"Page.getElementsByXpath","params":{"selector":"/view/biz-index-head/view/view","pageId":163}}
DEBUG 2023-08-23 17:18:48,319 connection.py _on_message     652 RECV < {"id":"8ada3096-8c3a-40c6-81e1-ec8233da2f9c","result":{"elements":[]}}
DEBUG 2023-08-23 17:18:50,330 connection.py _safely_send    417 SEND > {"id":"9ee5e16b-0242-4ce0-8c80-a4b03f1aacec","method":"Page.getElementsByXpath","params":{"selector":"/lee-select-city/view/view/view/scroll-view[1]/view/view[2]","pageId":163}}
DEBUG 2023-08-23 17:18:50,337 connection.py _on_message     652 RECV < {"id":"9ee5e16b-0242-4ce0-8c80-a4b03f1aacec","result":{"elements":[{"elementId":"52bd1760-71cb-44e2-b919-17d97a1fd392","tagName":"view"}]}}
DEBUG 2023-08-23 17:18:50,338 connection.py _safely_send    417 SEND > {"id":"a71d1a21-5bd5-4381-a054-f1a9fd835948","method":"Element.getStyles","params":{"names":["pointer-events"],"elementId":"52bd1760-71cb-44e2-b919-17d97a1fd392","pageId":163}}
DEBUG 2023-08-23 17:18:50,352 connection.py _on_message     652 RECV < {"id":"a71d1a21-5bd5-4381-a054-f1a9fd835948","result":{"styles":["auto"]}}
DEBUG 2023-08-23 17:18:50,353 connection.py _safely_send    417 SEND > {"id":"b484bf69-1290-47c8-8336-d1e4941b604d","method":"Element.tap","params":{"elementId":"52bd1760-71cb-44e2-b919-17d97a1fd392","pageId":163}}
DEBUG 2023-08-23 17:18:50,366 connection.py _on_message     652 RECV < {"id":"b484bf69-1290-47c8-8336-d1e4941b604d","result":{}}
DEBUG 2023-08-23 17:18:53,380 connection.py _safely_send    417 SEND > {"id":"04a7b5e6-d322-473d-bbb2-3b2b968d7fc2","method":"Page.getElementsByXpath","params":{"selector":"/lee-select-city/view/view/view/scroll-view[1]/view/lee-latter-list/view/view[1]/view[2]/view[1]","pageId":163}}
DEBUG 2023-08-23 17:18:53,388 connection.py _on_message     652 RECV < {"id":"04a7b5e6-d322-473d-bbb2-3b2b968d7fc2","result":{"elements":[{"elementId":"626c95da-1487-46bd-88f8-ab3fa4ac0cf3","tagName":"view"}]}}
DEBUG 2023-08-23 17:18:53,388 connection.py _safely_send    417 SEND > {"id":"dab26335-3cfd-40b6-9ad3-5edd5e785b63","method":"Element.getStyles","params":{"names":["pointer-events"],"elementId":"626c95da-1487-46bd-88f8-ab3fa4ac0cf3","pageId":163}}
DEBUG 2023-08-23 17:18:53,419 connection.py _on_message     652 RECV < {"id":"dab26335-3cfd-40b6-9ad3-5edd5e785b63","result":{"styles":["auto"]}}
DEBUG 2023-08-23 17:18:53,420 connection.py _safely_send    417 SEND > {"id":"9f51f83a-d0e9-48c0-af68-e5667f92cf06","method":"Element.tap","params":{"elementId":"626c95da-1487-46bd-88f8-ab3fa4ac0cf3","pageId":163}}
DEBUG 2023-08-23 17:18:53,436 connection.py _on_message     652 RECV < {"id":"9f51f83a-d0e9-48c0-af68-e5667f92cf06","result":{}}
DEBUG 2023-08-23 17:18:56,451 connection.py _safely_send    417 SEND > {"id":"e30c85a0-f3ec-43c8-bbcd-dd7da293a60a","method":"Page.getElementsByXpath","params":{"selector":"/lee-select-city/view/view[2]/view/scroll-view[2]/view/lee-latter-list/view/view[1]/view[2]/view","pageId":163}}
DEBUG 2023-08-23 17:18:56,456 connection.py _on_message     652 RECV < {"id":"e30c85a0-f3ec-43c8-bbcd-dd7da293a60a","result":{"elements":[{"elementId":"c5e30742-b8d0-4f91-a27e-0bff891edaf7","tagName":"view"}]}}
DEBUG 2023-08-23 17:18:56,458 connection.py _safely_send    417 SEND > {"id":"924c2bb2-77a3-40a6-9267-0e9d365406c7","method":"Element.getStyles","params":{"names":["pointer-events"],"elementId":"c5e30742-b8d0-4f91-a27e-0bff891edaf7","pageId":163}}
DEBUG 2023-08-23 17:18:56,460 connection.py _on_message     652 RECV < {"id":"924c2bb2-77a3-40a6-9267-0e9d365406c7","result":{"styles":["auto"]}}
DEBUG 2023-08-23 17:18:56,461 connection.py _safely_send    417 SEND > {"id":"015f0c90-4680-41b9-8a09-cd3cf15ef489","method":"Element.tap","params":{"elementId":"c5e30742-b8d0-4f91-a27e-0bff891edaf7","pageId":163}}
DEBUG 2023-08-23 17:18:56,489 connection.py _on_message     652 RECV < {"id":"015f0c90-4680-41b9-8a09-cd3cf15ef489","result":{}}
DEBUG 2023-08-23 17:18:59,503 minitest.py _miniTearDown   589 =========Current case Down: test_handle_modal_01=========
INFO  2023-08-23 17:18:59,505 minitest.py capture         686 capture teardown.png
INFO  2023-08-23 17:18:59,506 basenative.py wrapper         24  call IdeNative.screen_shot
DEBUG 2023-08-23 17:18:59,507 connection.py _safely_send    417 SEND > {"id":"a8accd4d-4d19-4683-a6a9-f976fb6afeca","method":"App.captureScreenshot","params":{}}
DEBUG 2023-08-23 17:18:59,697 connection.py _on_message     650 RECV < {"id":"a8accd4d-4d19-4683-a6a9-f976fb6afeca","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAawAAANDCAIAAAB+J7yFAAAAAXNSR0IArs4c6QAAIABJREFUeJzs3VlsHedh//3ZZ86+L9x5SIqbqJWyZS2WFadxEjuJEwco2rhL3AZN8b7ogqItUAQFAhRoLtrLtMA/CVK0yZtmqWs7dh3bsaRItixbokRxFUVxEdez7/tsz3sxySn/kmxLFC3Rmt/nypwzq4F888zMc45pQggFAGBKhBDmfp8DAMD9hAgCgKkhggBgaoggAJgaIggApoYIAoCpIYIAYGqIIACYGiIIAKaGCAKAqSGCAGBqiCAAmBoiCACmhggCgKkhggBgatydblBR63VdERneyokfxQkBANxLdzwS1Imu6ZpO6R/F2QAA3GM0flkaAEwLvywNAGaHCAKAqSGCAGBqiCAAmBoiCACmhggCgKkhggBgaoggAJ...
INFO  2023-08-23 17:18:59,698 basenative.py wrapper         28  call IdeNative.screen_shot end
INFO  2023-08-23 17:18:59,699 basenative.py wrapper         24  call BaseNative.get_start_up
INFO  2023-08-23 17:18:59,700 basenative.py wrapper         28  call BaseNative.get_start_up end
