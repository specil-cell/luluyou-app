INFO  2023-08-23 17:25:24,102 minitest.py _miniSetUp      340 =========Current case: test_handle_modal_01=========
INFO  2023-08-23 17:25:24,103 minitest.py _miniSetUp      343 package info: D:.路路游小程序.tests.test_login, case info: TestShouYe_1.test_handle_modal_01
INFO  2023-08-23 17:25:24,104 basenative.py wrapper         24  call BaseNative.check_connection
INFO  2023-08-23 17:25:24,104 basenative.py wrapper         28  call BaseNative.check_connection end
INFO  2023-08-23 17:25:24,105 minitest.py capture         686 capture setup.png
INFO  2023-08-23 17:25:24,106 basenative.py wrapper         24  call IdeNative.screen_shot
DEBUG 2023-08-23 17:25:24,107 connection.py _safely_send    417 SEND > {"id":"48c7b36a-66bb-4f0b-aff6-fed966e6b01a","method":"App.captureScreenshot","params":{}}
DEBUG 2023-08-23 17:25:25,461 connection.py _on_message     650 RECV < {"id":"48c7b36a-66bb-4f0b-aff6-fed966e6b01a","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAawAAAOeCAIAAADQh7N0AAAAAXNSR0IArs4c6QAAIABJREFUeJyMvdGSJLutJOgOMDK7pStdSTNm8zBm+7Cfsb+zv7F/rbmnKzMI+DwAZERWnzHb0lF3dVVmBIMEHQ4HiOT/8//+fyBJAiQoISLnnBHKzExBcNqw4WZu7u4gU5mZEZGZkiTRrK4jSEBmzjnnnJFBGs1M6TlH5mP4X/7yl7/8/Kuk93me55lKH8PGMHeQdD+Ox/PH8/l8RuTX6/V6vSSYmZmBkkJKggQkzXm+Xl/v1ytjZkTEOc/zPN/zPI0gOdyOYzwfj+M4AAEyMz8ex/OHj/F+v1+v1zlnZgoAYebug6SklAC4u7sfx/HXv/71r3/9K8mvr6+vr6/X61U3i0wAAMx4HOMYA1LMmZkkno/xOA53MyOhmPP19e...
INFO  2023-08-23 17:25:25,467 basenative.py wrapper         28  call IdeNative.screen_shot end
INFO  2023-08-23 17:25:25,468 minitest.py _miniSetUp      393 =========case: test_handle_modal_01 start=========
DEBUG 2023-08-23 17:25:25,469 connection.py _safely_send    417 SEND > {"id":"f764d26a-6562-47a5-a5e6-c3f6c53c39f0","method":"App.addBinding","params":{"name":"showModal_super_callback"}}
DEBUG 2023-08-23 17:25:25,472 connection.py _on_message     652 RECV < {"id":"f764d26a-6562-47a5-a5e6-c3f6c53c39f0","result":{}}
DEBUG 2023-08-23 17:25:25,473 connection.py _safely_send    417 SEND > {"id":"369f71f8-c6c3-413f-b990-9d83f292c223","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethod(){var e,_=wx._MINI_WX_PROXY_||wx;_.showModal_MiniumOrigin?e=_.showModal_MiniumOrigin:(e=_.showModal,Object.defineProperty(_,\"showModal_MiniumOrigin\",{configurable:!0,get:()=>e})),Object.defineProperty(_,\"showModal\",{configurable:!0,get:()=>function(..._){var t,n=_[0],$=!1;if(\"showModal\".endsWith(\"Sync\")||n&&(n.success||n.fail||n.complete)||($=!0),\"undefined\"!=typeof showModal_super_before&&showModal_super_before(..._),\"undefined\"!=typeof showModal_super_callback)if($)t=e(..._).then((function(e){return showModal_super_callback(e),e})).catch((function(e){throw showModal_super_callback(e),e}));else{if(n){var o=n.complete;n.complete=function(e){showModal_super_callback(e),o&&o(e)}}t=e(..._)}else t=e(..._);return\"undefined\"!=typeof showModal_super_after&&showModal_super_after(t),t}})}","args":[]}}
DEBUG 2023-08-23 17:25:25,477 connection.py _on_message     652 RECV < {"id":"369f71f8-c6c3-413f-b990-9d83f292c223","result":{}}
DEBUG 2023-08-23 17:25:25,478 connection.py _safely_send    417 SEND > {"id":"3685234c-93ba-4acc-a645-e1897379732e","method":"App.getCurrentPage","params":{}}
DEBUG 2023-08-23 17:25:25,482 connection.py _on_message     652 RECV < {"id":"3685234c-93ba-4acc-a645-e1897379732e","result":{"pageId":110,"path":"pages/index/index","query":{}}}
INFO  2023-08-23 17:25:25,486 page.py    _get_elements_by_css 557 try to get elements: text="当前为测试模拟环境，请勿进行真实业务行为!"
DEBUG 2023-08-23 17:25:25,487 connection.py _safely_send    417 SEND > {"id":"74d40ea7-da0e-4b4e-a32b-35e6c6afc979","method":"Page.getElements","params":{"selector":"text=\"\u5f53\u524d\u4e3a\u6d4b\u8bd5\u6a21\u62df\u73af\u5883\uff0c\u8bf7\u52ff\u8fdb\u884c\u771f\u5b9e\u4e1a\u52a1\u884c\u4e3a!\"","pageId":110}}
DEBUG 2023-08-23 17:25:25,493 connection.py _on_message     650 RECV < {"id":"74d40ea7-da0e-4b4e-a32b-35e6c6afc979","result":{"elements":[{"elementId":"59f2f558-8cef-4e43-a73d-c1a59c8d9767","tagName":"text"},{"elementId":"a9a751c5-de71-4c78-b4a8-c59c90e2ecd6","tagName":"text"},{"elementId":"ec5e4458-2c60-4c47-b780-d468440f9d11","tagName":"text"},{"elementId":"666181cb-a819-4eda-a218-faca5b796bd8","tagName":"text"},{"elementId":"c38c4073-6ce3-49bb-b673-4916c8139226","tagName":"text"},{"elementId":"244a9599-7928-41d2-9710-f42b1ed8824e","tagName":"text"},{"elementId":"2ba78168...
INFO  2023-08-23 17:25:25,495 page.py    _get_elements_by_css 564 find elements success: [<minium.miniprogram.base_driver.element.BaseElement object at 0x0000025B701095A0>]
DEBUG 2023-08-23 17:25:25,496 connection.py _safely_send    417 SEND > {"id":"607ad6bb-3dd3-4ff7-a3b2-0f8cdf20c52d","method":"Element.tap","params":{"elementId":"59f2f558-8cef-4e43-a73d-c1a59c8d9767","pageId":110}}
DEBUG 2023-08-23 17:25:25,569 connection.py _on_message     652 RECV < {"id":"607ad6bb-3dd3-4ff7-a3b2-0f8cdf20c52d","result":{}}
DEBUG 2023-08-23 17:25:26,214 connection.py _on_message     652 RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":179,"path":"pages/common/selected_city","query":{},"openType":"navigateTo","__ts__":1692782726194},1692782726197]}}
INFO  2023-08-23 17:25:26,219 app.py     _on_route_changed 845 Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 179, 'path': 'pages/common/selected_city', 'query': {}, 'openType': 'navigateTo', '__ts__': 1692782726194}, 1692782726197]}
DEBUG 2023-08-23 17:25:26,476 connection.py _on_message     650 RECV < {"method":"App.exceptionThrown","params":{"message":"_this.setLocationData is not a function","stack":"TypeError: _this.setLocationData is not a function\n    at Object.success (http://127.0.0.1:29252/appservice/pages/common/selected_city.js?t=wechat&s=1692762371060&v=9645cfe03f84cc02692ef5cb9c6738fb:182:31)\n    at Object.handleData (http://127.0.0.1:29252/appservice/common/vendor.js?t=wechat&s=1692762371060&v=89b5c89f382fa501a7bab0cabe2e6de7:12607:15)\n    at options.success (http://127.0.0.1:29252/app...
INFO  2023-08-23 17:25:27,578 basenative.py wrapper         24  call IdeNative.handle_modal
INFO  2023-08-23 17:25:27,580 basenative.py wrapper         24  call IdeNative.send
DEBUG 2023-08-23 17:25:27,582 connection.py _safely_send    417 SEND > {"id":"969b53f9-2c86-4ddf-ac56-6a3f09b5acdf","method":"Tool.native","params":{"method":"confirmModal","data":null}}
DEBUG 2023-08-23 17:25:27,585 connection.py _on_message     652 RECV < {"id":"969b53f9-2c86-4ddf-ac56-6a3f09b5acdf","result":{"error":{"message":"confirmModal failed"}}}
WARNI 2023-08-23 17:25:27,586 idenative.py send            65  handle confirmModal error: confirmModal failed
INFO  2023-08-23 17:25:27,587 basenative.py wrapper         28  call IdeNative.send end
INFO  2023-08-23 17:25:27,587 basenative.py wrapper         27  IdeNative.handle_modal return {'id': '969b53f9-2c86-4ddf-ac56-6a3f09b5acdf', 'result': {'error': {'message': 'confirmModal failed'}}}
INFO  2023-08-23 17:25:27,588 basenative.py wrapper         28  call IdeNative.handle_modal end
DEBUG 2023-08-23 17:25:27,589 connection.py _safely_send    417 SEND > {"id":"a46ec94e-9867-49ce-9946-0956790b495f","method":"Page.getElementsByXpath","params":{"selector":"/view/biz-index-head/view/view","pageId":179}}
DEBUG 2023-08-23 17:25:27,596 connection.py _on_message     652 RECV < {"id":"a46ec94e-9867-49ce-9946-0956790b495f","result":{"elements":[]}}
DEBUG 2023-08-23 17:25:29,602 connection.py _safely_send    417 SEND > {"id":"a178399a-56d5-4392-b730-28651e8c192a","method":"Page.getElementsByXpath","params":{"selector":"/lee-select-city/view/view/view/scroll-view[1]/view/view[2]","pageId":179}}
DEBUG 2023-08-23 17:25:29,607 connection.py _on_message     652 RECV < {"id":"a178399a-56d5-4392-b730-28651e8c192a","result":{"elements":[{"elementId":"bb78623d-95a5-4ac8-949e-955c6e5f9427","tagName":"view"}]}}
DEBUG 2023-08-23 17:25:29,609 connection.py _safely_send    417 SEND > {"id":"6c86f624-e2f1-431f-8ffa-21c34a0c056e","method":"Element.getStyles","params":{"names":["pointer-events"],"elementId":"bb78623d-95a5-4ac8-949e-955c6e5f9427","pageId":179}}
DEBUG 2023-08-23 17:25:29,627 connection.py _on_message     652 RECV < {"id":"6c86f624-e2f1-431f-8ffa-21c34a0c056e","result":{"styles":["auto"]}}
DEBUG 2023-08-23 17:25:29,628 connection.py _safely_send    417 SEND > {"id":"fa5b2b89-b1dd-4725-8345-f01fec785287","method":"Element.tap","params":{"elementId":"bb78623d-95a5-4ac8-949e-955c6e5f9427","pageId":179}}
DEBUG 2023-08-23 17:25:29,641 connection.py _on_message     652 RECV < {"id":"fa5b2b89-b1dd-4725-8345-f01fec785287","result":{}}
DEBUG 2023-08-23 17:25:32,660 connection.py _safely_send    417 SEND > {"id":"eedcbbb1-b4b2-43e2-9f5d-ecab3863f78a","method":"Page.getElementsByXpath","params":{"selector":"/lee-select-city/view/view/view/scroll-view[1]/view/lee-latter-list/view/view[1]/view[2]/view[1]","pageId":179}}
DEBUG 2023-08-23 17:25:32,667 connection.py _on_message     652 RECV < {"id":"eedcbbb1-b4b2-43e2-9f5d-ecab3863f78a","result":{"elements":[{"elementId":"02bd7d9e-f1c7-4c27-95cc-c2939a52ce57","tagName":"view"}]}}
DEBUG 2023-08-23 17:25:32,670 connection.py _safely_send    417 SEND > {"id":"e6683bb5-76bf-4e67-8ea0-c58ccda40f9a","method":"Element.getStyles","params":{"names":["pointer-events"],"elementId":"02bd7d9e-f1c7-4c27-95cc-c2939a52ce57","pageId":179}}
DEBUG 2023-08-23 17:25:32,674 connection.py _on_message     652 RECV < {"id":"e6683bb5-76bf-4e67-8ea0-c58ccda40f9a","result":{"styles":["auto"]}}
DEBUG 2023-08-23 17:25:32,676 connection.py _safely_send    417 SEND > {"id":"ae2f4d74-ddc1-4fb8-9398-601f2b32396b","method":"Element.tap","params":{"elementId":"02bd7d9e-f1c7-4c27-95cc-c2939a52ce57","pageId":179}}
DEBUG 2023-08-23 17:25:32,696 connection.py _on_message     652 RECV < {"id":"ae2f4d74-ddc1-4fb8-9398-601f2b32396b","result":{}}
DEBUG 2023-08-23 17:25:35,710 connection.py _safely_send    417 SEND > {"id":"86ee6a19-0a7d-41d0-a7d5-8c674dc656e7","method":"Page.getElementsByXpath","params":{"selector":"/lee-select-city/view/view[2]/view/scroll-view[2]/view/lee-latter-list/view/view[1]/view[2]/view","pageId":179}}
DEBUG 2023-08-23 17:25:35,720 connection.py _on_message     652 RECV < {"id":"86ee6a19-0a7d-41d0-a7d5-8c674dc656e7","result":{"elements":[{"elementId":"745a6f8a-956f-4841-9faf-6698be634fab","tagName":"view"}]}}
DEBUG 2023-08-23 17:25:35,721 connection.py _safely_send    417 SEND > {"id":"d98fdf7c-b31a-46f9-9c1b-365bf0f9b0db","method":"Element.getStyles","params":{"names":["pointer-events"],"elementId":"745a6f8a-956f-4841-9faf-6698be634fab","pageId":179}}
DEBUG 2023-08-23 17:25:35,726 connection.py _on_message     652 RECV < {"id":"d98fdf7c-b31a-46f9-9c1b-365bf0f9b0db","result":{"styles":["auto"]}}
DEBUG 2023-08-23 17:25:35,728 connection.py _safely_send    417 SEND > {"id":"bed16b86-4251-406a-ab18-e567e1fcac6f","method":"Element.tap","params":{"elementId":"745a6f8a-956f-4841-9faf-6698be634fab","pageId":179}}
DEBUG 2023-08-23 17:25:35,763 connection.py _on_message     652 RECV < {"id":"bed16b86-4251-406a-ab18-e567e1fcac6f","result":{}}
DEBUG 2023-08-23 17:25:38,775 minitest.py _miniTearDown   589 =========Current case Down: test_handle_modal_01=========
INFO  2023-08-23 17:25:38,777 minitest.py capture         686 capture teardown.png
INFO  2023-08-23 17:25:38,779 basenative.py wrapper         24  call IdeNative.screen_shot
DEBUG 2023-08-23 17:25:38,780 connection.py _safely_send    417 SEND > {"id":"f22d9029-8a7d-4486-ae8e-ec68f95bbd05","method":"App.captureScreenshot","params":{}}
DEBUG 2023-08-23 17:25:38,919 connection.py _on_message     650 RECV < {"id":"f22d9029-8a7d-4486-ae8e-ec68f95bbd05","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAawAAANDCAIAAAB+J7yFAAAAAXNSR0IArs4c6QAAIABJREFUeJzs3VlsHedh//3ZZ86+L9x5SIqbqJWyZS2WFadxEjuJEwco2rhL3AZN8b7ogqItUAQFAhRoLtrLtMA/CVK0yZtmqWs7dh3bsaRItixbokRxFUVxEdez7/tsz3sxySn/kmxLFC3Rmt/nypwzq4F888zMc45pQggFAGBKhBDmfp8DAMD9hAgCgKkhggBgaoggAJgaIggApoYIAoCpIYIAYGqIIACYGiIIAKaGCAKAqSGCAGBqiCAAmBoiCACmhggCgKkhggBgatydblBR63VdERneyokfxQkBANxLdzwS1Imu6ZpO6R/F2QAA3GM0flkaAEwLvywNAGaHCAKAqSGCAGBqiCAAmBoiCACmhggCgKkhggBgaoggAJ...
INFO  2023-08-23 17:25:38,921 basenative.py wrapper         28  call IdeNative.screen_shot end
INFO  2023-08-23 17:25:38,922 basenative.py wrapper         24  call BaseNative.get_start_up
INFO  2023-08-23 17:25:38,922 basenative.py wrapper         28  call BaseNative.get_start_up end
