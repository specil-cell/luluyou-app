INFO  2023-08-23 15:52:28,117 minitest.py _miniSetUp      340 =========Current case: test_handle_modal_01=========
INFO  2023-08-23 15:52:28,117 minitest.py _miniSetUp      343 package info: D:.路路游小程序.tests.test_login, case info: TestShouYe_1.test_handle_modal_01
INFO  2023-08-23 15:52:28,118 basenative.py wrapper         24  call BaseNative.check_connection
INFO  2023-08-23 15:52:28,118 basenative.py wrapper         28  call BaseNative.check_connection end
INFO  2023-08-23 15:52:28,119 minitest.py capture         686 capture setup.png
INFO  2023-08-23 15:52:28,120 basenative.py wrapper         24  call IdeNative.screen_shot
DEBUG 2023-08-23 15:52:28,122 connection.py _safely_send    417 SEND > {"id":"266a3b64-7016-4fa4-bc18-ed3a783e16c4","method":"App.captureScreenshot","params":{}}
DEBUG 2023-08-23 15:52:29,599 connection.py _on_message     650 RECV < {"id":"266a3b64-7016-4fa4-bc18-ed3a783e16c4","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAawAAAOeCAIAAADQh7N0AAAAAXNSR0IArs4c6QAAIABJREFUeJyMvdGSJLutJOgOMDK7pStdSTNm8zBm+7Cfsb+zv7F/rbmnKzMI+DwAZERWnzHb0lF3dVVmBIMEHQ4HiOT/8//+fyBJAiQoISLnnBHKzExBcNqw4WZu7u4gU5mZEZGZkiTRrK4jSEBmzjnnnJFBGs1M6TlH5mP4X/7yl7/8/Kuk93me55lKH8PGMHeQdD+Ox/PH8/l8RuTX6/V6vSSYmZmBkkJKggQkzXm+Xl/v1ytjZkTEOc/zPN/zPI0gOdyOYzwfj+M4AAEyMz8ex/OHj/F+v1+v1zlnZgoAYebug6SklAC4u7sfx/HXv/71r3/9K8mvr6+vr6/X61U3i0wAAMx4HOMYA1LMmZkkno/xOA53MyOhmPP19e...
INFO  2023-08-23 15:52:29,604 basenative.py wrapper         28  call IdeNative.screen_shot end
INFO  2023-08-23 15:52:29,605 minitest.py _miniSetUp      393 =========case: test_handle_modal_01 start=========
DEBUG 2023-08-23 15:52:29,607 connection.py _safely_send    417 SEND > {"id":"69ca1bf1-6214-4242-92aa-09978e1c3106","method":"App.addBinding","params":{"name":"showModal_super_callback"}}
DEBUG 2023-08-23 15:52:29,609 connection.py _on_message     652 RECV < {"id":"69ca1bf1-6214-4242-92aa-09978e1c3106","result":{}}
DEBUG 2023-08-23 15:52:29,610 connection.py _safely_send    417 SEND > {"id":"affedeae-dcd1-4023-9f4b-7d2d951c3b19","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethod(){var e,_=wx._MINI_WX_PROXY_||wx;_.showModal_MiniumOrigin?e=_.showModal_MiniumOrigin:(e=_.showModal,Object.defineProperty(_,\"showModal_MiniumOrigin\",{configurable:!0,get:()=>e})),Object.defineProperty(_,\"showModal\",{configurable:!0,get:()=>function(..._){var t,n=_[0],$=!1;if(\"showModal\".endsWith(\"Sync\")||n&&(n.success||n.fail||n.complete)||($=!0),\"undefined\"!=typeof showModal_super_before&&showModal_super_before(..._),\"undefined\"!=typeof showModal_super_callback)if($)t=e(..._).then((function(e){return showModal_super_callback(e),e})).catch((function(e){throw showModal_super_callback(e),e}));else{if(n){var o=n.complete;n.complete=function(e){showModal_super_callback(e),o&&o(e)}}t=e(..._)}else t=e(..._);return\"undefined\"!=typeof showModal_super_after&&showModal_super_after(t),t}})}","args":[]}}
DEBUG 2023-08-23 15:52:29,613 connection.py _on_message     652 RECV < {"id":"affedeae-dcd1-4023-9f4b-7d2d951c3b19","result":{}}
DEBUG 2023-08-23 15:52:29,614 connection.py _safely_send    417 SEND > {"id":"d722f784-92fb-4830-9c57-78c014a05a92","method":"App.getCurrentPage","params":{}}
DEBUG 2023-08-23 15:52:29,617 connection.py _on_message     652 RECV < {"id":"d722f784-92fb-4830-9c57-78c014a05a92","result":{"pageId":10,"path":"pages/index/index","query":{}}}
INFO  2023-08-23 15:52:29,630 page.py    _get_elements_by_css 557 try to get elements: text="当前为测试模拟环境，请勿进行真实业务行为!"
DEBUG 2023-08-23 15:52:29,632 connection.py _safely_send    417 SEND > {"id":"32923e52-cec0-4457-afe7-1dcc4277c81b","method":"Page.getElements","params":{"selector":"text=\"\u5f53\u524d\u4e3a\u6d4b\u8bd5\u6a21\u62df\u73af\u5883\uff0c\u8bf7\u52ff\u8fdb\u884c\u771f\u5b9e\u4e1a\u52a1\u884c\u4e3a!\"","pageId":10}}
DEBUG 2023-08-23 15:52:29,678 connection.py _on_message     650 RECV < {"id":"32923e52-cec0-4457-afe7-1dcc4277c81b","result":{"elements":[{"elementId":"871137f6-99f9-4d2e-86e6-6cfe729c92c1","tagName":"text"},{"elementId":"a6ba9f27-86ba-452c-b6af-afafcecfbae4","tagName":"text"},{"elementId":"40353157-39c7-4bf4-ad34-a3b108d672b4","tagName":"text"},{"elementId":"74b8264e-4795-4ab9-b4c2-515a2f258042","tagName":"text"},{"elementId":"e5b1b089-d694-4a7b-a598-0d11132cc220","tagName":"text"},{"elementId":"0d75b9c8-40ba-45fc-83fa-e018c04f1362","tagName":"text"},{"elementId":"22132ed0...
INFO  2023-08-23 15:52:29,679 page.py    _get_elements_by_css 564 find elements success: [<minium.miniprogram.base_driver.element.BaseElement object at 0x0000023CDF5F16F0>]
DEBUG 2023-08-23 15:52:29,681 connection.py _safely_send    417 SEND > {"id":"64ba22f4-b844-41bc-80af-3bb99da8d751","method":"Element.tap","params":{"elementId":"871137f6-99f9-4d2e-86e6-6cfe729c92c1","pageId":10}}
DEBUG 2023-08-23 15:52:29,861 connection.py _on_message     652 RECV < {"id":"64ba22f4-b844-41bc-80af-3bb99da8d751","result":{}}
DEBUG 2023-08-23 15:52:30,567 connection.py _on_message     652 RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":87,"path":"pages/common/selected_city","query":{},"openType":"navigateTo","__ts__":1692777150547},1692777150549]}}
INFO  2023-08-23 15:52:30,575 app.py     _on_route_changed 845 Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 87, 'path': 'pages/common/selected_city', 'query': {}, 'openType': 'navigateTo', '__ts__': 1692777150547}, 1692777150549]}
DEBUG 2023-08-23 15:52:30,835 connection.py _on_message     650 RECV < {"method":"App.exceptionThrown","params":{"message":"_this.setLocationData is not a function","stack":"TypeError: _this.setLocationData is not a function\n    at Object.success (http://127.0.0.1:29252/appservice/pages/common/selected_city.js?t=wechat&s=1692762371060&v=9645cfe03f84cc02692ef5cb9c6738fb:182:31)\n    at Object.handleData (http://127.0.0.1:29252/appservice/common/vendor.js?t=wechat&s=1692762371060&v=89b5c89f382fa501a7bab0cabe2e6de7:12607:15)\n    at options.success (http://127.0.0.1:29252/app...
INFO  2023-08-23 15:52:31,874 basenative.py wrapper         24  call IdeNative.handle_modal
INFO  2023-08-23 15:52:31,875 basenative.py wrapper         24  call IdeNative.send
DEBUG 2023-08-23 15:52:31,876 connection.py _safely_send    417 SEND > {"id":"593eee5a-26c4-4c32-94ea-127a46c80093","method":"Tool.native","params":{"method":"confirmModal","data":null}}
DEBUG 2023-08-23 15:52:31,877 connection.py _on_message     652 RECV < {"id":"593eee5a-26c4-4c32-94ea-127a46c80093","result":{"error":{"message":"confirmModal failed"}}}
WARNI 2023-08-23 15:52:31,878 idenative.py send            65  handle confirmModal error: confirmModal failed
INFO  2023-08-23 15:52:31,878 basenative.py wrapper         28  call IdeNative.send end
INFO  2023-08-23 15:52:31,879 basenative.py wrapper         27  IdeNative.handle_modal return {'id': '593eee5a-26c4-4c32-94ea-127a46c80093', 'result': {'error': {'message': 'confirmModal failed'}}}
INFO  2023-08-23 15:52:31,879 basenative.py wrapper         28  call IdeNative.handle_modal end
DEBUG 2023-08-23 15:52:31,880 connection.py _safely_send    417 SEND > {"id":"5361e650-f53e-4f6a-af5b-4a707ad7ad0f","method":"Page.getElementsByXpath","params":{"selector":"/view/biz-index-head/view/view","pageId":87}}
DEBUG 2023-08-23 15:52:31,888 connection.py _on_message     652 RECV < {"id":"5361e650-f53e-4f6a-af5b-4a707ad7ad0f","result":{"elements":[]}}
DEBUG 2023-08-23 15:52:33,902 connection.py _safely_send    417 SEND > {"id":"70afc0ab-0b56-4af5-8cae-5b64584f82aa","method":"Page.getElementsByXpath","params":{"selector":"/lee-select-city/view/view/view/scroll-view[1]/view/view[2]","pageId":87}}
DEBUG 2023-08-23 15:52:33,909 connection.py _on_message     652 RECV < {"id":"70afc0ab-0b56-4af5-8cae-5b64584f82aa","result":{"elements":[{"elementId":"94a4b20d-1e75-44cd-85de-738648afdc83","tagName":"view"}]}}
DEBUG 2023-08-23 15:52:33,910 connection.py _safely_send    417 SEND > {"id":"9bc49200-71d5-4553-bbff-73aa96bf090c","method":"Element.getStyles","params":{"names":["pointer-events"],"elementId":"94a4b20d-1e75-44cd-85de-738648afdc83","pageId":87}}
DEBUG 2023-08-23 15:52:33,915 connection.py _on_message     652 RECV < {"id":"9bc49200-71d5-4553-bbff-73aa96bf090c","result":{"styles":["auto"]}}
DEBUG 2023-08-23 15:52:33,917 connection.py _safely_send    417 SEND > {"id":"ba8e6ec2-0407-4163-b79e-06a496ed62d3","method":"Element.tap","params":{"elementId":"94a4b20d-1e75-44cd-85de-738648afdc83","pageId":87}}
DEBUG 2023-08-23 15:52:33,930 connection.py _on_message     652 RECV < {"id":"ba8e6ec2-0407-4163-b79e-06a496ed62d3","result":{}}
DEBUG 2023-08-23 15:52:36,949 connection.py _safely_send    417 SEND > {"id":"1b9240ee-f59c-41b3-84c0-d5f739aa81a5","method":"Page.getElementsByXpath","params":{"selector":"/lee-select-city/view/view/view/scroll-view[1]/view/lee-latter-list/view/view[1]/view[2]/view[1]","pageId":87}}
DEBUG 2023-08-23 15:52:36,957 connection.py _on_message     652 RECV < {"id":"1b9240ee-f59c-41b3-84c0-d5f739aa81a5","result":{"elements":[{"elementId":"7b9df68a-6657-4709-9884-c39d7874c68d","tagName":"view"}]}}
DEBUG 2023-08-23 15:52:36,958 connection.py _safely_send    417 SEND > {"id":"5e6529e3-fbcc-4f94-bc6b-cb046f6b2595","method":"Element.getStyles","params":{"names":["pointer-events"],"elementId":"7b9df68a-6657-4709-9884-c39d7874c68d","pageId":87}}
DEBUG 2023-08-23 15:52:36,964 connection.py _on_message     652 RECV < {"id":"5e6529e3-fbcc-4f94-bc6b-cb046f6b2595","result":{"styles":["auto"]}}
DEBUG 2023-08-23 15:52:36,965 connection.py _safely_send    417 SEND > {"id":"bcd61c18-6087-4c97-b5cc-319275eeb240","method":"Element.tap","params":{"elementId":"7b9df68a-6657-4709-9884-c39d7874c68d","pageId":87}}
DEBUG 2023-08-23 15:52:36,997 connection.py _on_message     652 RECV < {"id":"bcd61c18-6087-4c97-b5cc-319275eeb240","result":{}}
DEBUG 2023-08-23 15:52:40,021 connection.py _safely_send    417 SEND > {"id":"b5ecb624-665c-4ed0-88d0-8a9a9217a4ca","method":"Page.getElementsByXpath","params":{"selector":"/lee-select-city/view/view[2]/view/scroll-view[2]/view/lee-latter-list/view/view[1]/view[2]/view","pageId":87}}
DEBUG 2023-08-23 15:52:40,027 connection.py _on_message     652 RECV < {"id":"b5ecb624-665c-4ed0-88d0-8a9a9217a4ca","result":{"elements":[{"elementId":"a70b7834-7f5f-43eb-b320-93dead7e1256","tagName":"view"}]}}
DEBUG 2023-08-23 15:52:40,028 connection.py _safely_send    417 SEND > {"id":"a78db990-4232-4eb1-bb8f-b2c0ac150c4c","method":"Element.getStyles","params":{"names":["pointer-events"],"elementId":"a70b7834-7f5f-43eb-b320-93dead7e1256","pageId":87}}
DEBUG 2023-08-23 15:52:40,032 connection.py _on_message     652 RECV < {"id":"a78db990-4232-4eb1-bb8f-b2c0ac150c4c","result":{"styles":["auto"]}}
DEBUG 2023-08-23 15:52:40,034 connection.py _safely_send    417 SEND > {"id":"616ce3ae-9d8e-4fb7-a715-564aacf1647d","method":"Element.tap","params":{"elementId":"a70b7834-7f5f-43eb-b320-93dead7e1256","pageId":87}}
DEBUG 2023-08-23 15:52:40,087 connection.py _on_message     652 RECV < {"id":"616ce3ae-9d8e-4fb7-a715-564aacf1647d","result":{}}
DEBUG 2023-08-23 15:52:43,100 minitest.py _miniTearDown   589 =========Current case Down: test_handle_modal_01=========
INFO  2023-08-23 15:52:43,101 minitest.py capture         686 capture teardown.png
INFO  2023-08-23 15:52:43,101 basenative.py wrapper         24  call IdeNative.screen_shot
DEBUG 2023-08-23 15:52:43,102 connection.py _safely_send    417 SEND > {"id":"b66b2050-f7d4-43cc-a3fe-9ceac5766742","method":"App.captureScreenshot","params":{}}
DEBUG 2023-08-23 15:52:43,293 connection.py _on_message     650 RECV < {"id":"b66b2050-f7d4-43cc-a3fe-9ceac5766742","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAawAAANDCAIAAAB+J7yFAAAAAXNSR0IArs4c6QAAIABJREFUeJzs3VlsHedh//3ZZ86+L9x5SIqbqJWyZS2WFadxEjuJEwco2rhL3AZN8b7ogqItUAQFAhRoLtrLtMA/CVK0yZtmqWs7dh3bsaRItixbokRxFUVxEdez7/tsz3sxySn/kmxLFC3Rmt/nypwzq4F888zMc45pQggFAGBKhBDmfp8DAMD9hAgCgKkhggBgaoggAJgaIggApoYIAoCpIYIAYGqIIACYGiIIAKaGCAKAqSGCAGBqiCAAmBoiCACmhggCgKkhggBgatydblBR63VdERneyokfxQkBANxLdzwS1Imu6ZpO6R/F2QAA3GM0flkaAEwLvywNAGaHCAKAqSGCAGBqiCAAmBoiCACmhggCgKkhggBgaoggAJ...
INFO  2023-08-23 15:52:43,294 basenative.py wrapper         28  call IdeNative.screen_shot end
INFO  2023-08-23 15:52:43,295 basenative.py wrapper         24  call BaseNative.get_start_up
INFO  2023-08-23 15:52:43,296 basenative.py wrapper         28  call BaseNative.get_start_up end
