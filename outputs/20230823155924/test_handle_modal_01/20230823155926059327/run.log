INFO  2023-08-23 15:59:26,060 minitest.py _miniSetUp      340 =========Current case: test_handle_modal_01=========
INFO  2023-08-23 15:59:26,062 minitest.py _miniSetUp      343 package info: D:.路路游小程序.tests.test_login, case info: TestShouYe_1.test_handle_modal_01
INFO  2023-08-23 15:59:26,064 basenative.py wrapper         24  call BaseNative.check_connection
INFO  2023-08-23 15:59:26,065 basenative.py wrapper         28  call BaseNative.check_connection end
INFO  2023-08-23 15:59:26,066 minitest.py capture         686 capture setup.png
INFO  2023-08-23 15:59:26,067 basenative.py wrapper         24  call IdeNative.screen_shot
DEBUG 2023-08-23 15:59:26,068 connection.py _safely_send    417 SEND > {"id":"f6ad9d46-11d3-49d1-af64-ae0140bcc3aa","method":"App.captureScreenshot","params":{}}
DEBUG 2023-08-23 15:59:26,637 connection.py _on_message     650 RECV < {"id":"f6ad9d46-11d3-49d1-af64-ae0140bcc3aa","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAawAAAOeCAIAAADQh7N0AAAAAXNSR0IArs4c6QAAIABJREFUeJzsvWlwHEd+4JtHnd3V940bIEASJMVTFCVqdFEaaWbHnkNje3bXM+Fd74ZjN8IxO36fHLHvy3svYveLd2NnI+zwrONF+Hl9KezRHNbI0ugcXZR43wSJG8SNvo+6K/N9KBIDAiCIbqCBbiJ/gWCAjeqsrKzMf/2v/Bf8Y0pBEwK3uwPVsv4O03s/62wWrrvxqlquH+vvMINRbxKUcuZ2d6IGmnEJVdXnaoXg+psFjSEEGVtAncZ52+fP5mIBwOnb3YkaaMZVVFWfq5VrVbG9o9cggviRp653+ZG5fRAAEwDO3u5+1EwzisJ1Uq3aWI9m68cjs4Qan02/44/evbMB4Mh2d6IG3Fv76N0PF1j9pa3fdm4QHtV71z...
INFO  2023-08-23 15:59:26,641 basenative.py wrapper         28  call IdeNative.screen_shot end
INFO  2023-08-23 15:59:26,641 minitest.py _miniSetUp      393 =========case: test_handle_modal_01 start=========
DEBUG 2023-08-23 15:59:26,642 connection.py _safely_send    417 SEND > {"id":"a67e2fe8-b51c-4631-a488-1d9b1ed6a0f2","method":"App.addBinding","params":{"name":"showModal_super_callback"}}
DEBUG 2023-08-23 15:59:26,646 connection.py _on_message     652 RECV < {"id":"a67e2fe8-b51c-4631-a488-1d9b1ed6a0f2","result":{}}
DEBUG 2023-08-23 15:59:26,647 connection.py _safely_send    417 SEND > {"id":"b97f5850-cc2c-480b-a83b-32c3268938d0","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethod(){var e,_=wx._MINI_WX_PROXY_||wx;_.showModal_MiniumOrigin?e=_.showModal_MiniumOrigin:(e=_.showModal,Object.defineProperty(_,\"showModal_MiniumOrigin\",{configurable:!0,get:()=>e})),Object.defineProperty(_,\"showModal\",{configurable:!0,get:()=>function(..._){var t,n=_[0],$=!1;if(\"showModal\".endsWith(\"Sync\")||n&&(n.success||n.fail||n.complete)||($=!0),\"undefined\"!=typeof showModal_super_before&&showModal_super_before(..._),\"undefined\"!=typeof showModal_super_callback)if($)t=e(..._).then((function(e){return showModal_super_callback(e),e})).catch((function(e){throw showModal_super_callback(e),e}));else{if(n){var o=n.complete;n.complete=function(e){showModal_super_callback(e),o&&o(e)}}t=e(..._)}else t=e(..._);return\"undefined\"!=typeof showModal_super_after&&showModal_super_after(t),t}})}","args":[]}}
DEBUG 2023-08-23 15:59:26,650 connection.py _on_message     652 RECV < {"id":"b97f5850-cc2c-480b-a83b-32c3268938d0","result":{}}
DEBUG 2023-08-23 15:59:26,651 connection.py _safely_send    417 SEND > {"id":"41532001-5fc9-44cb-9f99-5a690d0d9392","method":"App.getCurrentPage","params":{}}
DEBUG 2023-08-23 15:59:26,655 connection.py _on_message     652 RECV < {"id":"41532001-5fc9-44cb-9f99-5a690d0d9392","result":{"pageId":26,"path":"pages/index/index","query":{}}}
INFO  2023-08-23 15:59:26,657 page.py    _get_elements_by_css 557 try to get elements: text="当前为测试模拟环境，请勿进行真实业务行为!"
DEBUG 2023-08-23 15:59:26,657 connection.py _safely_send    417 SEND > {"id":"516ee803-f414-4e97-b510-ba2e94387cc7","method":"Page.getElements","params":{"selector":"text=\"\u5f53\u524d\u4e3a\u6d4b\u8bd5\u6a21\u62df\u73af\u5883\uff0c\u8bf7\u52ff\u8fdb\u884c\u771f\u5b9e\u4e1a\u52a1\u884c\u4e3a!\"","pageId":26}}
DEBUG 2023-08-23 15:59:26,664 connection.py _on_message     650 RECV < {"id":"516ee803-f414-4e97-b510-ba2e94387cc7","result":{"elements":[{"elementId":"8d971639-8a58-4241-bd06-7713b57c3e94","tagName":"text"},{"elementId":"421016e9-ed71-46e2-a9a6-399dae20c15a","tagName":"text"},{"elementId":"e12b31bc-620f-4392-9314-f02e037d824e","tagName":"text"},{"elementId":"3d4157ec-8834-4391-b2d5-add2ea21c5b8","tagName":"text"},{"elementId":"42cb7c70-cd73-4541-86d2-adc9c4b48c72","tagName":"text"},{"elementId":"a338687c-2b9e-4393-8e80-db7f2237a9c6","tagName":"text"},{"elementId":"e66b225c...
INFO  2023-08-23 15:59:26,665 page.py    _get_elements_by_css 564 find elements success: [<minium.miniprogram.base_driver.element.BaseElement object at 0x0000021C30362AA0>]
DEBUG 2023-08-23 15:59:26,666 connection.py _safely_send    417 SEND > {"id":"5f386257-b6bb-4b84-b2ed-9c134373083c","method":"Element.tap","params":{"elementId":"8d971639-8a58-4241-bd06-7713b57c3e94","pageId":26}}
DEBUG 2023-08-23 15:59:26,758 connection.py _on_message     652 RECV < {"id":"5f386257-b6bb-4b84-b2ed-9c134373083c","result":{}}
DEBUG 2023-08-23 15:59:27,372 connection.py _on_message     652 RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":103,"path":"pages/common/selected_city","query":{},"openType":"navigateTo","__ts__":1692777567350},1692777567352]}}
INFO  2023-08-23 15:59:27,378 app.py     _on_route_changed 845 Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 103, 'path': 'pages/common/selected_city', 'query': {}, 'openType': 'navigateTo', '__ts__': 1692777567350}, 1692777567352]}
DEBUG 2023-08-23 15:59:27,548 connection.py _on_message     650 RECV < {"method":"App.exceptionThrown","params":{"message":"_this.setLocationData is not a function","stack":"TypeError: _this.setLocationData is not a function\n    at Object.success (http://127.0.0.1:29252/appservice/pages/common/selected_city.js?t=wechat&s=1692762371060&v=9645cfe03f84cc02692ef5cb9c6738fb:182:31)\n    at Object.handleData (http://127.0.0.1:29252/appservice/common/vendor.js?t=wechat&s=1692762371060&v=89b5c89f382fa501a7bab0cabe2e6de7:12607:15)\n    at options.success (http://127.0.0.1:29252/app...
INFO  2023-08-23 15:59:28,768 basenative.py wrapper         24  call IdeNative.handle_modal
INFO  2023-08-23 15:59:28,769 basenative.py wrapper         24  call IdeNative.send
DEBUG 2023-08-23 15:59:28,770 connection.py _safely_send    417 SEND > {"id":"e9927553-d8e1-48e7-9f45-dbaaba92cc8c","method":"Tool.native","params":{"method":"confirmModal","data":null}}
DEBUG 2023-08-23 15:59:28,772 connection.py _on_message     652 RECV < {"id":"e9927553-d8e1-48e7-9f45-dbaaba92cc8c","result":{"error":{"message":"confirmModal failed"}}}
WARNI 2023-08-23 15:59:28,773 idenative.py send            65  handle confirmModal error: confirmModal failed
INFO  2023-08-23 15:59:28,773 basenative.py wrapper         28  call IdeNative.send end
INFO  2023-08-23 15:59:28,774 basenative.py wrapper         27  IdeNative.handle_modal return {'id': 'e9927553-d8e1-48e7-9f45-dbaaba92cc8c', 'result': {'error': {'message': 'confirmModal failed'}}}
INFO  2023-08-23 15:59:28,774 basenative.py wrapper         28  call IdeNative.handle_modal end
DEBUG 2023-08-23 15:59:28,775 connection.py _safely_send    417 SEND > {"id":"99696316-32da-4f67-9830-712762f520f4","method":"Page.getElementsByXpath","params":{"selector":"/view/biz-index-head/view/view","pageId":103}}
DEBUG 2023-08-23 15:59:28,781 connection.py _on_message     652 RECV < {"id":"99696316-32da-4f67-9830-712762f520f4","result":{"elements":[]}}
DEBUG 2023-08-23 15:59:30,798 connection.py _safely_send    417 SEND > {"id":"a8eac8e3-4bbb-41f2-9cc7-a1a5ed981a23","method":"Page.getElementsByXpath","params":{"selector":"/lee-select-city/view/view/view/scroll-view[1]/view/view[2]","pageId":103}}
DEBUG 2023-08-23 15:59:30,805 connection.py _on_message     652 RECV < {"id":"a8eac8e3-4bbb-41f2-9cc7-a1a5ed981a23","result":{"elements":[{"elementId":"ce76a9b1-29f7-4951-b143-aed73fa6dff5","tagName":"view"}]}}
DEBUG 2023-08-23 15:59:30,807 connection.py _safely_send    417 SEND > {"id":"287b88e8-f801-4590-a8ef-c41a14b6efb1","method":"Element.getStyles","params":{"names":["pointer-events"],"elementId":"ce76a9b1-29f7-4951-b143-aed73fa6dff5","pageId":103}}
DEBUG 2023-08-23 15:59:30,811 connection.py _on_message     652 RECV < {"id":"287b88e8-f801-4590-a8ef-c41a14b6efb1","result":{"styles":["auto"]}}
DEBUG 2023-08-23 15:59:30,813 connection.py _safely_send    417 SEND > {"id":"2e4f0af1-ee66-44f3-a7c6-665cd48524fc","method":"Element.tap","params":{"elementId":"ce76a9b1-29f7-4951-b143-aed73fa6dff5","pageId":103}}
DEBUG 2023-08-23 15:59:30,822 connection.py _on_message     652 RECV < {"id":"2e4f0af1-ee66-44f3-a7c6-665cd48524fc","result":{}}
DEBUG 2023-08-23 15:59:33,839 connection.py _safely_send    417 SEND > {"id":"076e65d3-ad07-4afe-b5ee-2dedfaaeafa6","method":"Page.getElementsByXpath","params":{"selector":"/lee-select-city/view/view/view/scroll-view[1]/view/lee-latter-list/view/view[1]/view[2]/view[1]","pageId":103}}
DEBUG 2023-08-23 15:59:33,846 connection.py _on_message     652 RECV < {"id":"076e65d3-ad07-4afe-b5ee-2dedfaaeafa6","result":{"elements":[{"elementId":"c81b26b1-5998-4cbf-bcbc-5b4a800c48c8","tagName":"view"}]}}
DEBUG 2023-08-23 15:59:33,847 connection.py _safely_send    417 SEND > {"id":"04714c6b-cda6-49c9-ae25-c4018ee63c68","method":"Element.getStyles","params":{"names":["pointer-events"],"elementId":"c81b26b1-5998-4cbf-bcbc-5b4a800c48c8","pageId":103}}
DEBUG 2023-08-23 15:59:33,852 connection.py _on_message     652 RECV < {"id":"04714c6b-cda6-49c9-ae25-c4018ee63c68","result":{"styles":["auto"]}}
DEBUG 2023-08-23 15:59:33,853 connection.py _safely_send    417 SEND > {"id":"b0b50f4f-7a33-4c12-98d7-2afb90ec2b2f","method":"Element.tap","params":{"elementId":"c81b26b1-5998-4cbf-bcbc-5b4a800c48c8","pageId":103}}
DEBUG 2023-08-23 15:59:33,881 connection.py _on_message     652 RECV < {"id":"b0b50f4f-7a33-4c12-98d7-2afb90ec2b2f","result":{}}
DEBUG 2023-08-23 15:59:36,912 connection.py _safely_send    417 SEND > {"id":"aa12ce0b-a101-49d9-afd2-62f4d5c10ec6","method":"Page.getElementsByXpath","params":{"selector":"/lee-select-city/view/view[2]/view/scroll-view[2]/view/lee-latter-list/view/view[1]/view[2]/view","pageId":103}}
DEBUG 2023-08-23 15:59:36,917 connection.py _on_message     652 RECV < {"id":"aa12ce0b-a101-49d9-afd2-62f4d5c10ec6","result":{"elements":[{"elementId":"43180aca-a887-491e-b6ec-32ecf9052f0c","tagName":"view"}]}}
DEBUG 2023-08-23 15:59:36,918 connection.py _safely_send    417 SEND > {"id":"72f19492-ace6-4b9f-bf61-60b1794e0906","method":"Element.getStyles","params":{"names":["pointer-events"],"elementId":"43180aca-a887-491e-b6ec-32ecf9052f0c","pageId":103}}
DEBUG 2023-08-23 15:59:36,924 connection.py _on_message     652 RECV < {"id":"72f19492-ace6-4b9f-bf61-60b1794e0906","result":{"styles":["auto"]}}
DEBUG 2023-08-23 15:59:36,925 connection.py _safely_send    417 SEND > {"id":"fb3c026a-4867-4acc-b8f0-7430c2419c45","method":"Element.tap","params":{"elementId":"43180aca-a887-491e-b6ec-32ecf9052f0c","pageId":103}}
DEBUG 2023-08-23 15:59:36,968 connection.py _on_message     652 RECV < {"id":"fb3c026a-4867-4acc-b8f0-7430c2419c45","result":{}}
DEBUG 2023-08-23 15:59:39,992 minitest.py _miniTearDown   589 =========Current case Down: test_handle_modal_01=========
INFO  2023-08-23 15:59:39,993 minitest.py capture         686 capture teardown.png
INFO  2023-08-23 15:59:39,993 basenative.py wrapper         24  call IdeNative.screen_shot
DEBUG 2023-08-23 15:59:39,993 connection.py _safely_send    417 SEND > {"id":"6f20eb34-902a-4bed-b9d0-127fa1a9e6c2","method":"App.captureScreenshot","params":{}}
DEBUG 2023-08-23 15:59:40,146 connection.py _on_message     650 RECV < {"id":"6f20eb34-902a-4bed-b9d0-127fa1a9e6c2","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAawAAANDCAIAAAB+J7yFAAAAAXNSR0IArs4c6QAAIABJREFUeJzs3VlsHedh//3ZZ86+L9x5SIqbqJWyZS2WFadxEjuJEwco2rhL3AZN8b7ogqItUAQFAhRoLtrLtMA/CVK0yZtmqWs7dh3bsaRItixbokRxFUVxEdez7/tsz3sxySn/kmxLFC3Rmt/nypwzq4F888zMc45pQggFAGBKhBDmfp8DAMD9hAgCgKkhggBgaoggAJgaIggApoYIAoCpIYIAYGqIIACYGiIIAKaGCAKAqSGCAGBqiCAAmBoiCACmhggCgKkhggBgatydblBR63VdERneyokfxQkBANxLdzwS1Imu6ZpO6R/F2QAA3GM0flkaAEwLvywNAGaHCAKAqSGCAGBqiCAAmBoiCACmhggCgKkhggBgaoggAJ...
INFO  2023-08-23 15:59:40,149 basenative.py wrapper         28  call IdeNative.screen_shot end
INFO  2023-08-23 15:59:40,149 basenative.py wrapper         24  call BaseNative.get_start_up
INFO  2023-08-23 15:59:40,150 basenative.py wrapper         28  call BaseNative.get_start_up end
