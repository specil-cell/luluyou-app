INFO  2023-08-23 16:56:26,046 minitest.py _miniSetUp      340 =========Current case: test_handle_modal_01=========
INFO  2023-08-23 16:56:26,047 minitest.py _miniSetUp      343 package info: D:.路路游小程序.tests.test_login, case info: TestShouYe_1.test_handle_modal_01
INFO  2023-08-23 16:56:26,047 basenative.py wrapper         24  call BaseNative.check_connection
INFO  2023-08-23 16:56:26,048 basenative.py wrapper         28  call BaseNative.check_connection end
INFO  2023-08-23 16:56:26,049 minitest.py capture         686 capture setup.png
INFO  2023-08-23 16:56:26,049 basenative.py wrapper         24  call IdeNative.screen_shot
DEBUG 2023-08-23 16:56:26,050 connection.py _safely_send    417 SEND > {"id":"113f93bb-9ba9-446a-946d-b10d7d460834","method":"App.captureScreenshot","params":{}}
DEBUG 2023-08-23 16:56:26,688 connection.py _on_message     650 RECV < {"id":"113f93bb-9ba9-446a-946d-b10d7d460834","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAawAAAOeCAIAAADQh7N0AAAAAXNSR0IArs4c6QAAIABJREFUeJzsvVlsHNmZ53vOiT0yct+5JUmRIimppNJWUqmsskq2y3bbZburqu32dM/0LBgDAzQw6Pt0gXmZey8w8zL3YQZo4N4ZXKANjN12e1zldpeXWlxWValUi/adEneKO5O5Z+xxzn0IiUVxEzPJJDPF8wMhUMnIiBNn+cf3nfOdL+D/TghoQOBOF6BSNl5g8uhng6eFGz55RWeuHRsvMIVSa+KEsOZOF6IKGnEIVVTmSkVw46cF9SGClG2gRvW84/1na7EAYPWdLkQVNOIoqqjMlepaRexs7dWJED/11LSVn5rmgwCYALD2TpejahpRCjdIpWZjLU5bO56aIVT/bHmLP31tZwPA4p0uRBW4Tfv0tYcLrPzWNu471w...
INFO  2023-08-23 16:56:26,692 basenative.py wrapper         28  call IdeNative.screen_shot end
INFO  2023-08-23 16:56:26,693 minitest.py _miniSetUp      393 =========case: test_handle_modal_01 start=========
DEBUG 2023-08-23 16:56:26,694 connection.py _safely_send    417 SEND > {"id":"400b9732-91d2-48c4-9764-e6377e0ae0d8","method":"App.addBinding","params":{"name":"showModal_super_callback"}}
DEBUG 2023-08-23 16:56:26,696 connection.py _on_message     652 RECV < {"id":"400b9732-91d2-48c4-9764-e6377e0ae0d8","result":{}}
DEBUG 2023-08-23 16:56:26,699 connection.py _safely_send    417 SEND > {"id":"73fd17ad-59fd-4f6a-ad70-648d3583d818","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethod(){var e,_=wx._MINI_WX_PROXY_||wx;_.showModal_MiniumOrigin?e=_.showModal_MiniumOrigin:(e=_.showModal,Object.defineProperty(_,\"showModal_MiniumOrigin\",{configurable:!0,get:()=>e})),Object.defineProperty(_,\"showModal\",{configurable:!0,get:()=>function(..._){var t,n=_[0],$=!1;if(\"showModal\".endsWith(\"Sync\")||n&&(n.success||n.fail||n.complete)||($=!0),\"undefined\"!=typeof showModal_super_before&&showModal_super_before(..._),\"undefined\"!=typeof showModal_super_callback)if($)t=e(..._).then((function(e){return showModal_super_callback(e),e})).catch((function(e){throw showModal_super_callback(e),e}));else{if(n){var o=n.complete;n.complete=function(e){showModal_super_callback(e),o&&o(e)}}t=e(..._)}else t=e(..._);return\"undefined\"!=typeof showModal_super_after&&showModal_super_after(t),t}})}","args":[]}}
DEBUG 2023-08-23 16:56:26,702 connection.py _on_message     652 RECV < {"id":"73fd17ad-59fd-4f6a-ad70-648d3583d818","result":{}}
DEBUG 2023-08-23 16:56:26,704 connection.py _safely_send    417 SEND > {"id":"679bb099-af2f-424c-8131-367471227e79","method":"App.getCurrentPage","params":{}}
DEBUG 2023-08-23 16:56:26,710 connection.py _on_message     652 RECV < {"id":"679bb099-af2f-424c-8131-367471227e79","result":{"pageId":95,"path":"pages/index/index","query":{}}}
INFO  2023-08-23 16:56:26,712 page.py    _get_elements_by_css 557 try to get elements: text="当前为测试模拟环境，请勿进行真实业务行为!"
DEBUG 2023-08-23 16:56:26,713 connection.py _safely_send    417 SEND > {"id":"e50965ba-f6f6-48e3-99f5-6638a6a8e27f","method":"Page.getElements","params":{"selector":"text=\"\u5f53\u524d\u4e3a\u6d4b\u8bd5\u6a21\u62df\u73af\u5883\uff0c\u8bf7\u52ff\u8fdb\u884c\u771f\u5b9e\u4e1a\u52a1\u884c\u4e3a!\"","pageId":95}}
DEBUG 2023-08-23 16:56:26,722 connection.py _on_message     650 RECV < {"id":"e50965ba-f6f6-48e3-99f5-6638a6a8e27f","result":{"elements":[{"elementId":"216c4d72-f799-4a2d-8876-a2d2e8f2db1d","tagName":"text"},{"elementId":"25811caf-49ad-4786-83e2-049de5296e1a","tagName":"text"},{"elementId":"63737e40-aa28-47b1-a193-2a338319cdc7","tagName":"text"},{"elementId":"32f4a8ee-01cd-4316-b8b5-540c83d815cb","tagName":"text"},{"elementId":"92e82da4-7350-43f2-96dc-7b1937f83062","tagName":"text"},{"elementId":"29c7b5b6-88e1-4bb6-a43a-951c1c9b0306","tagName":"text"},{"elementId":"5f55676d...
INFO  2023-08-23 16:56:26,724 page.py    _get_elements_by_css 564 find elements success: [<minium.miniprogram.base_driver.element.BaseElement object at 0x0000025528FC94E0>]
DEBUG 2023-08-23 16:56:26,724 connection.py _safely_send    417 SEND > {"id":"43d154da-03e4-4414-895a-18097cdaf8e1","method":"Element.tap","params":{"elementId":"216c4d72-f799-4a2d-8876-a2d2e8f2db1d","pageId":95}}
DEBUG 2023-08-23 16:56:26,797 connection.py _on_message     652 RECV < {"id":"43d154da-03e4-4414-895a-18097cdaf8e1","result":{}}
DEBUG 2023-08-23 16:56:27,432 connection.py _on_message     652 RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":145,"path":"pages/common/selected_city","query":{},"openType":"navigateTo","__ts__":1692780987406},1692780987407]}}
INFO  2023-08-23 16:56:27,440 app.py     _on_route_changed 845 Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 145, 'path': 'pages/common/selected_city', 'query': {}, 'openType': 'navigateTo', '__ts__': 1692780987406}, 1692780987407]}
DEBUG 2023-08-23 16:56:27,725 connection.py _on_message     650 RECV < {"method":"App.exceptionThrown","params":{"message":"_this.setLocationData is not a function","stack":"TypeError: _this.setLocationData is not a function\n    at Object.success (http://127.0.0.1:29252/appservice/pages/common/selected_city.js?t=wechat&s=1692762371060&v=9645cfe03f84cc02692ef5cb9c6738fb:182:31)\n    at Object.handleData (http://127.0.0.1:29252/appservice/common/vendor.js?t=wechat&s=1692762371060&v=89b5c89f382fa501a7bab0cabe2e6de7:12607:15)\n    at options.success (http://127.0.0.1:29252/app...
INFO  2023-08-23 16:56:28,804 basenative.py wrapper         24  call IdeNative.handle_modal
INFO  2023-08-23 16:56:28,806 basenative.py wrapper         24  call IdeNative.send
DEBUG 2023-08-23 16:56:28,806 connection.py _safely_send    417 SEND > {"id":"6714dfd9-8fdb-45c9-a0db-ffc77fe68303","method":"Tool.native","params":{"method":"confirmModal","data":null}}
DEBUG 2023-08-23 16:56:28,809 connection.py _on_message     652 RECV < {"id":"6714dfd9-8fdb-45c9-a0db-ffc77fe68303","result":{"error":{"message":"confirmModal failed"}}}
WARNI 2023-08-23 16:56:28,810 idenative.py send            65  handle confirmModal error: confirmModal failed
INFO  2023-08-23 16:56:28,810 basenative.py wrapper         28  call IdeNative.send end
INFO  2023-08-23 16:56:28,811 basenative.py wrapper         27  IdeNative.handle_modal return {'id': '6714dfd9-8fdb-45c9-a0db-ffc77fe68303', 'result': {'error': {'message': 'confirmModal failed'}}}
INFO  2023-08-23 16:56:28,811 basenative.py wrapper         28  call IdeNative.handle_modal end
DEBUG 2023-08-23 16:56:28,812 connection.py _safely_send    417 SEND > {"id":"3d7b2ef7-260e-4758-98b5-9425d03313b5","method":"Page.getElementsByXpath","params":{"selector":"/view/biz-index-head/view/view","pageId":145}}
DEBUG 2023-08-23 16:56:28,821 connection.py _on_message     652 RECV < {"id":"3d7b2ef7-260e-4758-98b5-9425d03313b5","result":{"elements":[]}}
DEBUG 2023-08-23 16:56:30,823 connection.py _safely_send    417 SEND > {"id":"b1b00084-2315-4e73-84ce-fec7619dcb8f","method":"Page.getElementsByXpath","params":{"selector":"/lee-select-city/view/view/view/scroll-view[1]/view/view[2]","pageId":145}}
DEBUG 2023-08-23 16:56:30,829 connection.py _on_message     652 RECV < {"id":"b1b00084-2315-4e73-84ce-fec7619dcb8f","result":{"elements":[{"elementId":"4183c8e9-032d-4b00-8fcc-9e16d62f9025","tagName":"view"}]}}
DEBUG 2023-08-23 16:56:30,830 connection.py _safely_send    417 SEND > {"id":"3b0c5bb9-7400-4986-aeb6-ad8219dc338f","method":"Element.getStyles","params":{"names":["pointer-events"],"elementId":"4183c8e9-032d-4b00-8fcc-9e16d62f9025","pageId":145}}
DEBUG 2023-08-23 16:56:30,833 connection.py _on_message     652 RECV < {"id":"3b0c5bb9-7400-4986-aeb6-ad8219dc338f","result":{"styles":["auto"]}}
DEBUG 2023-08-23 16:56:30,835 connection.py _safely_send    417 SEND > {"id":"a21c3409-a053-4bd4-a06e-8c0b1bb1b64c","method":"Element.tap","params":{"elementId":"4183c8e9-032d-4b00-8fcc-9e16d62f9025","pageId":145}}
DEBUG 2023-08-23 16:56:30,857 connection.py _on_message     652 RECV < {"id":"a21c3409-a053-4bd4-a06e-8c0b1bb1b64c","result":{}}
DEBUG 2023-08-23 16:56:33,873 connection.py _safely_send    417 SEND > {"id":"7a42f664-b30e-4e2b-baaf-1f1e8b05b24a","method":"Page.getElementsByXpath","params":{"selector":"/lee-select-city/view/view/view/scroll-view[1]/view/lee-latter-list/view/view[1]/view[2]/view[1]","pageId":145}}
DEBUG 2023-08-23 16:56:33,879 connection.py _on_message     652 RECV < {"id":"7a42f664-b30e-4e2b-baaf-1f1e8b05b24a","result":{"elements":[{"elementId":"d108ae99-fd53-4296-8644-7b39a76be94a","tagName":"view"}]}}
DEBUG 2023-08-23 16:56:33,880 connection.py _safely_send    417 SEND > {"id":"6b921b93-1a20-4559-9723-481250de687d","method":"Element.getStyles","params":{"names":["pointer-events"],"elementId":"d108ae99-fd53-4296-8644-7b39a76be94a","pageId":145}}
DEBUG 2023-08-23 16:56:33,883 connection.py _on_message     652 RECV < {"id":"6b921b93-1a20-4559-9723-481250de687d","result":{"styles":["auto"]}}
DEBUG 2023-08-23 16:56:33,885 connection.py _safely_send    417 SEND > {"id":"07ae7882-5af8-4857-a953-91c730eda9e7","method":"Element.tap","params":{"elementId":"d108ae99-fd53-4296-8644-7b39a76be94a","pageId":145}}
DEBUG 2023-08-23 16:56:33,940 connection.py _on_message     652 RECV < {"id":"07ae7882-5af8-4857-a953-91c730eda9e7","result":{}}
DEBUG 2023-08-23 16:56:36,956 connection.py _safely_send    417 SEND > {"id":"d4edc45e-6bb0-49e3-9ace-9d6f238a6e83","method":"Page.getElementsByXpath","params":{"selector":"/lee-select-city/view/view[2]/view/scroll-view[2]/view/lee-latter-list/view/view[1]/view[2]/view","pageId":145}}
DEBUG 2023-08-23 16:56:36,961 connection.py _on_message     652 RECV < {"id":"d4edc45e-6bb0-49e3-9ace-9d6f238a6e83","result":{"elements":[{"elementId":"9cf4dcf3-d56f-4510-8e68-f3165bacc33b","tagName":"view"}]}}
DEBUG 2023-08-23 16:56:36,962 connection.py _safely_send    417 SEND > {"id":"0260edae-93f9-40f5-8a9f-ad46268b9b66","method":"Element.getStyles","params":{"names":["pointer-events"],"elementId":"9cf4dcf3-d56f-4510-8e68-f3165bacc33b","pageId":145}}
DEBUG 2023-08-23 16:56:36,969 connection.py _on_message     652 RECV < {"id":"0260edae-93f9-40f5-8a9f-ad46268b9b66","result":{"styles":["auto"]}}
DEBUG 2023-08-23 16:56:36,971 connection.py _safely_send    417 SEND > {"id":"e25fdf62-10af-4b93-90ac-68e84bbae803","method":"Element.tap","params":{"elementId":"9cf4dcf3-d56f-4510-8e68-f3165bacc33b","pageId":145}}
DEBUG 2023-08-23 16:56:36,997 connection.py _on_message     652 RECV < {"id":"e25fdf62-10af-4b93-90ac-68e84bbae803","result":{}}
DEBUG 2023-08-23 16:56:40,012 minitest.py _miniTearDown   589 =========Current case Down: test_handle_modal_01=========
INFO  2023-08-23 16:56:40,014 minitest.py capture         686 capture teardown.png
INFO  2023-08-23 16:56:40,016 basenative.py wrapper         24  call IdeNative.screen_shot
DEBUG 2023-08-23 16:56:40,017 connection.py _safely_send    417 SEND > {"id":"1035f670-0320-4309-a71b-7b92a880d10d","method":"App.captureScreenshot","params":{}}
DEBUG 2023-08-23 16:56:40,159 connection.py _on_message     650 RECV < {"id":"1035f670-0320-4309-a71b-7b92a880d10d","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAawAAANDCAIAAAB+J7yFAAAAAXNSR0IArs4c6QAAIABJREFUeJzs3VlsHedh//3ZZ86+L9x5SIqbqJWyZS2WFadxEjuJEwco2rhL3AZN8b7ogqItUAQFAhRoLtrLtMA/CVK0yZtmqWs7dh3bsaRItixbokRxFUVxEdez7/tsz3sxySn/kmxLFC3Rmt/nypwzq4F888zMc45pQggFAGBKhBDmfp8DAMD9hAgCgKkhggBgaoggAJgaIggApoYIAoCpIYIAYGqIIACYGiIIAKaGCAKAqSGCAGBqiCAAmBoiCACmhggCgKkhggBgatydblBR63VdERneyokfxQkBANxLdzwS1Imu6ZpO6R/F2QAA3GM0flkaAEwLvywNAGaHCAKAqSGCAGBqiCAAmBoiCACmhggCgKkhggBgaoggAJ...
INFO  2023-08-23 16:56:40,161 basenative.py wrapper         28  call IdeNative.screen_shot end
INFO  2023-08-23 16:56:40,162 basenative.py wrapper         24  call BaseNative.get_start_up
INFO  2023-08-23 16:56:40,162 basenative.py wrapper         28  call BaseNative.get_start_up end
