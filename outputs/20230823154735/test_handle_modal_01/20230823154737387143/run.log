INFO  2023-08-23 15:47:37,388 minitest.py _miniSetUp      340 =========Current case: test_handle_modal_01=========
INFO  2023-08-23 15:47:37,389 minitest.py _miniSetUp      343 package info: D:.路路游小程序.tests.test_login, case info: TestShouYe_1.test_handle_modal_01
INFO  2023-08-23 15:47:37,390 basenative.py wrapper         24  call BaseNative.check_connection
INFO  2023-08-23 15:47:37,391 basenative.py wrapper         28  call BaseNative.check_connection end
INFO  2023-08-23 15:47:37,392 minitest.py capture         686 capture setup.png
INFO  2023-08-23 15:47:37,392 basenative.py wrapper         24  call IdeNative.screen_shot
DEBUG 2023-08-23 15:47:37,394 connection.py _safely_send    417 SEND > {"id":"dc8277a7-3a51-4537-ba6e-597c3f06bdae","method":"App.captureScreenshot","params":{}}
DEBUG 2023-08-23 15:47:38,813 connection.py _on_message     650 RECV < {"id":"dc8277a7-3a51-4537-ba6e-597c3f06bdae","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAawAAAOeCAIAAADQh7N0AAAAAXNSR0IArs4c6QAAIABJREFUeJyMvdGSJLutJOgOMDK7pStdSTNm8zBm+7Cfsb+zv7F/rbmnKzMI+DwAZERWnzHb0lF3dVVmBIMEHQ4HiOT/8//+fyBJAiQoISLnnBHKzExBcNqw4WZu7u4gU5mZEZGZkiTRrK4jSEBmzjnnnJFBGs1M6TlH5mP4X/7yl7/8/Kuk93me55lKH8PGMHeQdD+Ox/PH8/l8RuTX6/V6vSSYmZmBkkJKggQkzXm+Xl/v1ytjZkTEOc/zPN/zPI0gOdyOYzwfj+M4AAEyMz8ex/OHj/F+v1+v1zlnZgoAYebug6SklAC4u7sfx/HXv/71r3/9K8mvr6+vr6/X61U3i0wAAMx4HOMYA1LMmZkkno/xOA53MyOhmPP19e...
INFO  2023-08-23 15:47:38,817 basenative.py wrapper         28  call IdeNative.screen_shot end
INFO  2023-08-23 15:47:38,819 minitest.py _miniSetUp      393 =========case: test_handle_modal_01 start=========
DEBUG 2023-08-23 15:47:38,820 connection.py _safely_send    417 SEND > {"id":"641e6bb7-3138-4b54-86da-7906be17b70a","method":"App.addBinding","params":{"name":"showModal_super_callback"}}
DEBUG 2023-08-23 15:47:38,822 connection.py _on_message     652 RECV < {"id":"641e6bb7-3138-4b54-86da-7906be17b70a","result":{}}
DEBUG 2023-08-23 15:47:38,825 connection.py _safely_send    417 SEND > {"id":"d99a1689-9343-45a4-b760-53e0c4fcb24c","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethod(){var e,_=wx._MINI_WX_PROXY_||wx;_.showModal_MiniumOrigin?e=_.showModal_MiniumOrigin:(e=_.showModal,Object.defineProperty(_,\"showModal_MiniumOrigin\",{configurable:!0,get:()=>e})),Object.defineProperty(_,\"showModal\",{configurable:!0,get:()=>function(..._){var t,n=_[0],$=!1;if(\"showModal\".endsWith(\"Sync\")||n&&(n.success||n.fail||n.complete)||($=!0),\"undefined\"!=typeof showModal_super_before&&showModal_super_before(..._),\"undefined\"!=typeof showModal_super_callback)if($)t=e(..._).then((function(e){return showModal_super_callback(e),e})).catch((function(e){throw showModal_super_callback(e),e}));else{if(n){var o=n.complete;n.complete=function(e){showModal_super_callback(e),o&&o(e)}}t=e(..._)}else t=e(..._);return\"undefined\"!=typeof showModal_super_after&&showModal_super_after(t),t}})}","args":[]}}
DEBUG 2023-08-23 15:47:38,828 connection.py _on_message     652 RECV < {"id":"d99a1689-9343-45a4-b760-53e0c4fcb24c","result":{}}
DEBUG 2023-08-23 15:47:38,829 connection.py _safely_send    417 SEND > {"id":"37684c98-272d-4a52-804f-7cf148cc3c1c","method":"App.getCurrentPage","params":{}}
DEBUG 2023-08-23 15:47:38,832 connection.py _on_message     652 RECV < {"id":"37684c98-272d-4a52-804f-7cf148cc3c1c","result":{"pageId":10,"path":"pages/index/index","query":{}}}
INFO  2023-08-23 15:47:38,834 page.py    _get_elements_by_css 557 try to get elements: text="当前为测试模拟环境，请勿进行真实业务行为!"
DEBUG 2023-08-23 15:47:38,835 connection.py _safely_send    417 SEND > {"id":"1be101f0-ceac-4c8a-9eb4-b2ff4643bdc8","method":"Page.getElements","params":{"selector":"text=\"\u5f53\u524d\u4e3a\u6d4b\u8bd5\u6a21\u62df\u73af\u5883\uff0c\u8bf7\u52ff\u8fdb\u884c\u771f\u5b9e\u4e1a\u52a1\u884c\u4e3a!\"","pageId":10}}
DEBUG 2023-08-23 15:47:38,844 connection.py _on_message     650 RECV < {"id":"1be101f0-ceac-4c8a-9eb4-b2ff4643bdc8","result":{"elements":[{"elementId":"871137f6-99f9-4d2e-86e6-6cfe729c92c1","tagName":"text"},{"elementId":"a6ba9f27-86ba-452c-b6af-afafcecfbae4","tagName":"text"},{"elementId":"40353157-39c7-4bf4-ad34-a3b108d672b4","tagName":"text"},{"elementId":"74b8264e-4795-4ab9-b4c2-515a2f258042","tagName":"text"},{"elementId":"e5b1b089-d694-4a7b-a598-0d11132cc220","tagName":"text"},{"elementId":"0d75b9c8-40ba-45fc-83fa-e018c04f1362","tagName":"text"},{"elementId":"22132ed0...
INFO  2023-08-23 15:47:38,845 page.py    _get_elements_by_css 564 find elements success: [<minium.miniprogram.base_driver.element.BaseElement object at 0x0000029602CE2890>]
DEBUG 2023-08-23 15:47:38,846 connection.py _safely_send    417 SEND > {"id":"473f375f-6ebe-4ec1-a418-a80e00b3a1c1","method":"Element.tap","params":{"elementId":"871137f6-99f9-4d2e-86e6-6cfe729c92c1","pageId":10}}
DEBUG 2023-08-23 15:47:38,910 connection.py _on_message     652 RECV < {"id":"473f375f-6ebe-4ec1-a418-a80e00b3a1c1","result":{}}
DEBUG 2023-08-23 15:47:39,419 connection.py _on_message     652 RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":78,"path":"pages/common/selected_city","query":{},"openType":"navigateTo","__ts__":1692776859407},1692776859409]}}
INFO  2023-08-23 15:47:39,422 app.py     _on_route_changed 845 Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 78, 'path': 'pages/common/selected_city', 'query': {}, 'openType': 'navigateTo', '__ts__': 1692776859407}, 1692776859409]}
DEBUG 2023-08-23 15:47:39,689 connection.py _on_message     650 RECV < {"method":"App.exceptionThrown","params":{"message":"_this.setLocationData is not a function","stack":"TypeError: _this.setLocationData is not a function\n    at Object.success (http://127.0.0.1:29252/appservice/pages/common/selected_city.js?t=wechat&s=1692762371060&v=9645cfe03f84cc02692ef5cb9c6738fb:182:31)\n    at Object.handleData (http://127.0.0.1:29252/appservice/common/vendor.js?t=wechat&s=1692762371060&v=89b5c89f382fa501a7bab0cabe2e6de7:12607:15)\n    at options.success (http://127.0.0.1:29252/app...
INFO  2023-08-23 15:47:40,914 basenative.py wrapper         24  call IdeNative.handle_modal
INFO  2023-08-23 15:47:40,916 basenative.py wrapper         24  call IdeNative.send
DEBUG 2023-08-23 15:47:40,918 connection.py _safely_send    417 SEND > {"id":"7c7941a7-1289-47e7-8e03-abcb2f200e21","method":"Tool.native","params":{"method":"confirmModal","data":null}}
DEBUG 2023-08-23 15:47:40,921 connection.py _on_message     652 RECV < {"id":"7c7941a7-1289-47e7-8e03-abcb2f200e21","result":{"error":{"message":"confirmModal failed"}}}
WARNI 2023-08-23 15:47:40,922 idenative.py send            65  handle confirmModal error: confirmModal failed
INFO  2023-08-23 15:47:40,922 basenative.py wrapper         28  call IdeNative.send end
INFO  2023-08-23 15:47:40,923 basenative.py wrapper         27  IdeNative.handle_modal return {'id': '7c7941a7-1289-47e7-8e03-abcb2f200e21', 'result': {'error': {'message': 'confirmModal failed'}}}
INFO  2023-08-23 15:47:40,923 basenative.py wrapper         28  call IdeNative.handle_modal end
DEBUG 2023-08-23 15:47:40,924 connection.py _safely_send    417 SEND > {"id":"32c1bb6e-079c-4973-ad01-ac4fbf1afa60","method":"Page.getElementsByXpath","params":{"selector":"/view/biz-index-head/view/view","pageId":78}}
DEBUG 2023-08-23 15:47:40,930 connection.py _on_message     652 RECV < {"id":"32c1bb6e-079c-4973-ad01-ac4fbf1afa60","result":{"elements":[]}}
DEBUG 2023-08-23 15:47:42,938 connection.py _safely_send    417 SEND > {"id":"37039897-a5e3-4f0d-988a-bbddf4488c8f","method":"Page.getElementsByXpath","params":{"selector":"/lee-select-city/view/view/view/scroll-view[1]/view/view[2]","pageId":78}}
DEBUG 2023-08-23 15:47:42,943 connection.py _on_message     652 RECV < {"id":"37039897-a5e3-4f0d-988a-bbddf4488c8f","result":{"elements":[{"elementId":"43826f41-d528-47c3-83f4-b1dad740876e","tagName":"view"}]}}
DEBUG 2023-08-23 15:47:42,944 connection.py _safely_send    417 SEND > {"id":"93065f79-e0f0-4301-9c5a-179a6f73d924","method":"Element.getStyles","params":{"names":["pointer-events"],"elementId":"43826f41-d528-47c3-83f4-b1dad740876e","pageId":78}}
DEBUG 2023-08-23 15:47:42,948 connection.py _on_message     652 RECV < {"id":"93065f79-e0f0-4301-9c5a-179a6f73d924","result":{"styles":["auto"]}}
DEBUG 2023-08-23 15:47:42,949 connection.py _safely_send    417 SEND > {"id":"723143da-6630-492c-a608-7801c6aceeea","method":"Element.tap","params":{"elementId":"43826f41-d528-47c3-83f4-b1dad740876e","pageId":78}}
DEBUG 2023-08-23 15:47:42,957 connection.py _on_message     652 RECV < {"id":"723143da-6630-492c-a608-7801c6aceeea","result":{}}
DEBUG 2023-08-23 15:47:45,975 connection.py _safely_send    417 SEND > {"id":"fd7f273d-9887-4d5f-a5e0-e82ccaab65d5","method":"Page.getElementsByXpath","params":{"selector":"/lee-select-city/view/view/view/scroll-view[1]/view/lee-latter-list/view/view[1]/view[2]/view[1]","pageId":78}}
DEBUG 2023-08-23 15:47:45,981 connection.py _on_message     652 RECV < {"id":"fd7f273d-9887-4d5f-a5e0-e82ccaab65d5","result":{"elements":[{"elementId":"ef2eead0-da70-4b6a-8913-181b1f805e69","tagName":"view"}]}}
DEBUG 2023-08-23 15:47:45,982 connection.py _safely_send    417 SEND > {"id":"0f4a8f5d-e3e7-4812-aee3-69d06e364749","method":"Element.getStyles","params":{"names":["pointer-events"],"elementId":"ef2eead0-da70-4b6a-8913-181b1f805e69","pageId":78}}
DEBUG 2023-08-23 15:47:45,986 connection.py _on_message     652 RECV < {"id":"0f4a8f5d-e3e7-4812-aee3-69d06e364749","result":{"styles":["auto"]}}
DEBUG 2023-08-23 15:47:45,987 connection.py _safely_send    417 SEND > {"id":"c3b725bf-5368-4bd6-bcad-05e7793d7e4c","method":"Element.tap","params":{"elementId":"ef2eead0-da70-4b6a-8913-181b1f805e69","pageId":78}}
DEBUG 2023-08-23 15:47:46,002 connection.py _on_message     652 RECV < {"id":"c3b725bf-5368-4bd6-bcad-05e7793d7e4c","result":{}}
DEBUG 2023-08-23 15:47:49,008 connection.py _safely_send    417 SEND > {"id":"572399de-b389-49a4-8590-7430767613b9","method":"Page.getElementsByXpath","params":{"selector":"/lee-select-city/view/view[2]/view/scroll-view[2]/view/lee-latter-list/view/view[1]/view[2]/view","pageId":78}}
DEBUG 2023-08-23 15:47:49,015 connection.py _on_message     652 RECV < {"id":"572399de-b389-49a4-8590-7430767613b9","result":{"elements":[{"elementId":"3772039d-777e-4a86-a7f5-fcb623fbe3de","tagName":"view"}]}}
DEBUG 2023-08-23 15:47:49,017 connection.py _safely_send    417 SEND > {"id":"bb5f2e80-ce17-43c6-a503-c6b8fba017e6","method":"Element.getStyles","params":{"names":["pointer-events"],"elementId":"3772039d-777e-4a86-a7f5-fcb623fbe3de","pageId":78}}
DEBUG 2023-08-23 15:47:49,020 connection.py _on_message     652 RECV < {"id":"bb5f2e80-ce17-43c6-a503-c6b8fba017e6","result":{"styles":["auto"]}}
DEBUG 2023-08-23 15:47:49,021 connection.py _safely_send    417 SEND > {"id":"a46821d9-d553-49fc-af77-21bf762da628","method":"Element.tap","params":{"elementId":"3772039d-777e-4a86-a7f5-fcb623fbe3de","pageId":78}}
DEBUG 2023-08-23 15:47:49,059 connection.py _on_message     652 RECV < {"id":"a46821d9-d553-49fc-af77-21bf762da628","result":{}}
DEBUG 2023-08-23 15:47:52,072 minitest.py _miniTearDown   589 =========Current case Down: test_handle_modal_01=========
INFO  2023-08-23 15:47:52,073 minitest.py capture         686 capture teardown.png
INFO  2023-08-23 15:47:52,074 basenative.py wrapper         24  call IdeNative.screen_shot
DEBUG 2023-08-23 15:47:52,074 connection.py _safely_send    417 SEND > {"id":"4c14e1f6-755d-4b6f-a6fa-2f9b664b4424","method":"App.captureScreenshot","params":{}}
DEBUG 2023-08-23 15:47:52,223 connection.py _on_message     650 RECV < {"id":"4c14e1f6-755d-4b6f-a6fa-2f9b664b4424","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAawAAANDCAIAAAB+J7yFAAAAAXNSR0IArs4c6QAAIABJREFUeJzs3VlsHedh//3ZZ86+L9x5SIqbqJWyZS2WFadxEjuJEwco2rhL3AZN8b7ogqItUAQFAhRoLtrLtMA/CVK0yZtmqWs7dh3bsaRItixbokRxFUVxEdez7/tsz3sxySn/kmxLFC3Rmt/nypwzq4F888zMc45pQggFAGBKhBDmfp8DAMD9hAgCgKkhggBgaoggAJgaIggApoYIAoCpIYIAYGqIIACYGiIIAKaGCAKAqSGCAGBqiCAAmBoiCACmhggCgKkhggBgatydblBR63VdERneyokfxQkBANxLdzwS1Imu6ZpO6R/F2QAA3GM0flkaAEwLvywNAGaHCAKAqSGCAGBqiCAAmBoiCACmhggCgKkhggBgaoggAJ...
INFO  2023-08-23 15:47:52,225 basenative.py wrapper         28  call IdeNative.screen_shot end
INFO  2023-08-23 15:47:52,226 basenative.py wrapper         24  call BaseNative.get_start_up
INFO  2023-08-23 15:47:52,226 basenative.py wrapper         28  call BaseNative.get_start_up end
