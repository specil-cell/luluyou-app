INFO  2023-08-23 15:00:46,286 minitest.py _miniSetUp      340 =========Current case: test_handle_modal_01=========
INFO  2023-08-23 15:00:46,286 minitest.py _miniSetUp      343 package info: D:.路路游小程序.tests.test_login, case info: TestShouye_1.test_handle_modal_01
INFO  2023-08-23 15:00:46,287 basenative.py wrapper         24  call BaseNative.check_connection
INFO  2023-08-23 15:00:46,288 basenative.py wrapper         28  call BaseNative.check_connection end
INFO  2023-08-23 15:00:46,289 minitest.py capture         686 capture setup.png
INFO  2023-08-23 15:00:46,290 basenative.py wrapper         24  call IdeNative.screen_shot
DEBUG 2023-08-23 15:00:46,290 connection.py _safely_send    417 SEND > {"id":"e41bca65-c21e-46f7-8174-26f24982439f","method":"App.captureScreenshot","params":{}}
DEBUG 2023-08-23 15:00:46,931 connection.py _on_message     650 RECV < {"id":"e41bca65-c21e-46f7-8174-26f24982439f","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAawAAAOeCAIAAADQh7N0AAAAAXNSR0IArs4c6QAAIABJREFUeJzsvXlsHNmd5/mOODMj75P3IZIiJZXOUklWuS6VXeVqd7vscnX3zNjjnnED3RiggUYv+o8FZv+Y3QVm/pkFZgYYYD09C/Q21t1tuFxVdtvVVa77Vum+RYn3TSbzPiLjfG//CImmeImZYpKZ4vuAEKhkZMSLd3zj93vv934B/1dKQQMCd7oAlbL5AtN7P5s8Ldz0ySs6c+3YfIEZjFoTo5QzdroQVdCIQ6iiMlcqgps/LagPEWRsAzWq5x3vP1uLCQCn7XQhqqARR1FFZa5U1ypiZ2uvToT4kaemrfzINB8EwACAs3a6HFXTiFK4SSo1G2tx2trxyAyh+mfLW/zRazsLAI7sdCGqwGnaR689HGDlt7Z537lOeF...
INFO  2023-08-23 15:00:46,935 basenative.py wrapper         28  call IdeNative.screen_shot end
INFO  2023-08-23 15:00:46,935 minitest.py _miniSetUp      393 =========case: test_handle_modal_01 start=========
DEBUG 2023-08-23 15:00:46,938 connection.py _safely_send    417 SEND > {"id":"cb79461b-fb65-4812-8f65-6a1bc2e205c8","method":"App.addBinding","params":{"name":"showModal_super_callback"}}
DEBUG 2023-08-23 15:00:46,941 connection.py _on_message     652 RECV < {"id":"cb79461b-fb65-4812-8f65-6a1bc2e205c8","result":{}}
DEBUG 2023-08-23 15:00:46,943 connection.py _safely_send    417 SEND > {"id":"28157254-0166-4d44-8da4-61cf6a879249","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethod(){var e,_=wx._MINI_WX_PROXY_||wx;_.showModal_MiniumOrigin?e=_.showModal_MiniumOrigin:(e=_.showModal,Object.defineProperty(_,\"showModal_MiniumOrigin\",{configurable:!0,get:()=>e})),Object.defineProperty(_,\"showModal\",{configurable:!0,get:()=>function(..._){var t,n=_[0],$=!1;if(\"showModal\".endsWith(\"Sync\")||n&&(n.success||n.fail||n.complete)||($=!0),\"undefined\"!=typeof showModal_super_before&&showModal_super_before(..._),\"undefined\"!=typeof showModal_super_callback)if($)t=e(..._).then((function(e){return showModal_super_callback(e),e})).catch((function(e){throw showModal_super_callback(e),e}));else{if(n){var o=n.complete;n.complete=function(e){showModal_super_callback(e),o&&o(e)}}t=e(..._)}else t=e(..._);return\"undefined\"!=typeof showModal_super_after&&showModal_super_after(t),t}})}","args":[]}}
DEBUG 2023-08-23 15:00:46,945 connection.py _on_message     652 RECV < {"id":"28157254-0166-4d44-8da4-61cf6a879249","result":{}}
DEBUG 2023-08-23 15:00:46,947 connection.py _safely_send    417 SEND > {"id":"dc53e4ff-9cf3-4d2c-8dba-21f0bc439ba0","method":"App.getCurrentPage","params":{}}
DEBUG 2023-08-23 15:00:46,950 connection.py _on_message     652 RECV < {"id":"dc53e4ff-9cf3-4d2c-8dba-21f0bc439ba0","result":{"pageId":10,"path":"pages/index/index","query":{}}}
INFO  2023-08-23 15:00:46,952 page.py    _get_elements_by_css 557 try to get elements: text="当前为测试模拟环境，请勿进行真实业务行为!"
DEBUG 2023-08-23 15:00:46,954 connection.py _safely_send    417 SEND > {"id":"be919854-6a2b-4f09-8366-7ef2884ea42e","method":"Page.getElements","params":{"selector":"text=\"\u5f53\u524d\u4e3a\u6d4b\u8bd5\u6a21\u62df\u73af\u5883\uff0c\u8bf7\u52ff\u8fdb\u884c\u771f\u5b9e\u4e1a\u52a1\u884c\u4e3a!\"","pageId":10}}
DEBUG 2023-08-23 15:00:46,962 connection.py _on_message     650 RECV < {"id":"be919854-6a2b-4f09-8366-7ef2884ea42e","result":{"elements":[{"elementId":"871137f6-99f9-4d2e-86e6-6cfe729c92c1","tagName":"text"},{"elementId":"a6ba9f27-86ba-452c-b6af-afafcecfbae4","tagName":"text"},{"elementId":"40353157-39c7-4bf4-ad34-a3b108d672b4","tagName":"text"},{"elementId":"74b8264e-4795-4ab9-b4c2-515a2f258042","tagName":"text"},{"elementId":"e5b1b089-d694-4a7b-a598-0d11132cc220","tagName":"text"},{"elementId":"0d75b9c8-40ba-45fc-83fa-e018c04f1362","tagName":"text"},{"elementId":"22132ed0...
INFO  2023-08-23 15:00:46,963 page.py    _get_elements_by_css 564 find elements success: [<minium.miniprogram.base_driver.element.BaseElement object at 0x000001C2F55056C0>]
DEBUG 2023-08-23 15:00:46,963 connection.py _safely_send    417 SEND > {"id":"cb536906-efaa-4b39-9899-187267325aed","method":"Element.tap","params":{"elementId":"871137f6-99f9-4d2e-86e6-6cfe729c92c1","pageId":10}}
DEBUG 2023-08-23 15:00:47,060 connection.py _on_message     652 RECV < {"id":"cb536906-efaa-4b39-9899-187267325aed","result":{}}
DEBUG 2023-08-23 15:00:47,672 connection.py _on_message     652 RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":41,"path":"pages/common/selected_city","query":{},"openType":"navigateTo","__ts__":1692774047647},1692774047649]}}
INFO  2023-08-23 15:00:47,676 app.py     _on_route_changed 845 Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 41, 'path': 'pages/common/selected_city', 'query': {}, 'openType': 'navigateTo', '__ts__': 1692774047647}, 1692774047649]}
DEBUG 2023-08-23 15:00:47,866 connection.py _on_message     650 RECV < {"method":"App.exceptionThrown","params":{"message":"_this.setLocationData is not a function","stack":"TypeError: _this.setLocationData is not a function\n    at Object.success (http://127.0.0.1:29252/appservice/pages/common/selected_city.js?t=wechat&s=1692762371060&v=9645cfe03f84cc02692ef5cb9c6738fb:182:31)\n    at Object.handleData (http://127.0.0.1:29252/appservice/common/vendor.js?t=wechat&s=1692762371060&v=89b5c89f382fa501a7bab0cabe2e6de7:12607:15)\n    at options.success (http://127.0.0.1:29252/app...
INFO  2023-08-23 15:00:49,066 basenative.py wrapper         24  call IdeNative.handle_modal
INFO  2023-08-23 15:00:49,068 basenative.py wrapper         24  call IdeNative.send
DEBUG 2023-08-23 15:00:49,070 connection.py _safely_send    417 SEND > {"id":"1be08029-8296-4443-9e75-24157ed328ed","method":"Tool.native","params":{"method":"confirmModal","data":null}}
DEBUG 2023-08-23 15:00:49,074 connection.py _on_message     652 RECV < {"id":"1be08029-8296-4443-9e75-24157ed328ed","result":{"error":{"message":"confirmModal failed"}}}
WARNI 2023-08-23 15:00:49,074 idenative.py send            65  handle confirmModal error: confirmModal failed
INFO  2023-08-23 15:00:49,074 basenative.py wrapper         28  call IdeNative.send end
INFO  2023-08-23 15:00:49,076 basenative.py wrapper         27  IdeNative.handle_modal return {'id': '1be08029-8296-4443-9e75-24157ed328ed', 'result': {'error': {'message': 'confirmModal failed'}}}
INFO  2023-08-23 15:00:49,076 basenative.py wrapper         28  call IdeNative.handle_modal end
DEBUG 2023-08-23 15:00:49,077 connection.py _safely_send    417 SEND > {"id":"f17fc3d0-7055-47ce-9823-0aefbe910444","method":"Page.getElementsByXpath","params":{"selector":"/view/biz-index-head/view/view","pageId":41}}
DEBUG 2023-08-23 15:00:49,084 connection.py _on_message     652 RECV < {"id":"f17fc3d0-7055-47ce-9823-0aefbe910444","result":{"elements":[]}}
DEBUG 2023-08-23 15:00:51,092 connection.py _safely_send    417 SEND > {"id":"37deb3ec-8064-4ebd-bc22-c80099cf72b9","method":"Page.getElementsByXpath","params":{"selector":"/lee-select-city/view/view/view/scroll-view[1]/view/view[2]","pageId":41}}
DEBUG 2023-08-23 15:00:51,102 connection.py _on_message     652 RECV < {"id":"37deb3ec-8064-4ebd-bc22-c80099cf72b9","result":{"elements":[{"elementId":"1d92c7f0-51f1-41de-a59f-e19a8f23c4fa","tagName":"view"}]}}
DEBUG 2023-08-23 15:00:51,104 connection.py _safely_send    417 SEND > {"id":"9c3ab60e-4ff0-4a3f-845f-beaf848112e3","method":"Element.getStyles","params":{"names":["pointer-events"],"elementId":"1d92c7f0-51f1-41de-a59f-e19a8f23c4fa","pageId":41}}
DEBUG 2023-08-23 15:00:51,135 connection.py _on_message     652 RECV < {"id":"9c3ab60e-4ff0-4a3f-845f-beaf848112e3","result":{"styles":["auto"]}}
DEBUG 2023-08-23 15:00:51,136 connection.py _safely_send    417 SEND > {"id":"3c7da9e2-8c76-4aae-b20d-3199bd3ea625","method":"Element.tap","params":{"elementId":"1d92c7f0-51f1-41de-a59f-e19a8f23c4fa","pageId":41}}
DEBUG 2023-08-23 15:00:51,162 connection.py _on_message     652 RECV < {"id":"3c7da9e2-8c76-4aae-b20d-3199bd3ea625","result":{}}
DEBUG 2023-08-23 15:00:54,179 connection.py _safely_send    417 SEND > {"id":"8dfe957f-01bf-47e8-b818-c5509349d23e","method":"Page.getElementsByXpath","params":{"selector":"/lee-select-city/view/view/view/scroll-view[1]/view/lee-latter-list/view/view[1]/view[2]/view[1]","pageId":41}}
DEBUG 2023-08-23 15:00:54,187 connection.py _on_message     652 RECV < {"id":"8dfe957f-01bf-47e8-b818-c5509349d23e","result":{"elements":[{"elementId":"f6895bef-c02d-4854-8dba-6033b7018d50","tagName":"view"}]}}
DEBUG 2023-08-23 15:00:54,188 connection.py _safely_send    417 SEND > {"id":"fac3eeb6-3f5c-46e0-8b27-eec218f79746","method":"Element.getStyles","params":{"names":["pointer-events"],"elementId":"f6895bef-c02d-4854-8dba-6033b7018d50","pageId":41}}
DEBUG 2023-08-23 15:00:54,192 connection.py _on_message     652 RECV < {"id":"fac3eeb6-3f5c-46e0-8b27-eec218f79746","result":{"styles":["auto"]}}
DEBUG 2023-08-23 15:00:54,193 connection.py _safely_send    417 SEND > {"id":"39e3c415-ecbb-441d-a284-57a73ac322ca","method":"Element.tap","params":{"elementId":"f6895bef-c02d-4854-8dba-6033b7018d50","pageId":41}}
DEBUG 2023-08-23 15:00:54,213 connection.py _on_message     652 RECV < {"id":"39e3c415-ecbb-441d-a284-57a73ac322ca","result":{}}
DEBUG 2023-08-23 15:00:57,235 connection.py _safely_send    417 SEND > {"id":"3474070b-998f-4297-aeae-effde9c5bb1c","method":"Page.getElementsByXpath","params":{"selector":"/lee-select-city/view/view[2]/view/scroll-view[2]/view/lee-latter-list/view/view[1]/view[2]/view","pageId":41}}
DEBUG 2023-08-23 15:00:57,240 connection.py _on_message     652 RECV < {"id":"3474070b-998f-4297-aeae-effde9c5bb1c","result":{"elements":[{"elementId":"eae07526-dfbe-4edd-ae1c-0386d6c6adee","tagName":"view"}]}}
DEBUG 2023-08-23 15:00:57,241 connection.py _safely_send    417 SEND > {"id":"9bb9a449-0297-4163-ad34-31e22611eee1","method":"Element.getStyles","params":{"names":["pointer-events"],"elementId":"eae07526-dfbe-4edd-ae1c-0386d6c6adee","pageId":41}}
DEBUG 2023-08-23 15:00:57,246 connection.py _on_message     652 RECV < {"id":"9bb9a449-0297-4163-ad34-31e22611eee1","result":{"styles":["auto"]}}
DEBUG 2023-08-23 15:00:57,247 connection.py _safely_send    417 SEND > {"id":"f30d993d-3b1f-46da-b0c3-74d781d3a87a","method":"Element.tap","params":{"elementId":"eae07526-dfbe-4edd-ae1c-0386d6c6adee","pageId":41}}
DEBUG 2023-08-23 15:00:57,286 connection.py _on_message     652 RECV < {"id":"f30d993d-3b1f-46da-b0c3-74d781d3a87a","result":{}}
DEBUG 2023-08-23 15:01:00,303 minitest.py _miniTearDown   589 =========Current case Down: test_handle_modal_01=========
INFO  2023-08-23 15:01:00,303 minitest.py capture         686 capture teardown.png
INFO  2023-08-23 15:01:00,304 basenative.py wrapper         24  call IdeNative.screen_shot
DEBUG 2023-08-23 15:01:00,305 connection.py _safely_send    417 SEND > {"id":"c47716ba-0a57-492d-9ddb-e5ac1e785c92","method":"App.captureScreenshot","params":{}}
DEBUG 2023-08-23 15:01:00,461 connection.py _on_message     650 RECV < {"id":"c47716ba-0a57-492d-9ddb-e5ac1e785c92","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAawAAANDCAIAAAB+J7yFAAAAAXNSR0IArs4c6QAAIABJREFUeJzs3VlsHedh//3ZZ86+L9x5SIqbqJWyZS2WFadxEjuJEwco2rhL3AZN8b7ogqItUAQFAhRoLtrLtMA/CVK0yZtmqWs7dh3bsaRItixbokRxFUVxEdez7/tsz3sxySn/kmxLFC3Rmt/nypwzq4F888zMc45pQggFAGBKhBDmfp8DAMD9hAgCgKkhggBgaoggAJgaIggApoYIAoCpIYIAYGqIIACYGiIIAKaGCAKAqSGCAGBqiCAAmBoiCACmhggCgKkhggBgatydblBR63VdERneyokfxQkBANxLdzwS1Imu6ZpO6R/F2QAA3GM0flkaAEwLvywNAGaHCAKAqSGCAGBqiCAAmBoiCACmhggCgKkhggBgaoggAJ...
INFO  2023-08-23 15:01:00,463 basenative.py wrapper         28  call IdeNative.screen_shot end
INFO  2023-08-23 15:01:00,466 basenative.py wrapper         24  call BaseNative.get_start_up
INFO  2023-08-23 15:01:00,466 basenative.py wrapper         28  call BaseNative.get_start_up end
