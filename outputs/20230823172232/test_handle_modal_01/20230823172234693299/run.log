INFO  2023-08-23 17:22:34,694 minitest.py _miniSetUp      340 =========Current case: test_handle_modal_01=========
INFO  2023-08-23 17:22:34,695 minitest.py _miniSetUp      343 package info: D:.路路游小程序.tests.test_login, case info: TestShouYe_1.test_handle_modal_01
INFO  2023-08-23 17:22:34,696 basenative.py wrapper         24  call BaseNative.check_connection
INFO  2023-08-23 17:22:34,696 basenative.py wrapper         28  call BaseNative.check_connection end
INFO  2023-08-23 17:22:34,697 minitest.py capture         686 capture setup.png
INFO  2023-08-23 17:22:34,698 basenative.py wrapper         24  call IdeNative.screen_shot
DEBUG 2023-08-23 17:22:34,699 connection.py _safely_send    417 SEND > {"id":"bae1edf7-05b7-4052-9264-58d301c08745","method":"App.captureScreenshot","params":{}}
DEBUG 2023-08-23 17:22:35,366 connection.py _on_message     650 RECV < {"id":"bae1edf7-05b7-4052-9264-58d301c08745","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAawAAAOeCAIAAADQh7N0AAAAAXNSR0IArs4c6QAAIABJREFUeJzsvXlsHMmd5xsReVdl1n3xPkRKpKTW2Wqp1a1utdpu22OPz5lpY8eL2cW0DexigMU8GMZb7Cxm5r3B7sLo98cu4H22FwbmYedqzLjd9tget/u0Wt3q1k2dlHhTZJEs1n1k5Rnx/kiJpkiKYhVZZJUYHxQa6mJWZGRkxDd/v4hf/BL+n4SABgRudQUqZe0VJvc/aywWrrnwikquHWuvMIVSa6KEsMZWV6IKGnEIVVTnSkVw7cWC+hBByiZQo3be8v6zsZgAsNpWV6IKGnEUVVTnSnWtIra29epEiB97anqXH5vbBwEwAGCtra5H1TSiFK6RSs3GWhRbOx6bIVT/bPgdf/zunQUAi7e6ElXg3NrH7344wMovbe...
INFO  2023-08-23 17:22:35,370 basenative.py wrapper         28  call IdeNative.screen_shot end
INFO  2023-08-23 17:22:35,371 minitest.py _miniSetUp      393 =========case: test_handle_modal_01 start=========
DEBUG 2023-08-23 17:22:35,372 connection.py _safely_send    417 SEND > {"id":"70bf8280-6278-4648-a9c6-5bad7c38b511","method":"App.addBinding","params":{"name":"showModal_super_callback"}}
DEBUG 2023-08-23 17:22:35,375 connection.py _on_message     652 RECV < {"id":"70bf8280-6278-4648-a9c6-5bad7c38b511","result":{}}
DEBUG 2023-08-23 17:22:35,378 connection.py _safely_send    417 SEND > {"id":"195bacae-cf83-49f7-bd2c-74eb27031499","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethod(){var e,_=wx._MINI_WX_PROXY_||wx;_.showModal_MiniumOrigin?e=_.showModal_MiniumOrigin:(e=_.showModal,Object.defineProperty(_,\"showModal_MiniumOrigin\",{configurable:!0,get:()=>e})),Object.defineProperty(_,\"showModal\",{configurable:!0,get:()=>function(..._){var t,n=_[0],$=!1;if(\"showModal\".endsWith(\"Sync\")||n&&(n.success||n.fail||n.complete)||($=!0),\"undefined\"!=typeof showModal_super_before&&showModal_super_before(..._),\"undefined\"!=typeof showModal_super_callback)if($)t=e(..._).then((function(e){return showModal_super_callback(e),e})).catch((function(e){throw showModal_super_callback(e),e}));else{if(n){var o=n.complete;n.complete=function(e){showModal_super_callback(e),o&&o(e)}}t=e(..._)}else t=e(..._);return\"undefined\"!=typeof showModal_super_after&&showModal_super_after(t),t}})}","args":[]}}
DEBUG 2023-08-23 17:22:35,381 connection.py _on_message     652 RECV < {"id":"195bacae-cf83-49f7-bd2c-74eb27031499","result":{}}
DEBUG 2023-08-23 17:22:35,382 connection.py _safely_send    417 SEND > {"id":"26898888-798b-413f-a9b6-c787a888b774","method":"App.getCurrentPage","params":{}}
DEBUG 2023-08-23 17:22:35,385 connection.py _on_message     652 RECV < {"id":"26898888-798b-413f-a9b6-c787a888b774","result":{"pageId":110,"path":"pages/index/index","query":{}}}
INFO  2023-08-23 17:22:35,387 page.py    _get_elements_by_css 557 try to get elements: text="当前为测试模拟环境，请勿进行真实业务行为!"
DEBUG 2023-08-23 17:22:35,388 connection.py _safely_send    417 SEND > {"id":"9c4f5783-c61e-4161-801a-e7c9d4a41dc4","method":"Page.getElements","params":{"selector":"text=\"\u5f53\u524d\u4e3a\u6d4b\u8bd5\u6a21\u62df\u73af\u5883\uff0c\u8bf7\u52ff\u8fdb\u884c\u771f\u5b9e\u4e1a\u52a1\u884c\u4e3a!\"","pageId":110}}
DEBUG 2023-08-23 17:22:35,395 connection.py _on_message     650 RECV < {"id":"9c4f5783-c61e-4161-801a-e7c9d4a41dc4","result":{"elements":[{"elementId":"59f2f558-8cef-4e43-a73d-c1a59c8d9767","tagName":"text"},{"elementId":"a9a751c5-de71-4c78-b4a8-c59c90e2ecd6","tagName":"text"},{"elementId":"ec5e4458-2c60-4c47-b780-d468440f9d11","tagName":"text"},{"elementId":"666181cb-a819-4eda-a218-faca5b796bd8","tagName":"text"},{"elementId":"c38c4073-6ce3-49bb-b673-4916c8139226","tagName":"text"},{"elementId":"244a9599-7928-41d2-9710-f42b1ed8824e","tagName":"text"},{"elementId":"2ba78168...
INFO  2023-08-23 17:22:35,396 page.py    _get_elements_by_css 564 find elements success: [<minium.miniprogram.base_driver.element.BaseElement object at 0x000002686D756AA0>]
DEBUG 2023-08-23 17:22:35,397 connection.py _safely_send    417 SEND > {"id":"aa374f4b-19a1-4621-96e5-2f4ebe83c096","method":"Element.tap","params":{"elementId":"59f2f558-8cef-4e43-a73d-c1a59c8d9767","pageId":110}}
DEBUG 2023-08-23 17:22:35,450 connection.py _on_message     652 RECV < {"id":"aa374f4b-19a1-4621-96e5-2f4ebe83c096","result":{}}
DEBUG 2023-08-23 17:22:35,993 connection.py _on_message     652 RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":171,"path":"pages/common/selected_city","query":{},"openType":"navigateTo","__ts__":1692782555978},1692782555978]}}
INFO  2023-08-23 17:22:35,999 app.py     _on_route_changed 845 Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 171, 'path': 'pages/common/selected_city', 'query': {}, 'openType': 'navigateTo', '__ts__': 1692782555978}, 1692782555978]}
DEBUG 2023-08-23 17:22:36,225 connection.py _on_message     650 RECV < {"method":"App.exceptionThrown","params":{"message":"_this.setLocationData is not a function","stack":"TypeError: _this.setLocationData is not a function\n    at Object.success (http://127.0.0.1:29252/appservice/pages/common/selected_city.js?t=wechat&s=1692762371060&v=9645cfe03f84cc02692ef5cb9c6738fb:182:31)\n    at Object.handleData (http://127.0.0.1:29252/appservice/common/vendor.js?t=wechat&s=1692762371060&v=89b5c89f382fa501a7bab0cabe2e6de7:12607:15)\n    at options.success (http://127.0.0.1:29252/app...
INFO  2023-08-23 17:22:37,459 basenative.py wrapper         24  call IdeNative.handle_modal
INFO  2023-08-23 17:22:37,460 basenative.py wrapper         24  call IdeNative.send
DEBUG 2023-08-23 17:22:37,462 connection.py _safely_send    417 SEND > {"id":"10dd4570-d92a-44de-8df8-f945707aa050","method":"Tool.native","params":{"method":"confirmModal","data":null}}
DEBUG 2023-08-23 17:22:37,465 connection.py _on_message     652 RECV < {"id":"10dd4570-d92a-44de-8df8-f945707aa050","result":{"error":{"message":"confirmModal failed"}}}
WARNI 2023-08-23 17:22:37,466 idenative.py send            65  handle confirmModal error: confirmModal failed
INFO  2023-08-23 17:22:37,467 basenative.py wrapper         28  call IdeNative.send end
INFO  2023-08-23 17:22:37,468 basenative.py wrapper         27  IdeNative.handle_modal return {'id': '10dd4570-d92a-44de-8df8-f945707aa050', 'result': {'error': {'message': 'confirmModal failed'}}}
INFO  2023-08-23 17:22:37,468 basenative.py wrapper         28  call IdeNative.handle_modal end
DEBUG 2023-08-23 17:22:37,469 connection.py _safely_send    417 SEND > {"id":"2c5a32c5-6939-4c7a-99f0-9227fb28fdda","method":"Page.getElementsByXpath","params":{"selector":"/view/biz-index-head/view/view","pageId":171}}
DEBUG 2023-08-23 17:22:37,477 connection.py _on_message     652 RECV < {"id":"2c5a32c5-6939-4c7a-99f0-9227fb28fdda","result":{"elements":[]}}
DEBUG 2023-08-23 17:22:39,482 connection.py _safely_send    417 SEND > {"id":"32c4fcfc-c05d-4d5f-962d-4586c45d8c16","method":"Page.getElementsByXpath","params":{"selector":"/lee-select-city/view/view/view/scroll-view[1]/view/view[2]","pageId":171}}
DEBUG 2023-08-23 17:22:39,489 connection.py _on_message     652 RECV < {"id":"32c4fcfc-c05d-4d5f-962d-4586c45d8c16","result":{"elements":[{"elementId":"86254d45-b693-4d17-bfd8-60160e2d8eb0","tagName":"view"}]}}
DEBUG 2023-08-23 17:22:39,491 connection.py _safely_send    417 SEND > {"id":"c3e882b2-e8bb-4682-bf82-e82149513647","method":"Element.getStyles","params":{"names":["pointer-events"],"elementId":"86254d45-b693-4d17-bfd8-60160e2d8eb0","pageId":171}}
DEBUG 2023-08-23 17:22:39,494 connection.py _on_message     652 RECV < {"id":"c3e882b2-e8bb-4682-bf82-e82149513647","result":{"styles":["auto"]}}
DEBUG 2023-08-23 17:22:39,495 connection.py _safely_send    417 SEND > {"id":"74b302a1-fbe6-4d53-a3d5-61a10edb202d","method":"Element.tap","params":{"elementId":"86254d45-b693-4d17-bfd8-60160e2d8eb0","pageId":171}}
DEBUG 2023-08-23 17:22:39,529 connection.py _on_message     652 RECV < {"id":"74b302a1-fbe6-4d53-a3d5-61a10edb202d","result":{}}
DEBUG 2023-08-23 17:22:42,547 connection.py _safely_send    417 SEND > {"id":"91c07c3a-9ee6-4c7a-a30a-882e08693c1e","method":"Page.getElementsByXpath","params":{"selector":"/lee-select-city/view/view/view/scroll-view[1]/view/lee-latter-list/view/view[1]/view[2]/view[1]","pageId":171}}
DEBUG 2023-08-23 17:22:42,553 connection.py _on_message     652 RECV < {"id":"91c07c3a-9ee6-4c7a-a30a-882e08693c1e","result":{"elements":[{"elementId":"29159207-6d9b-4f84-a23b-1bae908e8761","tagName":"view"}]}}
DEBUG 2023-08-23 17:22:42,556 connection.py _safely_send    417 SEND > {"id":"81e87738-0957-47bc-999d-b5cc120d2b17","method":"Element.getStyles","params":{"names":["pointer-events"],"elementId":"29159207-6d9b-4f84-a23b-1bae908e8761","pageId":171}}
DEBUG 2023-08-23 17:22:42,561 connection.py _on_message     652 RECV < {"id":"81e87738-0957-47bc-999d-b5cc120d2b17","result":{"styles":["auto"]}}
DEBUG 2023-08-23 17:22:42,563 connection.py _safely_send    417 SEND > {"id":"6e9ced83-3c31-4d63-a874-bd6bd492b409","method":"Element.tap","params":{"elementId":"29159207-6d9b-4f84-a23b-1bae908e8761","pageId":171}}
DEBUG 2023-08-23 17:22:42,578 connection.py _on_message     652 RECV < {"id":"6e9ced83-3c31-4d63-a874-bd6bd492b409","result":{}}
DEBUG 2023-08-23 17:22:45,596 connection.py _safely_send    417 SEND > {"id":"413e844c-44dd-436d-8350-e5c646a4c94b","method":"Page.getElementsByXpath","params":{"selector":"/lee-select-city/view/view[2]/view/scroll-view[2]/view/lee-latter-list/view/view[1]/view[2]/view","pageId":171}}
DEBUG 2023-08-23 17:22:45,604 connection.py _on_message     652 RECV < {"id":"413e844c-44dd-436d-8350-e5c646a4c94b","result":{"elements":[{"elementId":"692ec14f-f723-497c-b6b8-12164a02ac86","tagName":"view"}]}}
DEBUG 2023-08-23 17:22:45,606 connection.py _safely_send    417 SEND > {"id":"e9e60c29-47bf-42b5-97ba-275dc6a977c6","method":"Element.getStyles","params":{"names":["pointer-events"],"elementId":"692ec14f-f723-497c-b6b8-12164a02ac86","pageId":171}}
DEBUG 2023-08-23 17:22:45,610 connection.py _on_message     652 RECV < {"id":"e9e60c29-47bf-42b5-97ba-275dc6a977c6","result":{"styles":["auto"]}}
DEBUG 2023-08-23 17:22:45,612 connection.py _safely_send    417 SEND > {"id":"90f45721-530e-4b4d-9878-00833fd38a58","method":"Element.tap","params":{"elementId":"692ec14f-f723-497c-b6b8-12164a02ac86","pageId":171}}
DEBUG 2023-08-23 17:22:45,679 connection.py _on_message     652 RECV < {"id":"90f45721-530e-4b4d-9878-00833fd38a58","result":{}}
DEBUG 2023-08-23 17:22:48,708 minitest.py _miniTearDown   589 =========Current case Down: test_handle_modal_01=========
INFO  2023-08-23 17:22:48,709 minitest.py capture         686 capture teardown.png
INFO  2023-08-23 17:22:48,710 basenative.py wrapper         24  call IdeNative.screen_shot
DEBUG 2023-08-23 17:22:48,711 connection.py _safely_send    417 SEND > {"id":"15d20dc7-aabd-4043-a555-477d332670a0","method":"App.captureScreenshot","params":{}}
DEBUG 2023-08-23 17:22:48,871 connection.py _on_message     650 RECV < {"id":"15d20dc7-aabd-4043-a555-477d332670a0","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAawAAANDCAIAAAB+J7yFAAAAAXNSR0IArs4c6QAAIABJREFUeJzs3VlsHedh//3ZZ86+L9x5SIqbqJWyZS2WFadxEjuJEwco2rhL3AZN8b7ogqItUAQFAhRoLtrLtMA/CVK0yZtmqWs7dh3bsaRItixbokRxFUVxEdez7/tsz3sxySn/kmxLFC3Rmt/nypwzq4F888zMc45pQggFAGBKhBDmfp8DAMD9hAgCgKkhggBgaoggAJgaIggApoYIAoCpIYIAYGqIIACYGiIIAKaGCAKAqSGCAGBqiCAAmBoiCACmhggCgKkhggBgatydblBR63VdERneyokfxQkBANxLdzwS1Imu6ZpO6R/F2QAA3GM0flkaAEwLvywNAGaHCAKAqSGCAGBqiCAAmBoiCACmhggCgKkhggBgaoggAJ...
INFO  2023-08-23 17:22:48,872 basenative.py wrapper         28  call IdeNative.screen_shot end
INFO  2023-08-23 17:22:48,873 basenative.py wrapper         24  call BaseNative.get_start_up
INFO  2023-08-23 17:22:48,874 basenative.py wrapper         28  call BaseNative.get_start_up end
