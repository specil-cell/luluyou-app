INFO  2023-08-23 14:23:52,649 minitest.py _miniSetUp      340 =========Current case: test_handle_modal_01=========
INFO  2023-08-23 14:23:52,649 minitest.py _miniSetUp      343 package info: D:.路路游小程序.tests.test_login, case info: TestShouye_1.test_handle_modal_01
INFO  2023-08-23 14:23:52,650 basenative.py wrapper         24  call BaseNative.check_connection
INFO  2023-08-23 14:23:52,651 basenative.py wrapper         28  call BaseNative.check_connection end
INFO  2023-08-23 14:23:52,652 minitest.py capture         686 capture setup.png
INFO  2023-08-23 14:23:52,653 basenative.py wrapper         24  call IdeNative.screen_shot
DEBUG 2023-08-23 14:23:52,655 connection.py _safely_send    417 SEND > {"id":"77b9bee9-bcef-49d8-ac5c-d05e1a1ed764","method":"App.captureScreenshot","params":{}}
DEBUG 2023-08-23 14:23:53,269 connection.py _on_message     650 RECV < {"id":"77b9bee9-bcef-49d8-ac5c-d05e1a1ed764","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAawAAAOeCAIAAADQh7N0AAAAAXNSR0IArs4c6QAAIABJREFUeJzsvXlsHcmd5xkReefLd5+8D5GUKKl0yyqrSqoquSx32R4f5XF7MO5Bz2CABgbbwKD3rwVm/5jdBWb+GSwwAzSwi9k/Govt3jbaVXbV2mXXfalKVaX7psT7Jt99Zb48I/aPlGiKl/hIPvI9Mj4gBOoxX2RkZMQ3f7/4/SIS/k+EgAYE7nQFqmX9FSZPftZZLFx34VWVXDvWX2EKpdbECWHNna7EBmjEIVRVnasVwfUXC+pDBCnbQI3aecf7z9ZiAcDqO12JDdCIo6iqOlera1Wxs61XJ0K866npXd41tw8CYALA2jtdjw3TiFK4Tqo1G2tRbO3YNUOo/tnyO7777p0NAIt3uhIbwL21u+9+uMDqL239vnOdsF...
INFO  2023-08-23 14:23:53,272 basenative.py wrapper         28  call IdeNative.screen_shot end
INFO  2023-08-23 14:23:53,272 minitest.py _miniSetUp      393 =========case: test_handle_modal_01 start=========
DEBUG 2023-08-23 14:23:53,274 connection.py _safely_send    417 SEND > {"id":"25a985fa-23a6-4cbc-b350-42e5590597d2","method":"App.addBinding","params":{"name":"showModal_super_callback"}}
DEBUG 2023-08-23 14:23:53,277 connection.py _on_message     652 RECV < {"id":"25a985fa-23a6-4cbc-b350-42e5590597d2","result":{}}
DEBUG 2023-08-23 14:23:53,280 connection.py _safely_send    417 SEND > {"id":"3566fcb1-1f14-40df-bd74-567d8f4cc71e","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethod(){var e,_=wx._MINI_WX_PROXY_||wx;_.showModal_MiniumOrigin?e=_.showModal_MiniumOrigin:(e=_.showModal,Object.defineProperty(_,\"showModal_MiniumOrigin\",{configurable:!0,get:()=>e})),Object.defineProperty(_,\"showModal\",{configurable:!0,get:()=>function(..._){var t,n=_[0],$=!1;if(\"showModal\".endsWith(\"Sync\")||n&&(n.success||n.fail||n.complete)||($=!0),\"undefined\"!=typeof showModal_super_before&&showModal_super_before(..._),\"undefined\"!=typeof showModal_super_callback)if($)t=e(..._).then((function(e){return showModal_super_callback(e),e})).catch((function(e){throw showModal_super_callback(e),e}));else{if(n){var o=n.complete;n.complete=function(e){showModal_super_callback(e),o&&o(e)}}t=e(..._)}else t=e(..._);return\"undefined\"!=typeof showModal_super_after&&showModal_super_after(t),t}})}","args":[]}}
DEBUG 2023-08-23 14:23:53,285 connection.py _on_message     652 RECV < {"id":"3566fcb1-1f14-40df-bd74-567d8f4cc71e","result":{}}
DEBUG 2023-08-23 14:23:53,287 connection.py _safely_send    417 SEND > {"id":"972edbdf-30fc-45bc-8bd0-b02f4ffd2397","method":"App.getCurrentPage","params":{}}
DEBUG 2023-08-23 14:23:53,290 connection.py _on_message     652 RECV < {"id":"972edbdf-30fc-45bc-8bd0-b02f4ffd2397","result":{"pageId":3,"path":"pages/index/index","query":{}}}
INFO  2023-08-23 14:23:53,292 page.py    _get_elements_by_css 557 try to get elements: text="当前为测试模拟环境，请勿进行真实业务行为!"
DEBUG 2023-08-23 14:23:53,293 connection.py _safely_send    417 SEND > {"id":"ccf7790e-5a01-4056-a51d-d1b5d6017ada","method":"Page.getElements","params":{"selector":"text=\"\u5f53\u524d\u4e3a\u6d4b\u8bd5\u6a21\u62df\u73af\u5883\uff0c\u8bf7\u52ff\u8fdb\u884c\u771f\u5b9e\u4e1a\u52a1\u884c\u4e3a!\"","pageId":3}}
DEBUG 2023-08-23 14:23:53,313 connection.py _on_message     650 RECV < {"id":"ccf7790e-5a01-4056-a51d-d1b5d6017ada","result":{"elements":[{"elementId":"d565bff7-5a6c-4beb-99a3-860217cbcf5e","tagName":"text"},{"elementId":"f2a904e4-c0cc-4b60-a724-1c9aa87c8985","tagName":"text"},{"elementId":"9ac15d85-053e-4ed4-a88f-d8fe60e6d267","tagName":"text"},{"elementId":"caf78062-e003-4051-935c-473f30760fe0","tagName":"text"},{"elementId":"c06042b7-ec39-49f8-98c2-2f077f70a8f5","tagName":"text"},{"elementId":"6c8a74fd-b9be-4a33-9884-0fd94e01a835","tagName":"text"},{"elementId":"af548d52...
INFO  2023-08-23 14:23:53,315 page.py    _get_elements_by_css 564 find elements success: [<minium.miniprogram.base_driver.element.BaseElement object at 0x0000021E743998D0>]
DEBUG 2023-08-23 14:23:53,315 connection.py _safely_send    417 SEND > {"id":"0c5cb2af-ef6e-44a2-908c-1b07f4809666","method":"Element.tap","params":{"elementId":"d565bff7-5a6c-4beb-99a3-860217cbcf5e","pageId":3}}
DEBUG 2023-08-23 14:23:53,407 connection.py _on_message     652 RECV < {"id":"0c5cb2af-ef6e-44a2-908c-1b07f4809666","result":{}}
DEBUG 2023-08-23 14:23:54,060 connection.py _on_message     652 RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":15,"path":"pages/common/selected_city","query":{},"openType":"navigateTo","__ts__":1692771834039},1692771834041]}}
INFO  2023-08-23 14:23:54,065 app.py     _on_route_changed 845 Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 15, 'path': 'pages/common/selected_city', 'query': {}, 'openType': 'navigateTo', '__ts__': 1692771834039}, 1692771834041]}
DEBUG 2023-08-23 14:23:54,318 connection.py _on_message     650 RECV < {"method":"App.exceptionThrown","params":{"message":"_this.setLocationData is not a function","stack":"TypeError: _this.setLocationData is not a function\n    at Object.success (http://127.0.0.1:29252/appservice/pages/common/selected_city.js?t=wechat&s=1692762371060&v=9645cfe03f84cc02692ef5cb9c6738fb:182:31)\n    at Object.handleData (http://127.0.0.1:29252/appservice/common/vendor.js?t=wechat&s=1692762371060&v=89b5c89f382fa501a7bab0cabe2e6de7:12607:15)\n    at options.success (http://127.0.0.1:29252/app...
INFO  2023-08-23 14:23:55,424 basenative.py wrapper         24  call IdeNative.handle_modal
INFO  2023-08-23 14:23:55,426 basenative.py wrapper         24  call IdeNative.send
DEBUG 2023-08-23 14:23:55,427 connection.py _safely_send    417 SEND > {"id":"dea9a35c-16fb-473e-99f6-bba604d0eaf7","method":"Tool.native","params":{"method":"confirmModal","data":null}}
DEBUG 2023-08-23 14:23:55,429 connection.py _on_message     652 RECV < {"id":"dea9a35c-16fb-473e-99f6-bba604d0eaf7","result":{"error":{"message":"confirmModal failed"}}}
WARNI 2023-08-23 14:23:55,430 idenative.py send            65  handle confirmModal error: confirmModal failed
INFO  2023-08-23 14:23:55,430 basenative.py wrapper         28  call IdeNative.send end
INFO  2023-08-23 14:23:55,431 basenative.py wrapper         27  IdeNative.handle_modal return {'id': 'dea9a35c-16fb-473e-99f6-bba604d0eaf7', 'result': {'error': {'message': 'confirmModal failed'}}}
INFO  2023-08-23 14:23:55,431 basenative.py wrapper         28  call IdeNative.handle_modal end
DEBUG 2023-08-23 14:23:55,432 connection.py _safely_send    417 SEND > {"id":"d2e2b057-7603-4ffa-a583-550ae6bf3512","method":"Page.getElementsByXpath","params":{"selector":"/view/biz-index-head/view/view","pageId":15}}
DEBUG 2023-08-23 14:23:55,443 connection.py _on_message     652 RECV < {"id":"d2e2b057-7603-4ffa-a583-550ae6bf3512","result":{"elements":[]}}
DEBUG 2023-08-23 14:23:57,459 connection.py _safely_send    417 SEND > {"id":"217c520f-cd0f-4173-b6e4-64afd33f5f16","method":"Page.getElementsByXpath","params":{"selector":"/lee-select-city/view/view/view/scroll-view[1]/view/view[2]","pageId":15}}
DEBUG 2023-08-23 14:23:57,469 connection.py _on_message     652 RECV < {"id":"217c520f-cd0f-4173-b6e4-64afd33f5f16","result":{"elements":[{"elementId":"86613bda-d6aa-4069-b203-8c41eb88b2b9","tagName":"view"}]}}
DEBUG 2023-08-23 14:23:57,471 connection.py _safely_send    417 SEND > {"id":"ce595c03-4ede-4799-ba3b-529540e536e2","method":"Element.getStyles","params":{"names":["pointer-events"],"elementId":"86613bda-d6aa-4069-b203-8c41eb88b2b9","pageId":15}}
DEBUG 2023-08-23 14:23:57,476 connection.py _on_message     652 RECV < {"id":"ce595c03-4ede-4799-ba3b-529540e536e2","result":{"styles":["auto"]}}
DEBUG 2023-08-23 14:23:57,477 connection.py _safely_send    417 SEND > {"id":"44028d55-b3b0-4a53-91f5-b1c67b6820f3","method":"Element.tap","params":{"elementId":"86613bda-d6aa-4069-b203-8c41eb88b2b9","pageId":15}}
DEBUG 2023-08-23 14:23:57,490 connection.py _on_message     652 RECV < {"id":"44028d55-b3b0-4a53-91f5-b1c67b6820f3","result":{}}
DEBUG 2023-08-23 14:24:00,504 connection.py _safely_send    417 SEND > {"id":"a034c53c-fed9-4d97-aad6-d58d81b69292","method":"Page.getElementsByXpath","params":{"selector":"/lee-select-city/view/view/view/scroll-view[1]/view/lee-latter-list/view/view[1]/view[2]/view[1]","pageId":15}}
DEBUG 2023-08-23 14:24:00,510 connection.py _on_message     652 RECV < {"id":"a034c53c-fed9-4d97-aad6-d58d81b69292","result":{"elements":[{"elementId":"6c584b21-ca0f-44ba-8316-5c5d6ec62041","tagName":"view"}]}}
DEBUG 2023-08-23 14:24:00,511 connection.py _safely_send    417 SEND > {"id":"bbf4f59a-3029-4a84-bac9-128e2814ffbd","method":"Element.getStyles","params":{"names":["pointer-events"],"elementId":"6c584b21-ca0f-44ba-8316-5c5d6ec62041","pageId":15}}
DEBUG 2023-08-23 14:24:00,515 connection.py _on_message     652 RECV < {"id":"bbf4f59a-3029-4a84-bac9-128e2814ffbd","result":{"styles":["auto"]}}
DEBUG 2023-08-23 14:24:00,517 connection.py _safely_send    417 SEND > {"id":"9f6e80e6-2b26-4040-a8e9-6a0e9843bc95","method":"Element.tap","params":{"elementId":"6c584b21-ca0f-44ba-8316-5c5d6ec62041","pageId":15}}
DEBUG 2023-08-23 14:24:00,534 connection.py _on_message     652 RECV < {"id":"9f6e80e6-2b26-4040-a8e9-6a0e9843bc95","result":{}}
DEBUG 2023-08-23 14:24:03,551 connection.py _safely_send    417 SEND > {"id":"394ab802-6559-4259-b17d-c7b8ea4bbf83","method":"Page.getElementsByXpath","params":{"selector":"/lee-select-city/view/view[2]/view/scroll-view[2]/view/lee-latter-list/view/view[1]/view[2]/view","pageId":15}}
DEBUG 2023-08-23 14:24:03,558 connection.py _on_message     652 RECV < {"id":"394ab802-6559-4259-b17d-c7b8ea4bbf83","result":{"elements":[{"elementId":"bde95759-64df-474a-9182-5389036aa48c","tagName":"view"}]}}
DEBUG 2023-08-23 14:24:03,559 connection.py _safely_send    417 SEND > {"id":"bf7d9e1f-909a-401c-b0b8-db9113dab0ea","method":"Element.getStyles","params":{"names":["pointer-events"],"elementId":"bde95759-64df-474a-9182-5389036aa48c","pageId":15}}
DEBUG 2023-08-23 14:24:03,563 connection.py _on_message     652 RECV < {"id":"bf7d9e1f-909a-401c-b0b8-db9113dab0ea","result":{"styles":["auto"]}}
DEBUG 2023-08-23 14:24:03,564 connection.py _safely_send    417 SEND > {"id":"60d2361c-40e6-407e-a86d-c97d129f1bd3","method":"Element.tap","params":{"elementId":"bde95759-64df-474a-9182-5389036aa48c","pageId":15}}
DEBUG 2023-08-23 14:24:03,598 connection.py _on_message     652 RECV < {"id":"60d2361c-40e6-407e-a86d-c97d129f1bd3","result":{}}
DEBUG 2023-08-23 14:24:06,610 minitest.py _miniTearDown   589 =========Current case Down: test_handle_modal_01=========
INFO  2023-08-23 14:24:06,612 minitest.py capture         686 capture teardown.png
INFO  2023-08-23 14:24:06,613 basenative.py wrapper         24  call IdeNative.screen_shot
DEBUG 2023-08-23 14:24:06,614 connection.py _safely_send    417 SEND > {"id":"90329f84-21e3-4c3d-ba10-01a87a7e834a","method":"App.captureScreenshot","params":{}}
DEBUG 2023-08-23 14:24:06,762 connection.py _on_message     650 RECV < {"id":"90329f84-21e3-4c3d-ba10-01a87a7e834a","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAawAAANDCAIAAAB+J7yFAAAAAXNSR0IArs4c6QAAIABJREFUeJzs3VlsHedh//3ZZ86+L9x5SIqbqJWyZS2WFadxEjuJEwco2rhL3AZN8b7ogqItUAQFAhRoLtrLtMA/CVK0yZtmqWs7dh3bsaRItixbokRxFUVxEdez7/tsz3sxySn/kmxLFC3Rmt/nypwzq4F888zMc45pQggFAGBKhBDmfp8DAMD9hAgCgKkhggBgaoggAJgaIggApoYIAoCpIYIAYGqIIACYGiIIAKaGCAKAqSGCAGBqiCAAmBoiCACmhggCgKkhggBgatydblBR63VdERneyokfxQkBANxLdzwS1Imu6ZpO6R/F2QAA3GM0flkaAEwLvywNAGaHCAKAqSGCAGBqiCAAmBoiCACmhggCgKkhggBgaoggAJ...
INFO  2023-08-23 14:24:06,766 basenative.py wrapper         28  call IdeNative.screen_shot end
INFO  2023-08-23 14:24:06,767 basenative.py wrapper         24  call BaseNative.get_start_up
INFO  2023-08-23 14:24:06,767 basenative.py wrapper         28  call BaseNative.get_start_up end
