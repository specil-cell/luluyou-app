INFO  2023-08-23 15:47:14,480 minitest.py _miniSetUp      340 =========Current case: test_handle_modal_01=========
INFO  2023-08-23 15:47:14,481 minitest.py _miniSetUp      343 package info: D:.路路游小程序.tests.test_login, case info: TestShouYe_1.test_handle_modal_01
INFO  2023-08-23 15:47:14,481 basenative.py wrapper         24  call BaseNative.check_connection
INFO  2023-08-23 15:47:14,482 basenative.py wrapper         28  call BaseNative.check_connection end
INFO  2023-08-23 15:47:14,483 minitest.py capture         686 capture setup.png
INFO  2023-08-23 15:47:14,483 basenative.py wrapper         24  call IdeNative.screen_shot
DEBUG 2023-08-23 15:47:14,484 connection.py _safely_send    417 SEND > {"id":"4c7ce8b6-d710-4427-985c-9bd168712438","method":"App.captureScreenshot","params":{}}
DEBUG 2023-08-23 15:47:15,150 connection.py _on_message     650 RECV < {"id":"4c7ce8b6-d710-4427-985c-9bd168712438","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAawAAAOeCAIAAADQh7N0AAAAAXNSR0IArs4c6QAAIABJREFUeJy0vfmTJbeRJvi5AxHvyPuok3WweImiRN3drb7mtP1p969ds5k1W5ux3Rnr3ukZ2ahbUpOiSPFmFYusI+98RwTc9wcHEIh4L6uk7umQKpn5XgQCcPjxucPhoP3xHhEREQAlKBGYFACgQFBdiigUgN0zuFhQfqqqIkJEzExETMSqDBCgqqpqXyG1r6pi36y0bK8jBfW/jJ/nzqhqkKu+VaiSEscbV38y4MCr48oDAgRQFG/LnTW6tSpKZIO194rE/pCCFV7BxQjsKWtHFEoEMEAKzRPR64AqQUDd0PLj9n0mkfdeRPJX9lOYhZ32ZgnWVYVCrf3EAKq5BWa2SSQiURUoiIQQSP1oNN6cEvNisWzbVjTeGWdWIa...
INFO  2023-08-23 15:47:15,153 basenative.py wrapper         28  call IdeNative.screen_shot end
INFO  2023-08-23 15:47:15,154 minitest.py _miniSetUp      393 =========case: test_handle_modal_01 start=========
DEBUG 2023-08-23 15:47:15,155 connection.py _safely_send    417 SEND > {"id":"3a4b0cb9-8013-4608-93f6-6412ed120deb","method":"App.addBinding","params":{"name":"showModal_super_callback"}}
DEBUG 2023-08-23 15:47:15,157 connection.py _on_message     652 RECV < {"id":"3a4b0cb9-8013-4608-93f6-6412ed120deb","result":{}}
DEBUG 2023-08-23 15:47:15,161 connection.py _safely_send    417 SEND > {"id":"cf435f49-f9a0-4735-a62f-dc423252c9a0","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethod(){var e,_=wx._MINI_WX_PROXY_||wx;_.showModal_MiniumOrigin?e=_.showModal_MiniumOrigin:(e=_.showModal,Object.defineProperty(_,\"showModal_MiniumOrigin\",{configurable:!0,get:()=>e})),Object.defineProperty(_,\"showModal\",{configurable:!0,get:()=>function(..._){var t,n=_[0],$=!1;if(\"showModal\".endsWith(\"Sync\")||n&&(n.success||n.fail||n.complete)||($=!0),\"undefined\"!=typeof showModal_super_before&&showModal_super_before(..._),\"undefined\"!=typeof showModal_super_callback)if($)t=e(..._).then((function(e){return showModal_super_callback(e),e})).catch((function(e){throw showModal_super_callback(e),e}));else{if(n){var o=n.complete;n.complete=function(e){showModal_super_callback(e),o&&o(e)}}t=e(..._)}else t=e(..._);return\"undefined\"!=typeof showModal_super_after&&showModal_super_after(t),t}})}","args":[]}}
DEBUG 2023-08-23 15:47:15,164 connection.py _on_message     652 RECV < {"id":"cf435f49-f9a0-4735-a62f-dc423252c9a0","result":{}}
DEBUG 2023-08-23 15:47:15,165 connection.py _safely_send    417 SEND > {"id":"99105842-0dee-4cf8-bded-588fc1bc00e9","method":"App.getCurrentPage","params":{}}
DEBUG 2023-08-23 15:47:15,168 connection.py _on_message     652 RECV < {"id":"99105842-0dee-4cf8-bded-588fc1bc00e9","result":{"pageId":77,"path":"pages/trip/spot-detail","query":{"spotId":"a705468ad4674dea805f051c5e27c9e6","activityId":"6d4c3aed7bc9402d871788bb4d0adda6","appointId":"9273321a2703426dbab0c04e4ca0ca64"}}}
INFO  2023-08-23 15:47:15,171 page.py    _get_elements_by_css 557 try to get elements: text="当前为测试模拟环境，请勿进行真实业务行为!"
DEBUG 2023-08-23 15:47:15,172 connection.py _safely_send    417 SEND > {"id":"358199ed-d4ab-48b9-b1a4-65e2c6b23f82","method":"Page.getElements","params":{"selector":"text=\"\u5f53\u524d\u4e3a\u6d4b\u8bd5\u6a21\u62df\u73af\u5883\uff0c\u8bf7\u52ff\u8fdb\u884c\u771f\u5b9e\u4e1a\u52a1\u884c\u4e3a!\"","pageId":77}}
DEBUG 2023-08-23 15:47:15,181 connection.py _on_message     650 RECV < {"id":"358199ed-d4ab-48b9-b1a4-65e2c6b23f82","result":{"elements":[{"elementId":"581b6227-fc26-4e58-a1fa-83beadc01e9b","tagName":"text"},{"elementId":"075f9d42-43af-4b6e-8bbc-0cffdf5d1c27","tagName":"text"},{"elementId":"859fdffe-6c4d-4eab-8311-9f31f4567692","tagName":"text"},{"elementId":"a7305d04-7455-4023-878a-1c87af03bf1c","tagName":"text"},{"elementId":"fb6dc88f-c6c4-4b8f-b8cf-de54ed894721","tagName":"text"},{"elementId":"f2736032-1bd2-438d-aa6c-4ffae8026f4f","tagName":"text"},{"elementId":"c8dc50c1...
INFO  2023-08-23 15:47:15,182 page.py    _get_elements_by_css 564 find elements success: [<minium.miniprogram.base_driver.element.BaseElement object at 0x0000023A4FCE5780>]
DEBUG 2023-08-23 15:47:15,182 connection.py _safely_send    417 SEND > {"id":"3ee8cba5-2e95-45f2-a75a-3bee6a0c063d","method":"Element.tap","params":{"elementId":"581b6227-fc26-4e58-a1fa-83beadc01e9b","pageId":77}}
DEBUG 2023-08-23 15:47:15,208 connection.py _on_message     652 RECV < {"id":"3ee8cba5-2e95-45f2-a75a-3bee6a0c063d","result":{}}
DEBUG 2023-08-23 15:47:15,509 connection.py _on_message     652 RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":75,"path":"pages/search/search","query":{"type":"2"},"openType":"navigateBack","__ts__":1692776835493},1692776835494]}}
INFO  2023-08-23 15:47:15,516 app.py     _on_route_changed 845 Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 75, 'path': 'pages/search/search', 'query': {'type': '2'}, 'openType': 'navigateBack', '__ts__': 1692776835493}, 1692776835494]}
INFO  2023-08-23 15:47:17,220 basenative.py wrapper         24  call IdeNative.handle_modal
INFO  2023-08-23 15:47:17,221 basenative.py wrapper         24  call IdeNative.send
DEBUG 2023-08-23 15:47:17,223 connection.py _safely_send    417 SEND > {"id":"44463203-4689-404c-85fc-74ddbfac7d17","method":"Tool.native","params":{"method":"confirmModal","data":null}}
DEBUG 2023-08-23 15:47:17,225 connection.py _on_message     652 RECV < {"id":"44463203-4689-404c-85fc-74ddbfac7d17","result":{"error":{"message":"confirmModal failed"}}}
WARNI 2023-08-23 15:47:17,227 idenative.py send            65  handle confirmModal error: confirmModal failed
INFO  2023-08-23 15:47:17,228 basenative.py wrapper         28  call IdeNative.send end
INFO  2023-08-23 15:47:17,228 basenative.py wrapper         27  IdeNative.handle_modal return {'id': '44463203-4689-404c-85fc-74ddbfac7d17', 'result': {'error': {'message': 'confirmModal failed'}}}
INFO  2023-08-23 15:47:17,229 basenative.py wrapper         28  call IdeNative.handle_modal end
DEBUG 2023-08-23 15:47:17,230 connection.py _safely_send    417 SEND > {"id":"0f677291-9ed8-4460-8da7-88604e74136f","method":"Page.getElementsByXpath","params":{"selector":"/view/biz-index-head/view/view","pageId":75}}
DEBUG 2023-08-23 15:47:17,238 connection.py _on_message     652 RECV < {"id":"0f677291-9ed8-4460-8da7-88604e74136f","result":{"elements":[]}}
DEBUG 2023-08-23 15:47:19,249 connection.py _safely_send    417 SEND > {"id":"10d6c819-a516-4157-b681-7adf6d2458b9","method":"Page.getElementsByXpath","params":{"selector":"/lee-select-city/view/view/view/scroll-view[1]/view/view[2]","pageId":75}}
DEBUG 2023-08-23 15:47:19,254 connection.py _on_message     652 RECV < {"id":"10d6c819-a516-4157-b681-7adf6d2458b9","result":{"elements":[]}}
DEBUG 2023-08-23 15:47:21,260 connection.py _safely_send    417 SEND > {"id":"4cf750f0-15e3-48d4-bed8-373f8be64b5d","method":"Page.getElementsByXpath","params":{"selector":"/lee-select-city/view/view/view/scroll-view[1]/view/lee-latter-list/view/view[1]/view[2]/view[1]","pageId":75}}
DEBUG 2023-08-23 15:47:21,264 connection.py _on_message     652 RECV < {"id":"4cf750f0-15e3-48d4-bed8-373f8be64b5d","result":{"elements":[]}}
DEBUG 2023-08-23 15:47:23,275 connection.py _safely_send    417 SEND > {"id":"e25ed78d-2f9c-43b0-9b58-9f95f353c75f","method":"Page.getElementsByXpath","params":{"selector":"/lee-select-city/view/view[2]/view/scroll-view[2]/view/lee-latter-list/view/view[1]/view[2]/view","pageId":75}}
DEBUG 2023-08-23 15:47:23,280 connection.py _on_message     652 RECV < {"id":"e25ed78d-2f9c-43b0-9b58-9f95f353c75f","result":{"elements":[]}}
