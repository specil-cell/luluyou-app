INFO  2023-08-22 15:17:09,860 minitest.py _miniSetUp      340 =========Current case: test_handle_modal_01=========
INFO  2023-08-22 15:17:09,860 minitest.py _miniSetUp      343 package info: D:.路路游小程序.tests.test_login, case info: TestShouye_1.test_handle_modal_01
INFO  2023-08-22 15:17:09,861 basenative.py wrapper         24  call BaseNative.check_connection
INFO  2023-08-22 15:17:09,861 basenative.py wrapper         28  call BaseNative.check_connection end
INFO  2023-08-22 15:17:09,862 minitest.py capture         686 capture setup.png
INFO  2023-08-22 15:17:09,862 basenative.py wrapper         24  call IdeNative.screen_shot
DEBUG 2023-08-22 15:17:09,862 connection.py _safely_send    417 SEND > {"id":"da761b45-c466-47e2-83c5-e45cf22347bc","method":"App.captureScreenshot","params":{}}
DEBUG 2023-08-22 15:17:10,213 connection.py _on_message     650 RECV < {"id":"da761b45-c466-47e2-83c5-e45cf22347bc","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAawAAAOeCAIAAADQh7N0AAAAAXNSR0IArs4c6QAAIABJREFUeJzsvVlsJEea52lmfnuEx8m4eZ95MlOZSmUqdZWOkkaqY6rrnKkudGPQGGAws/2w+7TA7MMs9mGeFpiXBXYH2EYvpltThR6pSlVdJalSZ+lI5X0zD57JJBkk4748/DTbB89kMUkmkxHJICNI+4FISBEe7uZ2/P377PvMHP6vhIAWBG53AWpl4wUmD/42eFq44ZPXdObGsfECUyiNJkIIa2x3IeqgFYdQTWWuVQQ3flrQHCJI2QIaVM/b3n82FxMAVtvuQtRBK46imspcq67VxPbWXpMI8Y6noa28Y5oPAmAAwFrbXY66aUUp3CC1mo2NOG3j2DFDqPnZ9BbfeW1nAcDi7S5EHThNu/PawwHWfmsb952bhJ3ads...
INFO  2023-08-22 15:17:10,216 basenative.py wrapper         28  call IdeNative.screen_shot end
INFO  2023-08-22 15:17:10,217 minitest.py _miniSetUp      393 =========case: test_handle_modal_01 start=========
DEBUG 2023-08-22 15:17:10,217 connection.py _safely_send    417 SEND > {"id":"6869b262-fe5a-413d-90fe-7c6cccb83966","method":"App.addBinding","params":{"name":"showModal_super_callback"}}
DEBUG 2023-08-22 15:17:10,223 connection.py _on_message     652 RECV < {"id":"6869b262-fe5a-413d-90fe-7c6cccb83966","result":{}}
DEBUG 2023-08-22 15:17:10,235 connection.py _safely_send    417 SEND > {"id":"20335cf7-7d1a-4094-99d1-05e63c88788f","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethod(){var e,_=wx._MINI_WX_PROXY_||wx;_.showModal_MiniumOrigin?e=_.showModal_MiniumOrigin:(e=_.showModal,Object.defineProperty(_,\"showModal_MiniumOrigin\",{configurable:!0,get:()=>e})),Object.defineProperty(_,\"showModal\",{configurable:!0,get:()=>function(..._){var t,n=_[0],$=!1;if(\"showModal\".endsWith(\"Sync\")||n&&(n.success||n.fail||n.complete)||($=!0),\"undefined\"!=typeof showModal_super_before&&showModal_super_before(..._),\"undefined\"!=typeof showModal_super_callback)if($)t=e(..._).then((function(e){return showModal_super_callback(e),e})).catch((function(e){throw showModal_super_callback(e),e}));else{if(n){var o=n.complete;n.complete=function(e){showModal_super_callback(e),o&&o(e)}}t=e(..._)}else t=e(..._);return\"undefined\"!=typeof showModal_super_after&&showModal_super_after(t),t}})}","args":[]}}
DEBUG 2023-08-22 15:17:10,238 connection.py _on_message     652 RECV < {"id":"20335cf7-7d1a-4094-99d1-05e63c88788f","result":{}}
INFO  2023-08-22 15:17:10,240 page.py    _get_elements_by_css 557 try to get elements: text="当前为测试模拟环境，请勿进行真实业务行为!"
DEBUG 2023-08-22 15:17:10,242 connection.py _safely_send    417 SEND > {"id":"9d936037-5907-48fb-a680-46e24de95430","method":"Page.getElements","params":{"selector":"text=\"\u5f53\u524d\u4e3a\u6d4b\u8bd5\u6a21\u62df\u73af\u5883\uff0c\u8bf7\u52ff\u8fdb\u884c\u771f\u5b9e\u4e1a\u52a1\u884c\u4e3a!\"","pageId":1}}
DEBUG 2023-08-22 15:17:10,253 connection.py _on_message     650 RECV < {"id":"9d936037-5907-48fb-a680-46e24de95430","result":{"elements":[{"elementId":"ca1640f8-72e0-4bc1-a9e5-ebb1d3fc4e54","tagName":"text"},{"elementId":"b4ce77ca-a2b1-4c14-9ded-1f2598fa15d8","tagName":"text"},{"elementId":"b6ae5ca1-d1e3-45f4-9068-215be7de9235","tagName":"text"},{"elementId":"0c701bd4-a7a6-4434-94e6-3aa9e731dce3","tagName":"text"},{"elementId":"166e47a2-14a5-44ae-9362-51fb7797b2d7","tagName":"text"},{"elementId":"e2b372f2-d62e-4b3c-a600-63af37631273","tagName":"text"},{"elementId":"7e4c4940...
INFO  2023-08-22 15:17:10,256 page.py    _get_elements_by_css 564 find elements success: [<minium.miniprogram.base_driver.element.BaseElement object at 0x0000020E5E657C70>]
DEBUG 2023-08-22 15:17:10,257 connection.py _safely_send    417 SEND > {"id":"77104b2e-5b5d-4abf-a258-d83e355f613f","method":"Element.tap","params":{"elementId":"ca1640f8-72e0-4bc1-a9e5-ebb1d3fc4e54","pageId":1}}
DEBUG 2023-08-22 15:17:10,417 connection.py _on_message     652 RECV < {"id":"77104b2e-5b5d-4abf-a258-d83e355f613f","result":{}}
DEBUG 2023-08-22 15:17:11,018 connection.py _on_message     652 RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":2,"path":"pages/common/selected_city","query":{},"openType":"navigateTo","__ts__":1692688631001},1692688631003]}}
INFO  2023-08-22 15:17:11,020 app.py     _on_route_changed 845 Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 2, 'path': 'pages/common/selected_city', 'query': {}, 'openType': 'navigateTo', '__ts__': 1692688631001}, 1692688631003]}
DEBUG 2023-08-22 15:17:11,406 connection.py _on_message     650 RECV < {"method":"App.exceptionThrown","params":{"message":"_this.setLocationData is not a function","stack":"TypeError: _this.setLocationData is not a function\n    at Object.success (http://127.0.0.1:28056/appservice/pages/common/selected_city.js?t=wechat&s=1692688411527&v=9645cfe03f84cc02692ef5cb9c6738fb:182:31)\n    at Object.handleData (http://127.0.0.1:28056/appservice/common/vendor.js?t=wechat&s=1692688411527&v=89b5c89f382fa501a7bab0cabe2e6de7:12607:15)\n    at options.success (http://127.0.0.1:28056/app...
INFO  2023-08-22 15:17:12,423 basenative.py wrapper         24  call IdeNative.handle_modal
INFO  2023-08-22 15:17:12,424 basenative.py wrapper         24  call IdeNative.send
DEBUG 2023-08-22 15:17:12,424 connection.py _safely_send    417 SEND > {"id":"0b3ab7db-bdf2-4613-b2a2-4d0989aabbb6","method":"Tool.native","params":{"method":"confirmModal","data":null}}
DEBUG 2023-08-22 15:17:12,428 connection.py _on_message     652 RECV < {"id":"0b3ab7db-bdf2-4613-b2a2-4d0989aabbb6","result":{"error":{"message":"confirmModal failed"}}}
WARNI 2023-08-22 15:17:12,430 idenative.py send            65  handle confirmModal error: confirmModal failed
INFO  2023-08-22 15:17:12,431 basenative.py wrapper         28  call IdeNative.send end
INFO  2023-08-22 15:17:12,431 basenative.py wrapper         27  IdeNative.handle_modal return {'id': '0b3ab7db-bdf2-4613-b2a2-4d0989aabbb6', 'result': {'error': {'message': 'confirmModal failed'}}}
INFO  2023-08-22 15:17:12,432 basenative.py wrapper         28  call IdeNative.handle_modal end
DEBUG 2023-08-22 15:17:14,441 connection.py _safely_send    417 SEND > {"id":"30f0833e-298a-43db-aefb-d03213fb6eb5","method":"Page.getElementsByXpath","params":{"selector":"/lee-select-city/view/view/view/scroll-view[1]/view/lee-latter-list/view/view[1]/view[2]/view[1]","pageId":2}}
DEBUG 2023-08-22 15:17:14,449 connection.py _on_message     652 RECV < {"id":"30f0833e-298a-43db-aefb-d03213fb6eb5","result":{"elements":[{"elementId":"5eb01504-2f69-41ed-8aef-1fc050d08de7","tagName":"view"}]}}
DEBUG 2023-08-22 15:17:14,449 connection.py _safely_send    417 SEND > {"id":"60804162-e8af-4228-bc1c-8249ac0d6d94","method":"Element.getStyles","params":{"names":["pointer-events"],"elementId":"5eb01504-2f69-41ed-8aef-1fc050d08de7","pageId":2}}
DEBUG 2023-08-22 15:17:14,454 connection.py _on_message     652 RECV < {"id":"60804162-e8af-4228-bc1c-8249ac0d6d94","result":{"styles":["auto"]}}
DEBUG 2023-08-22 15:17:14,455 connection.py _safely_send    417 SEND > {"id":"eb30d6b8-ffd8-4c58-860b-22ed0f287959","method":"Element.tap","params":{"elementId":"5eb01504-2f69-41ed-8aef-1fc050d08de7","pageId":2}}
DEBUG 2023-08-22 15:17:14,488 connection.py _on_message     652 RECV < {"id":"eb30d6b8-ffd8-4c58-860b-22ed0f287959","result":{}}
DEBUG 2023-08-22 15:17:17,513 connection.py _safely_send    417 SEND > {"id":"41cce0cd-e026-4c77-8523-4c93d1ef809f","method":"Page.getElementsByXpath","params":{"selector":"/lee-select-city/view/view[2]/view/scroll-view[2]/view/lee-latter-list/view/view[1]/view[2]/view","pageId":2}}
DEBUG 2023-08-22 15:17:17,518 connection.py _on_message     652 RECV < {"id":"41cce0cd-e026-4c77-8523-4c93d1ef809f","result":{"elements":[{"elementId":"5dd472a1-c0ed-4fb6-8f3b-5da3d28e1047","tagName":"view"}]}}
DEBUG 2023-08-22 15:17:17,518 connection.py _safely_send    417 SEND > {"id":"d56295b1-61a3-40a0-855a-7724f60f292b","method":"Element.getStyles","params":{"names":["pointer-events"],"elementId":"5dd472a1-c0ed-4fb6-8f3b-5da3d28e1047","pageId":2}}
DEBUG 2023-08-22 15:17:17,522 connection.py _on_message     652 RECV < {"id":"d56295b1-61a3-40a0-855a-7724f60f292b","result":{"styles":["auto"]}}
DEBUG 2023-08-22 15:17:17,523 connection.py _safely_send    417 SEND > {"id":"75732659-99e3-4866-b34c-9fe29f0b47cc","method":"Element.tap","params":{"elementId":"5dd472a1-c0ed-4fb6-8f3b-5da3d28e1047","pageId":2}}
DEBUG 2023-08-22 15:17:17,576 connection.py _on_message     652 RECV < {"id":"75732659-99e3-4866-b34c-9fe29f0b47cc","result":{}}
DEBUG 2023-08-22 15:17:20,613 minitest.py _miniTearDown   589 =========Current case Down: test_handle_modal_01=========
INFO  2023-08-22 15:17:20,615 minitest.py capture         686 capture teardown.png
INFO  2023-08-22 15:17:20,622 basenative.py wrapper         24  call IdeNative.screen_shot
DEBUG 2023-08-22 15:17:20,622 connection.py _safely_send    417 SEND > {"id":"93b49cdf-c0ef-4a3a-8e04-961bc386641e","method":"App.captureScreenshot","params":{}}
DEBUG 2023-08-22 15:17:20,756 connection.py _on_message     650 RECV < {"id":"93b49cdf-c0ef-4a3a-8e04-961bc386641e","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAawAAANDCAIAAAB+J7yFAAAAAXNSR0IArs4c6QAAIABJREFUeJzs3VlsHedh//3ZZ86+L9x5SIqbqJWyZS2WFadxEjuJEwco2rhL3AZN8b7ogqItUAQFAhRoLtrLtMA/CVK0yZtmqWs7dh3bsaRItixbokRxFUVxEdez7/tsz3sxySn/kmxLFC3Rmt/nypwzq4F888zMc45pQggFAGBKhBDmfp8DAMD9hAgCgKkhggBgaoggAJgaIggApoYIAoCpIYIAYGqIIACYGiIIAKaGCAKAqSGCAGBqiCAAmBoiCACmhggCgKkhggBgatydblBR63VdERneyokfxQkBANxLdzwS1Imu6ZpO6R/F2QAA3GM0flkaAEwLvywNAGaHCAKAqSGCAGBqiCAAmBoiCACmhggCgKkhggBgaoggAJ...
INFO  2023-08-22 15:17:20,761 basenative.py wrapper         28  call IdeNative.screen_shot end
INFO  2023-08-22 15:17:20,763 basenative.py wrapper         24  call BaseNative.get_start_up
INFO  2023-08-22 15:17:20,767 basenative.py wrapper         28  call BaseNative.get_start_up end
