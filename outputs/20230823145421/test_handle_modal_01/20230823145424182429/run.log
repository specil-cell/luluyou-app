INFO  2023-08-23 14:54:24,184 minitest.py _miniSetUp      340 =========Current case: test_handle_modal_01=========
INFO  2023-08-23 14:54:24,185 minitest.py _miniSetUp      343 package info: D:.路路游小程序.tests.test_login, case info: TestShouye_1.test_handle_modal_01
INFO  2023-08-23 14:54:24,185 basenative.py wrapper         24  call BaseNative.check_connection
INFO  2023-08-23 14:54:24,186 basenative.py wrapper         28  call BaseNative.check_connection end
INFO  2023-08-23 14:54:24,186 minitest.py capture         686 capture setup.png
INFO  2023-08-23 14:54:24,187 basenative.py wrapper         24  call IdeNative.screen_shot
DEBUG 2023-08-23 14:54:24,188 connection.py _safely_send    417 SEND > {"id":"923badae-ca41-4749-9202-2b9051816e7c","method":"App.captureScreenshot","params":{}}
DEBUG 2023-08-23 14:54:24,816 connection.py _on_message     650 RECV < {"id":"923badae-ca41-4749-9202-2b9051816e7c","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAawAAAOeCAIAAADQh7N0AAAAAXNSR0IArs4c6QAAIABJREFUeJzsvVdwXEma35vm+DqnLMrAGwIkQbJpu5ttht1sMz1ud8zObu+GdiJGoYeViY1QrB4UerhP90ZIetA+SIpV3BuhVdwr7Uozmp0esz2z7btn2rCbtulBEo4gbKFQvo4/mffhkBgQjqgCCqgi8hcIBlE4lSdPnsz/+b7ML78D/w2loAmBO12Batl4hemDnw0WCzdceFUl14+NV5jBqDdJSjl7pytRA804hKqqc7UiuPFiQWOIIGMbqFM773j/2VocADhzpytRA804iqqqc7W6VhU723oNIsSPPXW9y4/N7YMA2ABw7k7Xo2aaUQo3SLVmYz2KrR+PzRBqfLb8jj9+984FgCM7XYka8G/t43c/fGD1l7Zx37lBeF...
INFO  2023-08-23 14:54:24,818 basenative.py wrapper         28  call IdeNative.screen_shot end
INFO  2023-08-23 14:54:24,819 minitest.py _miniSetUp      393 =========case: test_handle_modal_01 start=========
DEBUG 2023-08-23 14:54:24,819 connection.py _safely_send    417 SEND > {"id":"0bf999b0-f035-4afe-9b42-67537acfb30c","method":"App.addBinding","params":{"name":"showModal_super_callback"}}
DEBUG 2023-08-23 14:54:24,825 connection.py _on_message     652 RECV < {"id":"0bf999b0-f035-4afe-9b42-67537acfb30c","result":{}}
DEBUG 2023-08-23 14:54:24,827 connection.py _safely_send    417 SEND > {"id":"e7864255-5b94-4c1c-b0b4-5e528aded40a","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethod(){var e,_=wx._MINI_WX_PROXY_||wx;_.showModal_MiniumOrigin?e=_.showModal_MiniumOrigin:(e=_.showModal,Object.defineProperty(_,\"showModal_MiniumOrigin\",{configurable:!0,get:()=>e})),Object.defineProperty(_,\"showModal\",{configurable:!0,get:()=>function(..._){var t,n=_[0],$=!1;if(\"showModal\".endsWith(\"Sync\")||n&&(n.success||n.fail||n.complete)||($=!0),\"undefined\"!=typeof showModal_super_before&&showModal_super_before(..._),\"undefined\"!=typeof showModal_super_callback)if($)t=e(..._).then((function(e){return showModal_super_callback(e),e})).catch((function(e){throw showModal_super_callback(e),e}));else{if(n){var o=n.complete;n.complete=function(e){showModal_super_callback(e),o&&o(e)}}t=e(..._)}else t=e(..._);return\"undefined\"!=typeof showModal_super_after&&showModal_super_after(t),t}})}","args":[]}}
DEBUG 2023-08-23 14:54:24,830 connection.py _on_message     652 RECV < {"id":"e7864255-5b94-4c1c-b0b4-5e528aded40a","result":{}}
INFO  2023-08-23 14:54:24,831 page.py    _get_elements_by_css 557 try to get elements: text="当前为测试模拟环境，请勿进行真实业务行为!"
DEBUG 2023-08-23 14:54:24,833 connection.py _safely_send    417 SEND > {"id":"dd1869da-e4cd-411d-a678-e25ea3f7e363","method":"Page.getElements","params":{"selector":"text=\"\u5f53\u524d\u4e3a\u6d4b\u8bd5\u6a21\u62df\u73af\u5883\uff0c\u8bf7\u52ff\u8fdb\u884c\u771f\u5b9e\u4e1a\u52a1\u884c\u4e3a!\"","pageId":10}}
DEBUG 2023-08-23 14:54:24,842 connection.py _on_message     650 RECV < {"id":"dd1869da-e4cd-411d-a678-e25ea3f7e363","result":{"elements":[{"elementId":"871137f6-99f9-4d2e-86e6-6cfe729c92c1","tagName":"text"},{"elementId":"a6ba9f27-86ba-452c-b6af-afafcecfbae4","tagName":"text"},{"elementId":"40353157-39c7-4bf4-ad34-a3b108d672b4","tagName":"text"},{"elementId":"74b8264e-4795-4ab9-b4c2-515a2f258042","tagName":"text"},{"elementId":"e5b1b089-d694-4a7b-a598-0d11132cc220","tagName":"text"},{"elementId":"0d75b9c8-40ba-45fc-83fa-e018c04f1362","tagName":"text"},{"elementId":"22132ed0...
INFO  2023-08-23 14:54:24,843 page.py    _get_elements_by_css 564 find elements success: [<minium.miniprogram.base_driver.element.BaseElement object at 0x000001B80879EC20>]
DEBUG 2023-08-23 14:54:24,844 connection.py _safely_send    417 SEND > {"id":"df453132-77c1-4c1a-a7fe-fdbe4495a36f","method":"Element.tap","params":{"elementId":"871137f6-99f9-4d2e-86e6-6cfe729c92c1","pageId":10}}
DEBUG 2023-08-23 14:54:24,913 connection.py _on_message     652 RECV < {"id":"df453132-77c1-4c1a-a7fe-fdbe4495a36f","result":{}}
DEBUG 2023-08-23 14:54:25,354 connection.py _on_message     652 RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":34,"path":"pages/common/selected_city","query":{},"openType":"navigateTo","__ts__":1692773665335},1692773665336]}}
INFO  2023-08-23 14:54:25,363 app.py     _on_route_changed 845 Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 34, 'path': 'pages/common/selected_city', 'query': {}, 'openType': 'navigateTo', '__ts__': 1692773665335}, 1692773665336]}
DEBUG 2023-08-23 14:54:26,275 connection.py _on_message     650 RECV < {"method":"App.exceptionThrown","params":{"message":"_this.setLocationData is not a function","stack":"TypeError: _this.setLocationData is not a function\n    at Object.success (http://127.0.0.1:29252/appservice/pages/common/selected_city.js?t=wechat&s=1692762371060&v=9645cfe03f84cc02692ef5cb9c6738fb:182:31)\n    at Object.handleData (http://127.0.0.1:29252/appservice/common/vendor.js?t=wechat&s=1692762371060&v=89b5c89f382fa501a7bab0cabe2e6de7:12607:15)\n    at options.success (http://127.0.0.1:29252/app...
INFO  2023-08-23 14:54:26,917 basenative.py wrapper         24  call IdeNative.handle_modal
INFO  2023-08-23 14:54:26,918 basenative.py wrapper         24  call IdeNative.send
DEBUG 2023-08-23 14:54:26,920 connection.py _safely_send    417 SEND > {"id":"dfd96434-f0f5-47c9-8f80-c8c94ca44d15","method":"Tool.native","params":{"method":"confirmModal","data":null}}
DEBUG 2023-08-23 14:54:26,923 connection.py _on_message     652 RECV < {"id":"dfd96434-f0f5-47c9-8f80-c8c94ca44d15","result":{"error":{"message":"confirmModal failed"}}}
WARNI 2023-08-23 14:54:26,924 idenative.py send            65  handle confirmModal error: confirmModal failed
INFO  2023-08-23 14:54:26,925 basenative.py wrapper         28  call IdeNative.send end
INFO  2023-08-23 14:54:26,925 basenative.py wrapper         27  IdeNative.handle_modal return {'id': 'dfd96434-f0f5-47c9-8f80-c8c94ca44d15', 'result': {'error': {'message': 'confirmModal failed'}}}
INFO  2023-08-23 14:54:26,926 basenative.py wrapper         28  call IdeNative.handle_modal end
DEBUG 2023-08-23 14:54:26,926 connection.py _safely_send    417 SEND > {"id":"31daedaa-08d4-4eda-ba6f-c4b7c9f9515f","method":"Page.getElementsByXpath","params":{"selector":"/view/biz-index-head/view/view","pageId":34}}
DEBUG 2023-08-23 14:54:26,935 connection.py _on_message     652 RECV < {"id":"31daedaa-08d4-4eda-ba6f-c4b7c9f9515f","result":{"elements":[]}}
DEBUG 2023-08-23 14:54:28,946 connection.py _safely_send    417 SEND > {"id":"1fafff12-a2bd-4710-8314-1bfa479b0762","method":"Page.getElementsByXpath","params":{"selector":"/lee-select-city/view/view/view/scroll-view[1]/view/view[2]","pageId":34}}
DEBUG 2023-08-23 14:54:28,956 connection.py _on_message     652 RECV < {"id":"1fafff12-a2bd-4710-8314-1bfa479b0762","result":{"elements":[{"elementId":"92311ba6-c069-43f8-b18d-fbc11cb7e415","tagName":"view"}]}}
DEBUG 2023-08-23 14:54:28,957 connection.py _safely_send    417 SEND > {"id":"1ac11105-af7c-4f76-9b8e-f6f007c65406","method":"Element.getStyles","params":{"names":["pointer-events"],"elementId":"92311ba6-c069-43f8-b18d-fbc11cb7e415","pageId":34}}
DEBUG 2023-08-23 14:54:28,962 connection.py _on_message     652 RECV < {"id":"1ac11105-af7c-4f76-9b8e-f6f007c65406","result":{"styles":["auto"]}}
DEBUG 2023-08-23 14:54:28,964 connection.py _safely_send    417 SEND > {"id":"47b6df74-bcbc-4b74-b969-0b5d91af1178","method":"Element.tap","params":{"elementId":"92311ba6-c069-43f8-b18d-fbc11cb7e415","pageId":34}}
DEBUG 2023-08-23 14:54:28,971 connection.py _on_message     652 RECV < {"id":"47b6df74-bcbc-4b74-b969-0b5d91af1178","result":{}}
DEBUG 2023-08-23 14:54:32,001 connection.py _safely_send    417 SEND > {"id":"6a773baa-e6ea-4dba-bb2e-59c2c6a12b50","method":"Page.getElementsByXpath","params":{"selector":"/lee-select-city/view/view/view/scroll-view[1]/view/lee-latter-list/view/view[1]/view[2]/view[1]","pageId":34}}
DEBUG 2023-08-23 14:54:32,009 connection.py _on_message     652 RECV < {"id":"6a773baa-e6ea-4dba-bb2e-59c2c6a12b50","result":{"elements":[{"elementId":"346fe317-51c0-4521-95a0-b45c219ecb3d","tagName":"view"}]}}
DEBUG 2023-08-23 14:54:32,010 connection.py _safely_send    417 SEND > {"id":"785c7f37-923d-4676-adb8-1d34ef1678cb","method":"Element.getStyles","params":{"names":["pointer-events"],"elementId":"346fe317-51c0-4521-95a0-b45c219ecb3d","pageId":34}}
DEBUG 2023-08-23 14:54:32,014 connection.py _on_message     652 RECV < {"id":"785c7f37-923d-4676-adb8-1d34ef1678cb","result":{"styles":["auto"]}}
DEBUG 2023-08-23 14:54:32,015 connection.py _safely_send    417 SEND > {"id":"499bff56-adf0-433c-9a59-7ebf70af0dda","method":"Element.tap","params":{"elementId":"346fe317-51c0-4521-95a0-b45c219ecb3d","pageId":34}}
DEBUG 2023-08-23 14:54:32,057 connection.py _on_message     652 RECV < {"id":"499bff56-adf0-433c-9a59-7ebf70af0dda","result":{}}
DEBUG 2023-08-23 14:54:35,073 connection.py _safely_send    417 SEND > {"id":"4b56039d-0f07-4e1f-a0ef-62766c993eda","method":"Page.getElementsByXpath","params":{"selector":"/lee-select-city/view/view[2]/view/scroll-view[2]/view/lee-latter-list/view/view[1]/view[2]/view","pageId":34}}
DEBUG 2023-08-23 14:54:35,104 connection.py _on_message     652 RECV < {"id":"4b56039d-0f07-4e1f-a0ef-62766c993eda","result":{"elements":[{"elementId":"7efa328d-5159-49d8-a64c-19ee3bc8e5c7","tagName":"view"}]}}
DEBUG 2023-08-23 14:54:35,107 connection.py _safely_send    417 SEND > {"id":"16dd7df3-a4da-43e1-accf-f95493bb481e","method":"Element.getStyles","params":{"names":["pointer-events"],"elementId":"7efa328d-5159-49d8-a64c-19ee3bc8e5c7","pageId":34}}
DEBUG 2023-08-23 14:54:35,113 connection.py _on_message     652 RECV < {"id":"16dd7df3-a4da-43e1-accf-f95493bb481e","result":{"styles":["auto"]}}
DEBUG 2023-08-23 14:54:35,115 connection.py _safely_send    417 SEND > {"id":"f99d9228-0734-4145-907f-95baffe75e4f","method":"Element.tap","params":{"elementId":"7efa328d-5159-49d8-a64c-19ee3bc8e5c7","pageId":34}}
DEBUG 2023-08-23 14:54:35,144 connection.py _on_message     652 RECV < {"id":"f99d9228-0734-4145-907f-95baffe75e4f","result":{}}
DEBUG 2023-08-23 14:54:38,163 minitest.py _miniTearDown   589 =========Current case Down: test_handle_modal_01=========
INFO  2023-08-23 14:54:38,164 minitest.py capture         686 capture teardown.png
INFO  2023-08-23 14:54:38,165 basenative.py wrapper         24  call IdeNative.screen_shot
DEBUG 2023-08-23 14:54:38,165 connection.py _safely_send    417 SEND > {"id":"fe01f871-54be-4d35-86d7-e2566f4b315a","method":"App.captureScreenshot","params":{}}
DEBUG 2023-08-23 14:54:38,324 connection.py _on_message     650 RECV < {"id":"fe01f871-54be-4d35-86d7-e2566f4b315a","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAawAAANDCAIAAAB+J7yFAAAAAXNSR0IArs4c6QAAIABJREFUeJzs3VlsHedh//3ZZ86+L9x5SIqbqJWyZS2WFadxEjuJEwco2rhL3AZN8b7ogqItUAQFAhRoLtrLtMA/CVK0yZtmqWs7dh3bsaRItixbokRxFUVxEdez7/tsz3sxySn/kmxLFC3Rmt/nypwzq4F888zMc45pQggFAGBKhBDmfp8DAMD9hAgCgKkhggBgaoggAJgaIggApoYIAoCpIYIAYGqIIACYGiIIAKaGCAKAqSGCAGBqiCAAmBoiCACmhggCgKkhggBgatydblBR63VdERneyokfxQkBANxLdzwS1Imu6ZpO6R/F2QAA3GM0flkaAEwLvywNAGaHCAKAqSGCAGBqiCAAmBoiCACmhggCgKkhggBgaoggAJ...
INFO  2023-08-23 14:54:38,326 basenative.py wrapper         28  call IdeNative.screen_shot end
INFO  2023-08-23 14:54:38,327 basenative.py wrapper         24  call BaseNative.get_start_up
INFO  2023-08-23 14:54:38,328 basenative.py wrapper         28  call BaseNative.get_start_up end
