INFO  2023-08-22 15:45:23,449 minitest.py _miniSetUp      340 =========Current case: test_handle_modal_01=========
INFO  2023-08-22 15:45:23,449 minitest.py _miniSetUp      343 package info: D:.路路游小程序.tests.test_login, case info: TestShouye_1.test_handle_modal_01
INFO  2023-08-22 15:45:23,450 basenative.py wrapper         24  call BaseNative.check_connection
INFO  2023-08-22 15:45:23,450 basenative.py wrapper         28  call BaseNative.check_connection end
INFO  2023-08-22 15:45:23,451 minitest.py capture         686 capture setup.png
INFO  2023-08-22 15:45:23,451 basenative.py wrapper         24  call IdeNative.screen_shot
DEBUG 2023-08-22 15:45:23,452 connection.py _safely_send    417 SEND > {"id":"fdf091ee-ec22-4741-8f01-8de7d0bcfaef","method":"App.captureScreenshot","params":{}}
DEBUG 2023-08-22 15:45:23,584 connection.py _on_message     650 RECV < {"id":"fdf091ee-ec22-4741-8f01-8de7d0bcfaef","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAawAAANDCAIAAAB+J7yFAAAAAXNSR0IArs4c6QAAIABJREFUeJzs3VlsHedh//3ZZ86+L9x5SIqbqJWyZS2WFadxEjuJEwco2rhL3AZN8b7ogqItUAQFAhRoLtrLtMA/CVK0yZtmqWs7dh3bsaRItixbokRxFUVxEdez7/tsz3sxySn/kmxLFC3Rmt/nypwzq4F888zMc45pQggFAGBKhBDmfp8DAMD9hAgCgKkhggBgaoggAJgaIggApoYIAoCpIYIAYGqIIACYGiIIAKaGCAKAqSGCAGBqiCAAmBoiCACmhggCgKkhggBgatydblBR63VdERneyokfxQkBANxLdzwS1Imu6ZpO6R/F2QAA3GM0flkaAEwLvywNAGaHCAKAqSGCAGBqiCAAmBoiCACmhggCgKkhggBgaoggAJ...
INFO  2023-08-22 15:45:23,586 basenative.py wrapper         28  call IdeNative.screen_shot end
INFO  2023-08-22 15:45:23,586 minitest.py _miniSetUp      393 =========case: test_handle_modal_01 start=========
DEBUG 2023-08-22 15:45:23,587 connection.py _safely_send    417 SEND > {"id":"15e490f1-2252-473f-93ae-bd36275f8c7f","method":"App.addBinding","params":{"name":"showModal_super_callback"}}
DEBUG 2023-08-22 15:45:23,592 connection.py _on_message     652 RECV < {"id":"15e490f1-2252-473f-93ae-bd36275f8c7f","result":{}}
DEBUG 2023-08-22 15:45:23,593 connection.py _safely_send    417 SEND > {"id":"521444cf-fe1a-4b80-81ce-562ecf0632ab","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethod(){var e,_=wx._MINI_WX_PROXY_||wx;_.showModal_MiniumOrigin?e=_.showModal_MiniumOrigin:(e=_.showModal,Object.defineProperty(_,\"showModal_MiniumOrigin\",{configurable:!0,get:()=>e})),Object.defineProperty(_,\"showModal\",{configurable:!0,get:()=>function(..._){var t,n=_[0],$=!1;if(\"showModal\".endsWith(\"Sync\")||n&&(n.success||n.fail||n.complete)||($=!0),\"undefined\"!=typeof showModal_super_before&&showModal_super_before(..._),\"undefined\"!=typeof showModal_super_callback)if($)t=e(..._).then((function(e){return showModal_super_callback(e),e})).catch((function(e){throw showModal_super_callback(e),e}));else{if(n){var o=n.complete;n.complete=function(e){showModal_super_callback(e),o&&o(e)}}t=e(..._)}else t=e(..._);return\"undefined\"!=typeof showModal_super_after&&showModal_super_after(t),t}})}","args":[]}}
DEBUG 2023-08-22 15:45:23,596 connection.py _on_message     652 RECV < {"id":"521444cf-fe1a-4b80-81ce-562ecf0632ab","result":{}}
DEBUG 2023-08-22 15:45:23,596 connection.py _safely_send    417 SEND > {"id":"5dd73534-c920-445a-b4e7-58a3aee26383","method":"App.getCurrentPage","params":{}}
DEBUG 2023-08-22 15:45:23,599 connection.py _on_message     652 RECV < {"id":"5dd73534-c920-445a-b4e7-58a3aee26383","result":{"pageId":11,"path":"pages/common/selected_city","query":{}}}
INFO  2023-08-22 15:45:23,601 page.py    _get_elements_by_css 557 try to get elements: text="当前为测试模拟环境，请勿进行真实业务行为!"
DEBUG 2023-08-22 15:45:23,601 connection.py _safely_send    417 SEND > {"id":"0ea6acaa-532c-4b2d-8a25-5066bb917c4f","method":"Page.getElements","params":{"selector":"text=\"\u5f53\u524d\u4e3a\u6d4b\u8bd5\u6a21\u62df\u73af\u5883\uff0c\u8bf7\u52ff\u8fdb\u884c\u771f\u5b9e\u4e1a\u52a1\u884c\u4e3a!\"","pageId":11}}
DEBUG 2023-08-22 15:45:23,615 connection.py _on_message     650 RECV < {"id":"0ea6acaa-532c-4b2d-8a25-5066bb917c4f","result":{"elements":[{"elementId":"f495c9bf-96ce-4b93-a456-61c483fb6ec3","tagName":"text"},{"elementId":"6390734f-e41f-44ed-92fa-b11644ff1d1a","tagName":"text"},{"elementId":"065ea05c-b62b-4a63-83df-f63cd85ef52c","tagName":"text"},{"elementId":"b872ad0b-9135-4674-8c14-6ed586828fd9","tagName":"text"},{"elementId":"d749c00e-c8fc-488d-9c78-09ed8cbe70c7","tagName":"text"},{"elementId":"f0a9ef83-da7f-4adb-b795-b6a62c9d45a2","tagName":"text"},{"elementId":"81d5157d...
INFO  2023-08-22 15:45:23,617 page.py    _get_elements_by_css 564 find elements success: [<minium.miniprogram.base_driver.element.BaseElement object at 0x00000286826B7E20>]
DEBUG 2023-08-22 15:45:23,617 connection.py _safely_send    417 SEND > {"id":"587d69c8-7c5c-4e78-a4f1-db383b912f61","method":"Element.tap","params":{"elementId":"f495c9bf-96ce-4b93-a456-61c483fb6ec3","pageId":11}}
DEBUG 2023-08-22 15:45:23,622 connection.py _on_message     652 RECV < {"id":"587d69c8-7c5c-4e78-a4f1-db383b912f61","result":{}}
DEBUG 2023-08-22 15:45:24,252 connection.py _on_message     652 RECV < {"method":"App.bindingCalled","params":{"name":"showModal_super_callback","args":[{"errMsg":"showModal:ok","cancel":true,"confirm":false}]}}
DEBUG 2023-08-22 15:45:24,254 app.py     super_callback  971 wx.showModal callback hook result: [{'errMsg': 'showModal:ok', 'cancel': True, 'confirm': False}]
DEBUG 2023-08-22 15:45:25,130 connection.py _on_message     652 RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":1,"path":"pages/index/index","query":{},"openType":"navigateBack","__ts__":1692690325128},1692690325129]}}
INFO  2023-08-22 15:45:25,132 app.py     _on_route_changed 845 Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 1, 'path': 'pages/index/index', 'query': {}, 'openType': 'navigateBack', '__ts__': 1692690325128}, 1692690325129]}
DEBUG 2023-08-22 15:45:25,167 connection.py _on_message     652 RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":1,"path":"pages/index/index","query":{},"openType":"navigateBack","__ts__":1692690325161},1692690325162]}}
INFO  2023-08-22 15:45:25,169 app.py     _on_route_changed 845 Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 1, 'path': 'pages/index/index', 'query': {}, 'openType': 'navigateBack', '__ts__': 1692690325161}, 1692690325162]}
INFO  2023-08-22 15:45:25,631 basenative.py wrapper         24  call IdeNative.handle_modal
INFO  2023-08-22 15:45:25,632 basenative.py wrapper         24  call IdeNative.send
DEBUG 2023-08-22 15:45:25,633 connection.py _safely_send    417 SEND > {"id":"117e1c62-51ec-4b6c-9c16-195b4f4f531f","method":"Tool.native","params":{"method":"confirmModal","data":null}}
DEBUG 2023-08-22 15:45:25,634 connection.py _on_message     652 RECV < {"id":"117e1c62-51ec-4b6c-9c16-195b4f4f531f","result":{"error":{"message":"confirmModal failed"}}}
WARNI 2023-08-22 15:45:25,634 idenative.py send            65  handle confirmModal error: confirmModal failed
INFO  2023-08-22 15:45:25,635 basenative.py wrapper         28  call IdeNative.send end
INFO  2023-08-22 15:45:25,636 basenative.py wrapper         27  IdeNative.handle_modal return {'id': '117e1c62-51ec-4b6c-9c16-195b4f4f531f', 'result': {'error': {'message': 'confirmModal failed'}}}
INFO  2023-08-22 15:45:25,636 basenative.py wrapper         28  call IdeNative.handle_modal end
DEBUG 2023-08-22 15:45:25,637 connection.py _safely_send    417 SEND > {"id":"8b6aedc9-db7e-47ae-828d-413697821e32","method":"Page.getElementsByXpath","params":{"selector":"/view/biz-index-head/view/view","pageId":1}}
DEBUG 2023-08-22 15:45:25,642 connection.py _on_message     652 RECV < {"id":"8b6aedc9-db7e-47ae-828d-413697821e32","result":{"elements":[{"elementId":"0f542e74-cb66-41a6-a27c-f50fce920e2c","tagName":"view"}]}}
DEBUG 2023-08-22 15:45:25,643 connection.py _safely_send    417 SEND > {"id":"a1929166-8962-40d5-88a0-fac70609cb64","method":"Element.getStyles","params":{"names":["pointer-events"],"elementId":"0f542e74-cb66-41a6-a27c-f50fce920e2c","pageId":1}}
DEBUG 2023-08-22 15:45:25,647 connection.py _on_message     652 RECV < {"id":"a1929166-8962-40d5-88a0-fac70609cb64","result":{"styles":["auto"]}}
DEBUG 2023-08-22 15:45:25,648 connection.py _safely_send    417 SEND > {"id":"cf71e09d-cac2-46de-90e4-5ba2bd953030","method":"Element.tap","params":{"elementId":"0f542e74-cb66-41a6-a27c-f50fce920e2c","pageId":1}}
DEBUG 2023-08-22 15:45:25,705 connection.py _on_message     652 RECV < {"id":"cf71e09d-cac2-46de-90e4-5ba2bd953030","result":{}}
DEBUG 2023-08-22 15:45:26,180 connection.py _on_message     652 RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":12,"path":"pages/common/selected_city","query":{},"openType":"navigateTo","__ts__":1692690326159},1692690326161]}}
INFO  2023-08-22 15:45:26,183 app.py     _on_route_changed 845 Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 12, 'path': 'pages/common/selected_city', 'query': {}, 'openType': 'navigateTo', '__ts__': 1692690326159}, 1692690326161]}
DEBUG 2023-08-22 15:45:26,493 connection.py _on_message     650 RECV < {"method":"App.exceptionThrown","params":{"message":"_this.setLocationData is not a function","stack":"TypeError: _this.setLocationData is not a function\n    at Object.success (http://127.0.0.1:28056/appservice/pages/common/selected_city.js?t=wechat&s=1692688411527&v=9645cfe03f84cc02692ef5cb9c6738fb:182:31)\n    at Object.handleData (http://127.0.0.1:28056/appservice/common/vendor.js?t=wechat&s=1692688411527&v=89b5c89f382fa501a7bab0cabe2e6de7:12607:15)\n    at options.success (http://127.0.0.1:28056/app...
DEBUG 2023-08-22 15:45:28,719 connection.py _safely_send    417 SEND > {"id":"f8be3f42-631f-4b2b-8638-f54a30711109","method":"Page.getElementsByXpath","params":{"selector":"/lee-select-city/view/view/view/scroll-view[1]/view/view[2]","pageId":12}}
DEBUG 2023-08-22 15:45:28,727 connection.py _on_message     652 RECV < {"id":"f8be3f42-631f-4b2b-8638-f54a30711109","result":{"elements":[{"elementId":"22d40338-349e-4d0b-865d-ad96b798e777","tagName":"view"}]}}
DEBUG 2023-08-22 15:45:28,729 connection.py _safely_send    417 SEND > {"id":"ad30eda6-bf96-4287-933a-ace323d46db1","method":"Element.getStyles","params":{"names":["pointer-events"],"elementId":"22d40338-349e-4d0b-865d-ad96b798e777","pageId":12}}
DEBUG 2023-08-22 15:45:28,733 connection.py _on_message     652 RECV < {"id":"ad30eda6-bf96-4287-933a-ace323d46db1","result":{"styles":["auto"]}}
DEBUG 2023-08-22 15:45:28,733 connection.py _safely_send    417 SEND > {"id":"3f629e43-82ca-4983-bc21-386db6a463ba","method":"Element.tap","params":{"elementId":"22d40338-349e-4d0b-865d-ad96b798e777","pageId":12}}
DEBUG 2023-08-22 15:45:28,740 connection.py _on_message     652 RECV < {"id":"3f629e43-82ca-4983-bc21-386db6a463ba","result":{}}
DEBUG 2023-08-22 15:45:31,747 connection.py _safely_send    417 SEND > {"id":"3b4b94f7-972e-44f3-922d-bdd3bc0c0cd7","method":"Page.getElementsByXpath","params":{"selector":"/lee-select-city/view/view/view/scroll-view[1]/view/lee-latter-list/view/view[1]/view[2]/view[1]","pageId":12}}
DEBUG 2023-08-22 15:45:31,751 connection.py _on_message     652 RECV < {"id":"3b4b94f7-972e-44f3-922d-bdd3bc0c0cd7","result":{"elements":[{"elementId":"e33e546a-90ee-43b5-b4c8-8b7e7de9672a","tagName":"view"}]}}
DEBUG 2023-08-22 15:45:31,752 connection.py _safely_send    417 SEND > {"id":"82e663a9-b0f5-41c5-86e8-44ce341b9164","method":"Element.getStyles","params":{"names":["pointer-events"],"elementId":"e33e546a-90ee-43b5-b4c8-8b7e7de9672a","pageId":12}}
DEBUG 2023-08-22 15:45:31,755 connection.py _on_message     652 RECV < {"id":"82e663a9-b0f5-41c5-86e8-44ce341b9164","result":{"styles":["auto"]}}
DEBUG 2023-08-22 15:45:31,756 connection.py _safely_send    417 SEND > {"id":"147bcebf-af11-44c9-a4b5-046cbcb070b2","method":"Element.tap","params":{"elementId":"e33e546a-90ee-43b5-b4c8-8b7e7de9672a","pageId":12}}
DEBUG 2023-08-22 15:45:31,772 connection.py _on_message     652 RECV < {"id":"147bcebf-af11-44c9-a4b5-046cbcb070b2","result":{}}
DEBUG 2023-08-22 15:45:34,790 connection.py _safely_send    417 SEND > {"id":"035ece26-5e37-4248-8e16-310f1b6c0130","method":"Page.getElementsByXpath","params":{"selector":"/lee-select-city/view/view[2]/view/scroll-view[2]/view/lee-latter-list/view/view[1]/view[2]/view","pageId":12}}
DEBUG 2023-08-22 15:45:34,796 connection.py _on_message     652 RECV < {"id":"035ece26-5e37-4248-8e16-310f1b6c0130","result":{"elements":[{"elementId":"e089a71b-fb97-4a43-b91b-af6d642116ff","tagName":"view"}]}}
DEBUG 2023-08-22 15:45:34,797 connection.py _safely_send    417 SEND > {"id":"0bc590d2-29bd-4bcd-b489-c3454e7f4bd2","method":"Element.getStyles","params":{"names":["pointer-events"],"elementId":"e089a71b-fb97-4a43-b91b-af6d642116ff","pageId":12}}
DEBUG 2023-08-22 15:45:34,800 connection.py _on_message     652 RECV < {"id":"0bc590d2-29bd-4bcd-b489-c3454e7f4bd2","result":{"styles":["auto"]}}
DEBUG 2023-08-22 15:45:34,801 connection.py _safely_send    417 SEND > {"id":"60a24595-ceb4-4b22-aaf0-b373b60a4882","method":"Element.tap","params":{"elementId":"e089a71b-fb97-4a43-b91b-af6d642116ff","pageId":12}}
DEBUG 2023-08-22 15:45:34,818 connection.py _on_message     652 RECV < {"id":"60a24595-ceb4-4b22-aaf0-b373b60a4882","result":{}}
DEBUG 2023-08-22 15:45:37,835 minitest.py _miniTearDown   589 =========Current case Down: test_handle_modal_01=========
INFO  2023-08-22 15:45:37,836 minitest.py capture         686 capture teardown.png
INFO  2023-08-22 15:45:37,837 basenative.py wrapper         24  call IdeNative.screen_shot
DEBUG 2023-08-22 15:45:37,837 connection.py _safely_send    417 SEND > {"id":"36103cc8-374d-4047-84f8-939bb5e55507","method":"App.captureScreenshot","params":{}}
DEBUG 2023-08-22 15:45:37,919 connection.py _on_message     650 RECV < {"id":"36103cc8-374d-4047-84f8-939bb5e55507","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAawAAANDCAIAAAB+J7yFAAAAAXNSR0IArs4c6QAAIABJREFUeJzs3VlsHedh//3ZZ86+L9x5SIqbqJWyZS2WFadxEjuJEwco2rhL3AZN8b7ogqItUAQFAhRoLtrLtMA/CVK0yZtmqWs7dh3bsaRItixbokRxFUVxEdez7/tsz3sxySn/kmxLFC3Rmt/nypwzq4F888zMc45pQggFAGBKhBDmfp8DAMD9hAgCgKkhggBgaoggAJgaIggApoYIAoCpIYIAYGqIIACYGiIIAKaGCAKAqSGCAGBqiCAAmBoiCACmhggCgKkhggBgatydblBR63VdERneyokfxQkBANxLdzwS1Imu6ZpO6R/F2QAA3GM0flkaAEwLvywNAGaHCAKAqSGCAGBqiCAAmBoiCACmhggCgKkhggBgaoggAJ...
INFO  2023-08-22 15:45:37,921 basenative.py wrapper         28  call IdeNative.screen_shot end
INFO  2023-08-22 15:45:37,922 basenative.py wrapper         24  call BaseNative.get_start_up
INFO  2023-08-22 15:45:37,923 basenative.py wrapper         28  call BaseNative.get_start_up end
