{"uid":"1b76818d58733469","name":"test_handle_modal_02","fullName":"tests.test_login.TestShouye_1#test_handle_modal_02","historyId":"7abd7a93bab5bfa766ecb9cf8ce4c3d4","time":{"start":1692690337935,"stop":1692690340663,"duration":2728},"status":"broken","statusMessage":"minium.framework.exception.MiniCommandError: Failed to execute 'querySelectorAll' on 'Document': The provided selector is empty.","statusTrace":"self = <tests.test_login.TestShouye_1 testMethod=test_handle_modal_02>\n\n    def test_handle_modal_02(self):\n        callback = Callback()  # 监听回调, 阻塞当前主线程\n    \n        # 监听showModal回调, 确认由弹窗弹出\n        self.app.hook_wx_method(\"showModal\", callback=callback.callback)\n        self.page.get_element('text=\"安徽省-安庆市!\"').tap()  # 触发弹窗\n        time.sleep(2)\n        self.native.handle_modal(\"确定\")  # 点击弹窗的\"确定\"按钮\n        # 确认选择\n>       elements = self.page.get_elements(\n            '')\n\ntests\\test_login.py:80: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\nD:\\software\\python-3.10.10\\lib\\site-packages\\minium\\miniprogram\\base_driver\\app.py:214: in wrapper\n    return func(*args, **kwargs)\nD:\\software\\python-3.10.10\\lib\\site-packages\\minium\\miniprogram\\base_driver\\minium_log.py:172: in wrapper\n    result = func(*args, **kwargs)\nD:\\software\\python-3.10.10\\lib\\site-packages\\minium\\miniprogram\\base_driver\\page.py:398: in get_elements\n    return filter_elements()\nD:\\software\\python-3.10.10\\lib\\site-packages\\minium\\utils\\utils.py:56: in wrapper\n    r = func(*args, **kwargs)\nD:\\software\\python-3.10.10\\lib\\site-packages\\minium\\miniprogram\\base_driver\\page.py:384: in filter_elements\n    elements = self._get_elements_by_css(selector, max_timeout, index=-1)\nD:\\software\\python-3.10.10\\lib\\site-packages\\minium\\miniprogram\\base_driver\\page.py:560: in _get_elements_by_css\n    els = search_elements(_selector_list)\nD:\\software\\python-3.10.10\\lib\\site-packages\\minium\\utils\\utils.py:56: in wrapper\n    r = func(*args, **kwargs)\nD:\\software\\python-3.10.10\\lib\\site-packages\\minium\\miniprogram\\base_driver\\page.py:553: in search_elements\n    return self.__search_child(\nD:\\software\\python-3.10.10\\lib\\site-packages\\minium\\miniprogram\\base_driver\\page.py:517: in __search_child\n    els = self.__get_elements(_selector)\nD:\\software\\python-3.10.10\\lib\\site-packages\\minium\\utils\\utils.py:82: in wrapper\n    ret = func(*args, **kwargs)\nD:\\software\\python-3.10.10\\lib\\site-packages\\minium\\miniprogram\\base_driver\\page.py:495: in __get_elements\n    ret = self._send(\"Page.getElements\", {\"selector\": selector})\nD:\\software\\python-3.10.10\\lib\\site-packages\\minium\\miniprogram\\base_driver\\page.py:488: in _send\n    self.connection.send(method, params)\nD:\\software\\python-3.10.10\\lib\\site-packages\\minium\\miniprogram\\base_driver\\connection.py:447: in send\n    return self._receive_response(cmd)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <minium.miniprogram.base_driver.connection.Connection object at 0x00000286826B6DD0>\ncmd = <minium.miniprogram.base_driver.connection.Command object at 0x000002868272D630>\n\n    def _receive_response(self, cmd: Command):\n        # 等待接收到message的通知\n        while cmd.max_timeout > 0:\n            self._wait(cmd)\n    \n            if (\n                cmd.id in self._sync_wait_map\n                and self._sync_wait_map[cmd.id] is not None\n            ):  # 获取到了数据\n                response = self._sync_wait_map.pop(cmd.id)\n                if isinstance(response, MiniAppError):\n>                   raise response\nE                   minium.framework.exception.MiniCommandError: Failed to execute 'querySelectorAll' on 'Document': The provided selector is empty.\n\nD:\\software\\python-3.10.10\\lib\\site-packages\\minium\\miniprogram\\base_driver\\connection.py:473: MiniCommandError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_unittest_setUpClass_fixture_TestShouye_1","time":{"start":1692690321788,"stop":1692690323445,"duration":1657},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"shouldDisplayMessage":false,"stepsCount":0,"hasContent":false}],"afterStages":[{"name":"_unittest_setUpClass_fixture_TestShouye_1::0","time":{"start":1692690344915,"stop":1692690344915,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"shouldDisplayMessage":false,"stepsCount":0,"hasContent":false}],"labels":[{"name":"suite","value":"首页"},{"name":"feature","value":"粮油副食"},{"name":"parentSuite","value":"tests"},{"name":"subSuite","value":"TestShouye_1"},{"name":"host","value":"LAPTOP-7PGH1LS0"},{"name":"thread","value":"19436-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_login"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":[]},"source":"1b76818d58733469.json","parameterValues":[]}