{"uid":"3c1abf8452ea8ea4","name":"test_liangyou","fullName":"tests.test_login.TestShouye_1#test_liangyou","historyId":"102774bc3e8420d71055a6e0f8cf3bdc","time":{"start":1692349583297,"stop":1692349583297,"duration":0},"status":"broken","statusMessage":"minium.framework.exception.MiniLaunchError: Error: Failed to fetch (code 10)","statusTrace":"cls = <class 'tests.test_login.TestShouye_1'>\n\n    @classmethod\n    def setUpClass(cls) -> None:\n        if not getattr(cls, \"__is_minitest_suite__\", False):\n            _miniClassSetUp = getattr(cls, \"_miniClassSetUp\", None)\n            if _miniClassSetUp:\n>               _miniClassSetUp()\n\nD:\\software\\python-3.10.10\\lib\\site-packages\\minium\\framework\\assertbase.py:172: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\nD:\\software\\python-3.10.10\\lib\\site-packages\\minium\\framework\\minitest.py:255: in _miniClassSetUp\n    native, mini, miniprogram = init_miniprogram(cls.CONFIG)\nD:\\software\\python-3.10.10\\lib\\site-packages\\minium\\framework\\minitest.py:146: in init_miniprogram\n    mini = get_minium(cfg)\nD:\\software\\python-3.10.10\\lib\\site-packages\\minium\\framework\\minitest.py:111: in get_minium\n    g_minium = minium.miniprogram.get_minium_driver(conf=cfg, native=g_native)\nD:\\software\\python-3.10.10\\lib\\site-packages\\minium\\miniprogram\\__init__.py:28: in get_minium_driver\n    return APP[application](conf, *args, **kwargs)\nD:\\software\\python-3.10.10\\lib\\site-packages\\minium\\miniprogram\\wx_minium.py:117: in __init__\n    self.launch_weapp()\nD:\\software\\python-3.10.10\\lib\\site-packages\\minium\\miniprogram\\base_driver\\minium_log.py:172: in wrapper\n    result = func(*args, **kwargs)\nD:\\software\\python-3.10.10\\lib\\site-packages\\minium\\miniprogram\\wx_minium.py:462: in launch_weapp\n    self.launch_dev_tool()\nD:\\software\\python-3.10.10\\lib\\site-packages\\minium\\miniprogram\\base_driver\\minium_log.py:172: in wrapper\n    result = func(*args, **kwargs)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <minium.miniprogram.wx_minium.WXMinium object at 0x000002566A0F1060>\n\n    def launch_dev_tool(self):\n        # start dev tool with minium model\n        self.logger.info(\"Starting dev tool and launch MiniProgram project ...\")\n        is_port_in_use = False\n        if self.project_path:\n            if not os.path.exists(self.project_path):\n                raise MiniConfigError(\"project_path: %s not exists\" % self.project_path)\n            if not os.path.isdir(self.project_path):\n                raise MiniConfigError(\n                    \"project_path: %s is not directory\" % self.project_path\n                )\n            if not os.path.isfile(\n                os.path.join(self.project_path, \"project.config.json\")\n            ):\n                raise MiniConfigError(\n                    \"can't find project.config.json in %s, please confirm the directory contains\"\n                    \" miniproject project\" % self.project_path\n                )\n            self.__update_project_config()\n            # config start cmd\n            self.start_cmd = 'auto --project \"%s\" --auto-port %s' % (\n                self.project_path,\n                self.test_port,\n            )\n            if self.open_id:\n                self.start_cmd += f\" --auto-account {self.open_id}\"\n            elif self.ticket:\n                self.start_cmd += f\" --test-ticket {self.ticket}\"\n            # run cmd\n            err_msg = self._dev_cli(self.start_cmd, input=b\"y\")\n            if err_msg:\n                # launch error\n                if \"Port %s is in use\" % self.test_port in err_msg:\n                    # 开发者工具可能已经打开并占用了测试端口, 可直接尝试连接\n                    is_port_in_use = True\n                else:\n                    # 其他错误直接报错看看什么问题\n>                   raise MiniLaunchError(err_msg)\nE                   minium.framework.exception.MiniLaunchError: Error: Failed to fetch (code 10)\n\nD:\\software\\python-3.10.10\\lib\\site-packages\\minium\\miniprogram\\wx_minium.py:600: MiniLaunchError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_unittest_setUpClass_fixture_TestShouye_1","time":{"start":1692349583298,"stop":1692349598022,"duration":14724},"status":"broken","statusMessage":"minium.framework.exception.MiniLaunchError: Error: Failed to fetch (code 10)\n","statusTrace":"  File \"D:\\software\\python-3.10.10\\lib\\site-packages\\pluggy\\_callers.py\", line 39, in _multicall\n    res = hook_impl.function(*args)\n  File \"D:\\software\\python-3.10.10\\lib\\site-packages\\_pytest\\fixtures.py\", line 1130, in pytest_fixture_setup\n    result = call_fixture_func(fixturefunc, request, kwargs)\n  File \"D:\\software\\python-3.10.10\\lib\\site-packages\\_pytest\\fixtures.py\", line 902, in call_fixture_func\n    fixture_result = next(generator)\n  File \"D:\\software\\python-3.10.10\\lib\\site-packages\\_pytest\\unittest.py\", line 157, in fixture\n    setup()\n  File \"D:\\software\\python-3.10.10\\lib\\site-packages\\minium\\framework\\assertbase.py\", line 172, in setUpClass\n    _miniClassSetUp()\n  File \"D:\\software\\python-3.10.10\\lib\\site-packages\\minium\\framework\\minitest.py\", line 255, in _miniClassSetUp\n    native, mini, miniprogram = init_miniprogram(cls.CONFIG)\n  File \"D:\\software\\python-3.10.10\\lib\\site-packages\\minium\\framework\\minitest.py\", line 146, in init_miniprogram\n    mini = get_minium(cfg)\n  File \"D:\\software\\python-3.10.10\\lib\\site-packages\\minium\\framework\\minitest.py\", line 111, in get_minium\n    g_minium = minium.miniprogram.get_minium_driver(conf=cfg, native=g_native)\n  File \"D:\\software\\python-3.10.10\\lib\\site-packages\\minium\\miniprogram\\__init__.py\", line 28, in get_minium_driver\n    return APP[application](conf, *args, **kwargs)\n  File \"D:\\software\\python-3.10.10\\lib\\site-packages\\minium\\miniprogram\\wx_minium.py\", line 117, in __init__\n    self.launch_weapp()\n  File \"D:\\software\\python-3.10.10\\lib\\site-packages\\minium\\miniprogram\\base_driver\\minium_log.py\", line 172, in wrapper\n    result = func(*args, **kwargs)\n  File \"D:\\software\\python-3.10.10\\lib\\site-packages\\minium\\miniprogram\\wx_minium.py\", line 462, in launch_weapp\n    self.launch_dev_tool()\n  File \"D:\\software\\python-3.10.10\\lib\\site-packages\\minium\\miniprogram\\base_driver\\minium_log.py\", line 172, in wrapper\n    result = func(*args, **kwargs)\n  File \"D:\\software\\python-3.10.10\\lib\\site-packages\\minium\\miniprogram\\wx_minium.py\", line 600, in launch_dev_tool\n    raise MiniLaunchError(err_msg)\n","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"shouldDisplayMessage":true,"stepsCount":0,"hasContent":true}],"afterStages":[],"labels":[{"name":"suite","value":"首页"},{"name":"feature","value":"粮油副食"},{"name":"parentSuite","value":"tests"},{"name":"subSuite","value":"TestShouye_1"},{"name":"host","value":"LAPTOP-7PGH1LS0"},{"name":"thread","value":"11704-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_login"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":[]},"source":"3c1abf8452ea8ea4.json","parameterValues":[]}